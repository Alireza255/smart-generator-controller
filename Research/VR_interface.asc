Version 4
SHEET 1 880 788
WIRE 224 32 224 16
WIRE 336 32 336 16
WIRE 576 80 576 64
WIRE 64 160 32 160
WIRE 96 160 64 160
WIRE 224 160 224 96
WIRE 224 160 176 160
WIRE 256 160 224 160
WIRE 336 160 336 112
WIRE 336 160 320 160
WIRE 496 160 336 160
WIRE -352 176 -352 160
WIRE 64 176 64 160
WIRE 224 176 224 160
WIRE 576 176 576 160
WIRE 576 176 560 176
WIRE 496 192 416 192
WIRE 576 224 576 176
WIRE -352 272 -352 256
WIRE 64 272 64 240
WIRE 224 272 224 240
WIRE -288 336 -352 336
WIRE 576 336 576 304
WIRE 576 336 496 336
WIRE -352 352 -352 336
WIRE 224 368 224 352
WIRE 304 368 288 368
WIRE 416 368 416 192
WIRE 416 368 384 368
WIRE 448 368 416 368
WIRE 576 368 576 336
WIRE 576 368 528 368
WIRE 96 384 96 368
WIRE 160 416 128 416
WIRE -352 464 -352 432
WIRE 224 480 224 464
WIRE 288 480 288 368
WIRE 288 480 224 480
WIRE 96 496 96 464
WIRE 224 496 224 480
WIRE -352 560 -352 544
WIRE 224 592 224 576
FLAG 64 272 0
FLAG -352 560 0
FLAG -352 272 0
FLAG -352 160 V+
FLAG -288 336 VSENSOR
IOPIN -288 336 Out
FLAG -48 160 VSENSOR
IOPIN -48 160 In
FLAG 224 272 0
FLAG 224 16 V+
FLAG 528 144 V+
FLAG 528 208 0
FLAG 576 64 V+
FLAG 336 16 V+
FLAG 96 368 V+
FLAG 224 352 V+
FLAG 224 592 0
FLAG 96 496 0
SYMBOL res -64 176 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R1
SYMATTR Value 10K
SYMATTR SpiceLine tol=5 pwr=0.25
SYMBOL cap 48 176 R0
SYMATTR InstName C1
SYMATTR Value 1n
SYMBOL res 80 176 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R3
SYMATTR Value 10K
SYMATTR SpiceLine tol=5 pwr=0.25
SYMBOL voltage -352 448 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 10 100)
SYMBOL voltage -352 160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 5V
SYMBOL voltage -352 336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value SINE(0 0.5 10k)
SYMBOL diode 240 240 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode 240 96 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL ZZZ\\Comparator\\lm393 528 176 R0
SYMATTR InstName U1
SYMBOL res 560 64 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMATTR SpiceLine tol=5 pwr=0.25
SYMBOL diode 320 144 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL res 320 16 R0
SYMATTR InstName R4
SYMATTR Value 1Meg
SYMATTR SpiceLine tol=5 pwr=0.25
SYMBOL pot_ 112 368 M0
SYMATTR InstName U2
SYMATTR Value2 wiper=.16
SYMBOL npn 160 368 R0
SYMATTR InstName Q1
SYMATTR Value BC547C
SYMBOL res 208 480 R0
SYMATTR InstName R5
SYMATTR Value 4.7K
SYMATTR SpiceLine tol=5 pwr=0.25
SYMBOL res 592 320 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R7
SYMATTR Value 10K
SYMATTR SpiceLine tol=5 pwr=0.25
SYMBOL pot_ 544 352 R90
SYMATTR InstName U3
SYMATTR Value Rtot=100K
SYMATTR Value2 wiper=.1
SYMBOL res 400 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 10K
SYMATTR SpiceLine tol=5 pwr=0.25
TEXT -298 64 Left 2 !.tran 0.02
