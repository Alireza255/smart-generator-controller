ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"sensors.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "controller/IO/sensors.c"
  20              		.section	.rodata.sensor_tps_get.str1.4,"aMS",%progbits,1
  21              		.align	2
  22              	.LC3:
  23 0000 74707320 		.ascii	"tps is null\000"
  23      6973206E 
  23      756C6C00 
  24              		.section	.text.sensor_tps_get,"ax",%progbits
  25              		.align	1
  26              		.global	sensor_tps_get
  27              		.syntax unified
  28              		.thumb
  29              		.thumb_func
  31              	sensor_tps_get:
  32              	.LVL0:
  33              	.LFB232:
   1:controller/IO/sensors.c **** #include "sensors.h"
   2:controller/IO/sensors.c **** 
   3:controller/IO/sensors.c **** static sensor_map_t *map_sensor = NULL;
   4:controller/IO/sensors.c **** static thermistor_t *sensor_iat = NULL;
   5:controller/IO/sensors.c **** static thermistor_t *sensor_clt = NULL;
   6:controller/IO/sensors.c **** static sensor_ops_t *sensor_ops = NULL;
   7:controller/IO/sensors.c **** 
   8:controller/IO/sensors.c **** percent_t sensor_tps_get(sensor_tps_t *sensor)
   9:controller/IO/sensors.c **** {
  34              		.loc 1 9 1 view -0
  35              		.cfi_startproc
  36              		@ args = 0, pretend = 0, frame = 0
  37              		@ frame_needed = 0, uses_anonymous_args = 0
  38              		.loc 1 9 1 is_stmt 0 view .LVU1
  39 0000 10B5     		push	{r4, lr}
  40              		.cfi_def_cfa_offset 8
  41              		.cfi_offset 4, -8
  42              		.cfi_offset 14, -4
  10:controller/IO/sensors.c ****     if (sensor == NULL)
  43              		.loc 1 10 5 is_stmt 1 view .LVU2
  44              		.loc 1 10 8 is_stmt 0 view .LVU3
  45 0002 0028     		cmp	r0, #0
  46 0004 43D0     		beq	.L16
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 2


  47 0006 0446     		mov	r4, r0
  11:controller/IO/sensors.c ****     {
  12:controller/IO/sensors.c ****         log_error("tps is null");
  13:controller/IO/sensors.c ****         return SENSOR_TPS_FAIL_SAFE;
  14:controller/IO/sensors.c ****     }
  15:controller/IO/sensors.c ****      if (sensor->wide_open_throttle_adc_value == 0 && sensor->closed_throttle_adc_value == 0)
  48              		.loc 1 15 6 is_stmt 1 view .LVU4
  49              		.loc 1 15 16 is_stmt 0 view .LVU5
  50 0008 0388     		ldrh	r3, [r0]
  51              		.loc 1 15 9 view .LVU6
  52 000a 13B9     		cbnz	r3, .L4
  53              		.loc 1 15 61 discriminator 1 view .LVU7
  54 000c 4388     		ldrh	r3, [r0, #2]
  55              		.loc 1 15 52 discriminator 1 view .LVU8
  56 000e 002B     		cmp	r3, #0
  57 0010 43D0     		beq	.L17
  58              	.L4:
  16:controller/IO/sensors.c ****     {
  17:controller/IO/sensors.c ****         change_bit(&runtime.status, sensor->status_bit, true);
  18:controller/IO/sensors.c ****         return SENSOR_TPS_FAIL_SAFE;
  19:controller/IO/sensors.c ****     }
  20:controller/IO/sensors.c ****     percent_t result = 0;
  59              		.loc 1 20 5 is_stmt 1 view .LVU9
  60              	.LVL1:
  21:controller/IO/sensors.c ****     uint16_t raw_data = analog_inputs_get_data(sensor->analog_channel);
  61              		.loc 1 21 5 view .LVU10
  62              		.loc 1 21 25 is_stmt 0 view .LVU11
  63 0012 2079     		ldrb	r0, [r4, #4]	@ zero_extendqisi2
  64              	.LVL2:
  65              		.loc 1 21 25 view .LVU12
  66 0014 FFF7FEFF 		bl	analog_inputs_get_data
  67              	.LVL3:
  68 0018 07EE900A 		vmov	s15, r0	@ int
  69              	.LVL4:
  22:controller/IO/sensors.c ****     if (sensor->is_inverted)
  70              		.loc 1 22 5 is_stmt 1 view .LVU13
  71              		.loc 1 22 15 is_stmt 0 view .LVU14
  72 001c A379     		ldrb	r3, [r4, #6]	@ zero_extendqisi2
  73              		.loc 1 22 8 view .LVU15
  74 001e 002B     		cmp	r3, #0
  75 0020 48D0     		beq	.L6
  23:controller/IO/sensors.c ****     {
  24:controller/IO/sensors.c ****         result = mapf((float)raw_data, (float)sensor->wide_open_throttle_adc_value, (float)sensor->
  76              		.loc 1 24 9 is_stmt 1 view .LVU16
  77              		.loc 1 24 18 is_stmt 0 view .LVU17
  78 0022 F8EE677A 		vcvt.f32.u32	s15, s15
  79              	.LVL5:
  80              		.loc 1 24 53 view .LVU18
  81 0026 2288     		ldrh	r2, [r4]
  82              		.loc 1 24 18 view .LVU19
  83 0028 07EE102A 		vmov	s14, r2	@ int
  84 002c F8EE476A 		vcvt.f32.u32	s13, s14
  85              		.loc 1 24 98 view .LVU20
  86 0030 6388     		ldrh	r3, [r4, #2]
  87              		.loc 1 24 18 view .LVU21
  88 0032 07EE103A 		vmov	s14, r3	@ int
  89 0036 B8EE477A 		vcvt.f32.u32	s14, s14
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 3


  90              	.LVL6:
  91              	.LBB58:
  92              	.LBI58:
  93              		.file 2 "controller/utils/utils.h"
   1:controller/utils/utils.h **** /**
   2:controller/utils/utils.h ****  * @file utils.h
   3:controller/utils/utils.h ****  * @brief Header file containing utility functions and definitions for the smart generator controll
   4:controller/utils/utils.h ****  *
   5:controller/utils/utils.h ****  * This file provides declarations for utility functions and macros that are
   6:controller/utils/utils.h ****  * used throughout the firmware to support various functionalities.
   7:controller/utils/utils.h ****  *
   8:controller/utils/utils.h ****  * @note Ensure that this file is included wherever utility functions are required.
   9:controller/utils/utils.h ****  */
  10:controller/utils/utils.h **** #ifndef UTILS_H
  11:controller/utils/utils.h **** #define UTILS_H
  12:controller/utils/utils.h **** 
  13:controller/utils/utils.h **** #include "types.h"
  14:controller/utils/utils.h **** #include "math.h"
  15:controller/utils/utils.h **** #define IS_IN_RANGE(value, min, max) ((value) >= (min) && (value) <= (max))
  16:controller/utils/utils.h **** #define ABS(value) ((value) < 0 ? -(value) : (value))
  17:controller/utils/utils.h **** #define CLAMP(value, min, max) ((value) < (min) ? (min) : ((value) > (max) ? (max) : (value)))
  18:controller/utils/utils.h **** 
  19:controller/utils/utils.h **** static inline void change_bit(uint32_t *var, uint8_t bit, bool state)
  20:controller/utils/utils.h **** {
  21:controller/utils/utils.h ****     if (bit > 31)
  22:controller/utils/utils.h ****     {
  23:controller/utils/utils.h ****         return;
  24:controller/utils/utils.h ****     }
  25:controller/utils/utils.h ****     if (state)
  26:controller/utils/utils.h ****     {
  27:controller/utils/utils.h ****         *var |= (1u << bit);
  28:controller/utils/utils.h ****     }
  29:controller/utils/utils.h ****     else
  30:controller/utils/utils.h ****     {
  31:controller/utils/utils.h ****         *var &= ~(1u << bit);
  32:controller/utils/utils.h ****     }
  33:controller/utils/utils.h **** }
  34:controller/utils/utils.h **** 
  35:controller/utils/utils.h **** static inline bool get_bit(uint32_t flags, uint8_t bit)
  36:controller/utils/utils.h **** {
  37:controller/utils/utils.h ****     if (bit < 32)
  38:controller/utils/utils.h ****     {
  39:controller/utils/utils.h ****         return (flags >> bit) & 1u;
  40:controller/utils/utils.h ****     }
  41:controller/utils/utils.h ****     return false;
  42:controller/utils/utils.h **** }
  43:controller/utils/utils.h **** 
  44:controller/utils/utils.h **** /**
  45:controller/utils/utils.h ****  * @brief Maps a value from one range to another.
  46:controller/utils/utils.h ****  *
  47:controller/utils/utils.h ****  * @param x The value to map.
  48:controller/utils/utils.h ****  * @param in_min The lower bound of the input range.
  49:controller/utils/utils.h ****  * @param in_max The upper bound of the input range.
  50:controller/utils/utils.h ****  * @param out_min The lower bound of the output range.
  51:controller/utils/utils.h ****  * @param out_max The upper bound of the output range.
  52:controller/utils/utils.h ****  * @return The mapped value in the output range.
  53:controller/utils/utils.h ****  */
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 4


  54:controller/utils/utils.h **** #define MAP(x, in_min, in_max, out_min, out_max) \
  55:controller/utils/utils.h ****     (((x) - (in_min)) * ((out_max) - (out_min)) / ((in_max) - (in_min)) + (out_min))
  56:controller/utils/utils.h **** 
  57:controller/utils/utils.h **** /**
  58:controller/utils/utils.h ****  * @brief Maps a uint16_t value from one range to another.
  59:controller/utils/utils.h ****  *
  60:controller/utils/utils.h ****  * @param x The value to map.
  61:controller/utils/utils.h ****  * @param in_min The lower bound of the input range.
  62:controller/utils/utils.h ****  * @param in_max The upper bound of the input range.
  63:controller/utils/utils.h ****  * @param out_min The lower bound of the output range.
  64:controller/utils/utils.h ****  * @param out_max The upper bound of the output range.
  65:controller/utils/utils.h ****  * @return The mapped value in the output range.
  66:controller/utils/utils.h ****  */
  67:controller/utils/utils.h **** static inline uint16_t map_uint16(uint16_t x, uint16_t in_min, uint16_t in_max, uint16_t out_min, u
  68:controller/utils/utils.h **** {
  69:controller/utils/utils.h ****     if (in_max == in_min)
  70:controller/utils/utils.h ****     {
  71:controller/utils/utils.h ****         return 0; // Avoid division by zero
  72:controller/utils/utils.h ****     }
  73:controller/utils/utils.h ****     return (uint16_t)((x - in_min) * (out_max - out_min) / (in_max - in_min) + out_min);
  74:controller/utils/utils.h **** }
  75:controller/utils/utils.h **** 
  76:controller/utils/utils.h **** static inline float mapf(float x, float in_min, float in_max, float out_min, float out_max)
  94              		.loc 2 76 21 is_stmt 1 view .LVU22
  95              	.LBB59:
  77:controller/utils/utils.h **** {
  78:controller/utils/utils.h ****     if (in_max == in_min)
  96              		.loc 2 78 5 view .LVU23
  97              		.loc 2 78 8 is_stmt 0 view .LVU24
  98 003a 9A42     		cmp	r2, r3
  99 003c 57D0     		beq	.L11
  79:controller/utils/utils.h ****     {
  80:controller/utils/utils.h ****         return 0.0f; // Avoid division by zero
  81:controller/utils/utils.h ****     }
  82:controller/utils/utils.h ****     return (x - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;
 100              		.loc 2 82 5 is_stmt 1 view .LVU25
 101              		.loc 2 82 15 is_stmt 0 view .LVU26
 102 003e 77EEE67A 		vsub.f32	s15, s15, s13
 103              	.LVL7:
 104              		.loc 2 82 25 view .LVU27
 105 0042 9FED2F6A 		vldr.32	s12, .L19
 106 0046 67EE867A 		vmul.f32	s15, s15, s12
 107              		.loc 2 82 57 view .LVU28
 108 004a 37EE667A 		vsub.f32	s14, s14, s13
 109              	.LVL8:
 110              		.loc 2 82 47 view .LVU29
 111 004e 87EE870A 		vdiv.f32	s0, s15, s14
 112              		.loc 2 82 67 view .LVU30
 113 0052 DFED2C7A 		vldr.32	s15, .L19+4
 114 0056 30EE270A 		vadd.f32	s0, s0, s15
 115              	.LVL9:
 116              	.L8:
 117              		.loc 2 82 67 view .LVU31
 118              	.LBE59:
 119              	.LBE58:
  25:controller/IO/sensors.c ****     }
  26:controller/IO/sensors.c ****     else
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 5


  27:controller/IO/sensors.c ****     {
  28:controller/IO/sensors.c ****         result = mapf((float)raw_data, (float)sensor->closed_throttle_adc_value, (float)sensor->wid
  29:controller/IO/sensors.c ****     }
  30:controller/IO/sensors.c ****     result = CLAMP(result, (percent_t)0, (percent_t)100);
 120              		.loc 1 30 5 is_stmt 1 view .LVU32
 121              		.loc 1 30 14 is_stmt 0 view .LVU33
 122 005a B5EEC00A 		vcmpe.f32	s0, #0
 123 005e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 124 0062 4AD4     		bmi	.L18
 125              	.LVL10:
 126              	.L7:
 127              		.loc 1 30 14 discriminator 2 view .LVU34
 128 0064 DFED267A 		vldr.32	s15, .L19
 129 0068 B4EEE70A 		vcmpe.f32	s0, s15
 130 006c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 131 0070 01DD     		ble	.L9
 132              		.loc 1 30 14 discriminator 4 view .LVU35
 133 0072 B0EE670A 		vmov.f32	s0, s15
 134              	.L9:
 135              	.LVL11:
  31:controller/IO/sensors.c ****     change_bit(&runtime.status, sensor->status_bit, false);
 136              		.loc 1 31 5 is_stmt 1 view .LVU36
 137              		.loc 1 31 39 is_stmt 0 view .LVU37
 138 0076 6379     		ldrb	r3, [r4, #5]	@ zero_extendqisi2
 139              	.LVL12:
 140              	.LBB60:
 141              	.LBI60:
  19:controller/utils/utils.h **** {
 142              		.loc 2 19 20 is_stmt 1 view .LVU38
 143              	.LBB61:
  21:controller/utils/utils.h ****     {
 144              		.loc 2 21 5 view .LVU39
  21:controller/utils/utils.h ****     {
 145              		.loc 2 21 8 is_stmt 0 view .LVU40
 146 0078 1F2B     		cmp	r3, #31
 147 007a 07D8     		bhi	.L1
  25:controller/utils/utils.h ****     {
 148              		.loc 2 25 5 is_stmt 1 view .LVU41
  31:controller/utils/utils.h ****     }
 149              		.loc 2 31 9 view .LVU42
 150 007c 2248     		ldr	r0, .L19+8
 151 007e 0268     		ldr	r2, [r0]
  31:controller/utils/utils.h ****     }
 152              		.loc 2 31 22 is_stmt 0 view .LVU43
 153 0080 0121     		movs	r1, #1
 154 0082 01FA03F3 		lsl	r3, r1, r3
 155              	.LVL13:
  31:controller/utils/utils.h ****     }
 156              		.loc 2 31 14 view .LVU44
 157 0086 22EA0302 		bic	r2, r2, r3
 158 008a 0260     		str	r2, [r0]
 159              	.LVL14:
 160              	.L1:
  31:controller/utils/utils.h ****     }
 161              		.loc 2 31 14 view .LVU45
 162              	.LBE61:
 163              	.LBE60:
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 6


  32:controller/IO/sensors.c ****     return result;
  33:controller/IO/sensors.c **** }
 164              		.loc 1 33 1 view .LVU46
 165 008c 10BD     		pop	{r4, pc}
 166              	.LVL15:
 167              	.L16:
  12:controller/IO/sensors.c ****         return SENSOR_TPS_FAIL_SAFE;
 168              		.loc 1 12 9 is_stmt 1 view .LVU47
 169 008e 1F48     		ldr	r0, .L19+12
 170              	.LVL16:
  12:controller/IO/sensors.c ****         return SENSOR_TPS_FAIL_SAFE;
 171              		.loc 1 12 9 is_stmt 0 view .LVU48
 172 0090 FFF7FEFF 		bl	log_error
 173              	.LVL17:
  13:controller/IO/sensors.c ****     }
 174              		.loc 1 13 9 is_stmt 1 view .LVU49
  13:controller/IO/sensors.c ****     }
 175              		.loc 1 13 16 is_stmt 0 view .LVU50
 176 0094 9FED1E0A 		vldr.32	s0, .L19+16
 177 0098 F8E7     		b	.L1
 178              	.LVL18:
 179              	.L17:
  17:controller/IO/sensors.c ****         return SENSOR_TPS_FAIL_SAFE;
 180              		.loc 1 17 9 is_stmt 1 view .LVU51
  17:controller/IO/sensors.c ****         return SENSOR_TPS_FAIL_SAFE;
 181              		.loc 1 17 43 is_stmt 0 view .LVU52
 182 009a 4379     		ldrb	r3, [r0, #5]	@ zero_extendqisi2
 183              	.LVL19:
 184              	.LBB62:
 185              	.LBI62:
  19:controller/utils/utils.h **** {
 186              		.loc 2 19 20 is_stmt 1 view .LVU53
 187              	.LBB63:
  21:controller/utils/utils.h ****     {
 188              		.loc 2 21 5 view .LVU54
  21:controller/utils/utils.h ****     {
 189              		.loc 2 21 8 is_stmt 0 view .LVU55
 190 009c 1F2B     		cmp	r3, #31
 191 009e 06D8     		bhi	.L5
  25:controller/utils/utils.h ****     {
 192              		.loc 2 25 5 is_stmt 1 view .LVU56
  27:controller/utils/utils.h ****     }
 193              		.loc 2 27 9 view .LVU57
 194 00a0 1948     		ldr	r0, .L19+8
 195              	.LVL20:
  27:controller/utils/utils.h ****     }
 196              		.loc 2 27 9 is_stmt 0 view .LVU58
 197 00a2 0268     		ldr	r2, [r0]
  27:controller/utils/utils.h ****     }
 198              		.loc 2 27 21 view .LVU59
 199 00a4 0121     		movs	r1, #1
 200 00a6 01FA03F3 		lsl	r3, r1, r3
 201              	.LVL21:
  27:controller/utils/utils.h ****     }
 202              		.loc 2 27 14 view .LVU60
 203 00aa 1A43     		orrs	r2, r2, r3
 204 00ac 0260     		str	r2, [r0]
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 7


 205              	.L5:
 206              	.LVL22:
  27:controller/utils/utils.h ****     }
 207              		.loc 2 27 14 view .LVU61
 208              	.LBE63:
 209              	.LBE62:
  18:controller/IO/sensors.c ****     }
 210              		.loc 1 18 9 is_stmt 1 view .LVU62
  18:controller/IO/sensors.c ****     }
 211              		.loc 1 18 16 is_stmt 0 view .LVU63
 212 00ae 9FED180A 		vldr.32	s0, .L19+16
 213 00b2 EBE7     		b	.L1
 214              	.LVL23:
 215              	.L6:
  28:controller/IO/sensors.c ****     }
 216              		.loc 1 28 9 is_stmt 1 view .LVU64
  28:controller/IO/sensors.c ****     }
 217              		.loc 1 28 18 is_stmt 0 view .LVU65
 218 00b4 F8EE677A 		vcvt.f32.u32	s15, s15
 219              	.LVL24:
  28:controller/IO/sensors.c ****     }
 220              		.loc 1 28 53 view .LVU66
 221 00b8 6288     		ldrh	r2, [r4, #2]
  28:controller/IO/sensors.c ****     }
 222              		.loc 1 28 18 view .LVU67
 223 00ba 07EE102A 		vmov	s14, r2	@ int
 224 00be F8EE476A 		vcvt.f32.u32	s13, s14
  28:controller/IO/sensors.c ****     }
 225              		.loc 1 28 95 view .LVU68
 226 00c2 2388     		ldrh	r3, [r4]
  28:controller/IO/sensors.c ****     }
 227              		.loc 1 28 18 view .LVU69
 228 00c4 07EE103A 		vmov	s14, r3	@ int
 229 00c8 B8EE477A 		vcvt.f32.u32	s14, s14
 230              	.LVL25:
 231              	.LBB64:
 232              	.LBI64:
  76:controller/utils/utils.h **** {
 233              		.loc 2 76 21 is_stmt 1 view .LVU70
 234              	.LBB65:
  78:controller/utils/utils.h ****     {
 235              		.loc 2 78 5 view .LVU71
  78:controller/utils/utils.h ****     {
 236              		.loc 2 78 8 is_stmt 0 view .LVU72
 237 00cc 9A42     		cmp	r2, r3
 238 00ce 11D0     		beq	.L12
 239              		.loc 2 82 5 is_stmt 1 view .LVU73
 240              		.loc 2 82 15 is_stmt 0 view .LVU74
 241 00d0 77EEE67A 		vsub.f32	s15, s15, s13
 242              	.LVL26:
 243              		.loc 2 82 25 view .LVU75
 244 00d4 9FED0A6A 		vldr.32	s12, .L19
 245 00d8 67EE867A 		vmul.f32	s15, s15, s12
 246              		.loc 2 82 57 view .LVU76
 247 00dc 37EE667A 		vsub.f32	s14, s14, s13
 248              	.LVL27:
 249              		.loc 2 82 47 view .LVU77
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 8


 250 00e0 87EE870A 		vdiv.f32	s0, s15, s14
 251              		.loc 2 82 67 view .LVU78
 252 00e4 DFED077A 		vldr.32	s15, .L19+4
 253 00e8 30EE270A 		vadd.f32	s0, s0, s15
 254              	.LVL28:
 255              		.loc 2 82 67 view .LVU79
 256 00ec B5E7     		b	.L8
 257              	.LVL29:
 258              	.L11:
 259              		.loc 2 82 67 view .LVU80
 260              	.LBE65:
 261              	.LBE64:
  24:controller/IO/sensors.c ****     }
 262              		.loc 1 24 18 view .LVU81
 263 00ee 9FED050A 		vldr.32	s0, .L19+4
 264 00f2 B7E7     		b	.L7
 265              	.LVL30:
 266              	.L12:
  28:controller/IO/sensors.c ****     }
 267              		.loc 1 28 18 view .LVU82
 268 00f4 9FED030A 		vldr.32	s0, .L19+4
 269 00f8 B4E7     		b	.L7
 270              	.LVL31:
 271              	.L18:
  30:controller/IO/sensors.c ****     change_bit(&runtime.status, sensor->status_bit, false);
 272              		.loc 1 30 14 discriminator 1 view .LVU83
 273 00fa 9FED020A 		vldr.32	s0, .L19+4
 274              	.LVL32:
  30:controller/IO/sensors.c ****     change_bit(&runtime.status, sensor->status_bit, false);
 275              		.loc 1 30 14 discriminator 1 view .LVU84
 276 00fe BAE7     		b	.L9
 277              	.L20:
 278              		.align	2
 279              	.L19:
 280 0100 0000C842 		.word	1120403456
 281 0104 00000000 		.word	0
 282 0108 00000000 		.word	runtime
 283 010c 00000000 		.word	.LC3
 284 0110 0000C07F 		.word	2143289344
 285              		.cfi_endproc
 286              	.LFE232:
 288              		.section	.rodata.sensor_map_init.str1.4,"aMS",%progbits,1
 289              		.align	2
 290              	.LC4:
 291 0000 6D617020 		.ascii	"map sensor is null\000"
 291      73656E73 
 291      6F722069 
 291      73206E75 
 291      6C6C00
 292              		.section	.text.sensor_map_init,"ax",%progbits
 293              		.align	1
 294              		.global	sensor_map_init
 295              		.syntax unified
 296              		.thumb
 297              		.thumb_func
 299              	sensor_map_init:
 300              	.LVL33:
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 9


 301              	.LFB233:
  34:controller/IO/sensors.c **** 
  35:controller/IO/sensors.c **** void sensor_map_init(sensor_map_t *sensor, sensor_map_type_t type)
  36:controller/IO/sensors.c **** {
 302              		.loc 1 36 1 is_stmt 1 view -0
 303              		.cfi_startproc
 304              		@ args = 0, pretend = 0, frame = 0
 305              		@ frame_needed = 0, uses_anonymous_args = 0
 306              		.loc 1 36 1 is_stmt 0 view .LVU86
 307 0000 08B5     		push	{r3, lr}
 308              		.cfi_def_cfa_offset 8
 309              		.cfi_offset 3, -8
 310              		.cfi_offset 14, -4
  37:controller/IO/sensors.c ****     if (sensor == NULL)
 311              		.loc 1 37 5 is_stmt 1 view .LVU87
 312              		.loc 1 37 8 is_stmt 0 view .LVU88
 313 0002 90B1     		cbz	r0, .L28
 314 0004 0346     		mov	r3, r0
  38:controller/IO/sensors.c ****     {
  39:controller/IO/sensors.c ****         log_error("map sensor is null");
  40:controller/IO/sensors.c ****         return;
  41:controller/IO/sensors.c ****     }
  42:controller/IO/sensors.c ****     switch (type)
 315              		.loc 1 42 5 is_stmt 1 view .LVU89
 316 0006 A1B1     		cbz	r1, .L24
 317 0008 0129     		cmp	r1, #1
 318 000a 1FD1     		bne	.L25
  43:controller/IO/sensors.c ****     {
  44:controller/IO/sensors.c ****     case SENSOR_MAP_TYPE_BOSCH_816:
  45:controller/IO/sensors.c ****         /**
  46:controller/IO/sensors.c ****          * a simple linear sensor
  47:controller/IO/sensors.c ****          */
  48:controller/IO/sensors.c ****         /**
  49:controller/IO/sensors.c ****          * @todo actually calculate these values!
  50:controller/IO/sensors.c ****          */
  51:controller/IO/sensors.c ****         sensor->adc_value_0_bar = 100;
 319              		.loc 1 51 9 view .LVU90
 320              		.loc 1 51 33 is_stmt 0 view .LVU91
 321 000c 6422     		movs	r2, #100
 322 000e 0280     		strh	r2, [r0]	@ movhi
  52:controller/IO/sensors.c ****         sensor->adc_value_1_bar = 3000;
 323              		.loc 1 52 9 is_stmt 1 view .LVU92
 324              		.loc 1 52 33 is_stmt 0 view .LVU93
 325 0010 40F6B832 		movw	r2, #3000
 326 0014 4280     		strh	r2, [r0, #2]	@ movhi
  53:controller/IO/sensors.c ****         sensor->analog_channel = ANALOG_INPUT_SENSOR_MAP_PIN;
 327              		.loc 1 53 9 is_stmt 1 view .LVU94
 328              		.loc 1 53 32 is_stmt 0 view .LVU95
 329 0016 0522     		movs	r2, #5
 330 0018 0271     		strb	r2, [r0, #4]
  54:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_MAP_ERROR, false);
 331              		.loc 1 54 9 is_stmt 1 view .LVU96
 332              	.LVL34:
 333              	.LBB66:
 334              	.LBI66:
  19:controller/utils/utils.h **** {
 335              		.loc 2 19 20 view .LVU97
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 10


 336              	.LBB67:
  21:controller/utils/utils.h ****     {
 337              		.loc 2 21 5 view .LVU98
  25:controller/utils/utils.h ****     {
 338              		.loc 2 25 5 view .LVU99
  31:controller/utils/utils.h ****     }
 339              		.loc 2 31 9 view .LVU100
 340 001a 0F49     		ldr	r1, .L29
 341              	.LVL35:
  31:controller/utils/utils.h ****     }
 342              		.loc 2 31 9 is_stmt 0 view .LVU101
 343 001c 0A68     		ldr	r2, [r1]
  31:controller/utils/utils.h ****     }
 344              		.loc 2 31 14 view .LVU102
 345 001e 22F40042 		bic	r2, r2, #32768
 346 0022 0A60     		str	r2, [r1]
 347              	.LVL36:
  31:controller/utils/utils.h ****     }
 348              		.loc 2 31 14 view .LVU103
 349              	.LBE67:
 350              	.LBE66:
  55:controller/IO/sensors.c ****         break;
 351              		.loc 1 55 9 is_stmt 1 view .LVU104
 352              	.L26:
  56:controller/IO/sensors.c ****     case SENSOR_MAP_TYPE_TEST:
  57:controller/IO/sensors.c ****         /**
  58:controller/IO/sensors.c ****          * a simple linear sensor
  59:controller/IO/sensors.c ****          */
  60:controller/IO/sensors.c ****         /**
  61:controller/IO/sensors.c ****          * @todo actually calculate these values!
  62:controller/IO/sensors.c ****          */
  63:controller/IO/sensors.c ****         sensor->adc_value_0_bar = 0;
  64:controller/IO/sensors.c ****         sensor->adc_value_1_bar = 4095;
  65:controller/IO/sensors.c ****         sensor->analog_channel = ANALOG_INPUT_SENSOR_MAP_PIN;
  66:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_MAP_ERROR, false);
  67:controller/IO/sensors.c ****         break;
  68:controller/IO/sensors.c ****     
  69:controller/IO/sensors.c ****     default:
  70:controller/IO/sensors.c ****         //log_error("map sensor type not configured!");
  71:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_MAP_ERROR, true);
  72:controller/IO/sensors.c ****         break;
  73:controller/IO/sensors.c ****     }
  74:controller/IO/sensors.c ****     
  75:controller/IO/sensors.c ****     map_sensor = sensor;
 353              		.loc 1 75 5 view .LVU105
 354              		.loc 1 75 16 is_stmt 0 view .LVU106
 355 0024 0D4A     		ldr	r2, .L29+4
 356 0026 1360     		str	r3, [r2]
 357              	.LVL37:
 358              	.L21:
  76:controller/IO/sensors.c **** }
 359              		.loc 1 76 1 view .LVU107
 360 0028 08BD     		pop	{r3, pc}
 361              	.LVL38:
 362              	.L28:
  39:controller/IO/sensors.c ****         return;
 363              		.loc 1 39 9 is_stmt 1 view .LVU108
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 11


 364 002a 0D48     		ldr	r0, .L29+8
 365              	.LVL39:
  39:controller/IO/sensors.c ****         return;
 366              		.loc 1 39 9 is_stmt 0 view .LVU109
 367 002c FFF7FEFF 		bl	log_error
 368              	.LVL40:
  40:controller/IO/sensors.c ****     }
 369              		.loc 1 40 9 is_stmt 1 view .LVU110
 370 0030 FAE7     		b	.L21
 371              	.LVL41:
 372              	.L24:
  63:controller/IO/sensors.c ****         sensor->adc_value_1_bar = 4095;
 373              		.loc 1 63 9 view .LVU111
  63:controller/IO/sensors.c ****         sensor->adc_value_1_bar = 4095;
 374              		.loc 1 63 33 is_stmt 0 view .LVU112
 375 0032 0022     		movs	r2, #0
 376 0034 0280     		strh	r2, [r0]	@ movhi
  64:controller/IO/sensors.c ****         sensor->analog_channel = ANALOG_INPUT_SENSOR_MAP_PIN;
 377              		.loc 1 64 9 is_stmt 1 view .LVU113
  64:controller/IO/sensors.c ****         sensor->analog_channel = ANALOG_INPUT_SENSOR_MAP_PIN;
 378              		.loc 1 64 33 is_stmt 0 view .LVU114
 379 0036 40F6FF72 		movw	r2, #4095
 380 003a 4280     		strh	r2, [r0, #2]	@ movhi
  65:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_MAP_ERROR, false);
 381              		.loc 1 65 9 is_stmt 1 view .LVU115
  65:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_MAP_ERROR, false);
 382              		.loc 1 65 32 is_stmt 0 view .LVU116
 383 003c 0522     		movs	r2, #5
 384 003e 0271     		strb	r2, [r0, #4]
  66:controller/IO/sensors.c ****         break;
 385              		.loc 1 66 9 is_stmt 1 view .LVU117
 386              	.LVL42:
 387              	.LBB68:
 388              	.LBI68:
  19:controller/utils/utils.h **** {
 389              		.loc 2 19 20 view .LVU118
 390              	.LBB69:
  21:controller/utils/utils.h ****     {
 391              		.loc 2 21 5 view .LVU119
  25:controller/utils/utils.h ****     {
 392              		.loc 2 25 5 view .LVU120
  31:controller/utils/utils.h ****     }
 393              		.loc 2 31 9 view .LVU121
 394 0040 0549     		ldr	r1, .L29
 395              	.LVL43:
  31:controller/utils/utils.h ****     }
 396              		.loc 2 31 9 is_stmt 0 view .LVU122
 397 0042 0A68     		ldr	r2, [r1]
  31:controller/utils/utils.h ****     }
 398              		.loc 2 31 14 view .LVU123
 399 0044 22F40042 		bic	r2, r2, #32768
 400 0048 0A60     		str	r2, [r1]
 401              	.LVL44:
  31:controller/utils/utils.h ****     }
 402              		.loc 2 31 14 view .LVU124
 403              	.LBE69:
 404              	.LBE68:
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 12


  67:controller/IO/sensors.c ****     
 405              		.loc 1 67 9 is_stmt 1 view .LVU125
 406 004a EBE7     		b	.L26
 407              	.LVL45:
 408              	.L25:
  71:controller/IO/sensors.c ****         break;
 409              		.loc 1 71 9 view .LVU126
 410              	.LBB70:
 411              	.LBI70:
  19:controller/utils/utils.h **** {
 412              		.loc 2 19 20 view .LVU127
 413              	.LBB71:
  21:controller/utils/utils.h ****     {
 414              		.loc 2 21 5 view .LVU128
  25:controller/utils/utils.h ****     {
 415              		.loc 2 25 5 view .LVU129
  27:controller/utils/utils.h ****     }
 416              		.loc 2 27 9 view .LVU130
 417 004c 0249     		ldr	r1, .L29
 418              	.LVL46:
  27:controller/utils/utils.h ****     }
 419              		.loc 2 27 9 is_stmt 0 view .LVU131
 420 004e 0A68     		ldr	r2, [r1]
  27:controller/utils/utils.h ****     }
 421              		.loc 2 27 14 view .LVU132
 422 0050 42F40042 		orr	r2, r2, #32768
 423 0054 0A60     		str	r2, [r1]
 424              	.LVL47:
  27:controller/utils/utils.h ****     }
 425              		.loc 2 27 14 view .LVU133
 426              	.LBE71:
 427              	.LBE70:
  72:controller/IO/sensors.c ****     }
 428              		.loc 1 72 9 is_stmt 1 view .LVU134
 429 0056 E5E7     		b	.L26
 430              	.L30:
 431              		.align	2
 432              	.L29:
 433 0058 00000000 		.word	runtime
 434 005c 00000000 		.word	map_sensor
 435 0060 00000000 		.word	.LC4
 436              		.cfi_endproc
 437              	.LFE233:
 439              		.section	.text.sensor_map_get,"ax",%progbits
 440              		.align	1
 441              		.global	sensor_map_get
 442              		.syntax unified
 443              		.thumb
 444              		.thumb_func
 446              	sensor_map_get:
 447              	.LFB234:
  77:controller/IO/sensors.c **** 
  78:controller/IO/sensors.c **** 
  79:controller/IO/sensors.c **** pressure_t sensor_map_get()
  80:controller/IO/sensors.c **** {
 448              		.loc 1 80 1 view -0
 449              		.cfi_startproc
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 13


 450              		@ args = 0, pretend = 0, frame = 0
 451              		@ frame_needed = 0, uses_anonymous_args = 0
 452 0000 08B5     		push	{r3, lr}
 453              		.cfi_def_cfa_offset 8
 454              		.cfi_offset 3, -8
 455              		.cfi_offset 14, -4
  81:controller/IO/sensors.c ****     if (map_sensor->adc_value_0_bar == 0 && map_sensor->adc_value_1_bar == 0)
 456              		.loc 1 81 5 view .LVU136
 457              		.loc 1 81 19 is_stmt 0 view .LVU137
 458 0002 274B     		ldr	r3, .L41
 459 0004 1B68     		ldr	r3, [r3]
 460 0006 1A88     		ldrh	r2, [r3]
 461              		.loc 1 81 8 view .LVU138
 462 0008 0AB9     		cbnz	r2, .L32
 463              		.loc 1 81 55 discriminator 1 view .LVU139
 464 000a 5A88     		ldrh	r2, [r3, #2]
 465              		.loc 1 81 42 discriminator 1 view .LVU140
 466 000c A2B3     		cbz	r2, .L40
 467              	.L32:
  82:controller/IO/sensors.c ****     {
  83:controller/IO/sensors.c ****         //log_error("map sensor no init!");
  84:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_MAP_ERROR, true);
  85:controller/IO/sensors.c ****         return SENSOR_MAP_FAIL_SAFE;
  86:controller/IO/sensors.c ****     }
  87:controller/IO/sensors.c ****     
  88:controller/IO/sensors.c ****     uint16_t raw_adc_value = 0;
 468              		.loc 1 88 5 is_stmt 1 view .LVU141
 469              	.LVL48:
  89:controller/IO/sensors.c ****     raw_adc_value = analog_inputs_get_data(map_sensor->analog_channel);
 470              		.loc 1 89 5 view .LVU142
 471              		.loc 1 89 21 is_stmt 0 view .LVU143
 472 000e 1879     		ldrb	r0, [r3, #4]	@ zero_extendqisi2
 473 0010 FFF7FEFF 		bl	analog_inputs_get_data
 474              	.LVL49:
 475 0014 07EE900A 		vmov	s15, r0	@ int
 476              	.LVL50:
  90:controller/IO/sensors.c **** 
  91:controller/IO/sensors.c ****     pressure_t result = SENSOR_MAP_FAIL_SAFE;
 477              		.loc 1 91 5 is_stmt 1 view .LVU144
  92:controller/IO/sensors.c **** 
  93:controller/IO/sensors.c ****     result = mapf((float)raw_adc_value, (float)map_sensor->adc_value_0_bar, (float)map_sensor->adc_
 478              		.loc 1 93 5 view .LVU145
 479              		.loc 1 93 14 is_stmt 0 view .LVU146
 480 0018 F8EE677A 		vcvt.f32.u32	s15, s15
 481              	.LVL51:
 482              		.loc 1 93 58 view .LVU147
 483 001c 204B     		ldr	r3, .L41
 484 001e 1B68     		ldr	r3, [r3]
 485 0020 1A88     		ldrh	r2, [r3]
 486              		.loc 1 93 14 view .LVU148
 487 0022 07EE102A 		vmov	s14, r2	@ int
 488 0026 F8EE476A 		vcvt.f32.u32	s13, s14
 489              		.loc 1 93 94 view .LVU149
 490 002a 5B88     		ldrh	r3, [r3, #2]
 491              		.loc 1 93 14 view .LVU150
 492 002c 07EE103A 		vmov	s14, r3	@ int
 493 0030 B8EE477A 		vcvt.f32.u32	s14, s14
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 14


 494              	.LVL52:
 495              	.LBB72:
 496              	.LBI72:
  76:controller/utils/utils.h **** {
 497              		.loc 2 76 21 is_stmt 1 view .LVU151
 498              	.LBB73:
  78:controller/utils/utils.h ****     {
 499              		.loc 2 78 5 view .LVU152
  78:controller/utils/utils.h ****     {
 500              		.loc 2 78 8 is_stmt 0 view .LVU153
 501 0034 9A42     		cmp	r2, r3
 502 0036 27D0     		beq	.L38
 503              		.loc 2 82 5 is_stmt 1 view .LVU154
 504              		.loc 2 82 15 is_stmt 0 view .LVU155
 505 0038 77EEE67A 		vsub.f32	s15, s15, s13
 506              	.LVL53:
 507              		.loc 2 82 25 view .LVU156
 508 003c 9FED196A 		vldr.32	s12, .L41+4
 509 0040 67EE867A 		vmul.f32	s15, s15, s12
 510              		.loc 2 82 57 view .LVU157
 511 0044 37EE667A 		vsub.f32	s14, s14, s13
 512              	.LVL54:
 513              		.loc 2 82 47 view .LVU158
 514 0048 87EE870A 		vdiv.f32	s0, s15, s14
 515              		.loc 2 82 67 view .LVU159
 516 004c DFED167A 		vldr.32	s15, .L41+8
 517 0050 30EE270A 		vadd.f32	s0, s0, s15
 518              	.LVL55:
 519              		.loc 2 82 67 view .LVU160
 520              	.LBE73:
 521              	.LBE72:
  94:controller/IO/sensors.c **** 
  95:controller/IO/sensors.c ****     if (!IS_IN_RANGE(result, (pressure_t)0, FIRMWARE_LIMIT_MAX_MAP))
 522              		.loc 1 95 5 is_stmt 1 view .LVU161
 523              		.loc 1 95 8 is_stmt 0 view .LVU162
 524 0054 B4EEE70A 		vcmpe.f32	s0, s15
 525 0058 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 526 005c 17DB     		blt	.L35
 527              	.LVL56:
 528              	.L34:
 529              		.loc 1 95 9 discriminator 1 view .LVU163
 530 005e DFED137A 		vldr.32	s15, .L41+12
 531 0062 B4EEE70A 		vcmpe.f32	s0, s15
 532 0066 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 533 006a 10D8     		bhi	.L35
  96:controller/IO/sensors.c ****     {
  97:controller/IO/sensors.c ****         //log_error("map sensor out of range!");
  98:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_MAP_ERROR, true);
  99:controller/IO/sensors.c **** 
 100:controller/IO/sensors.c ****         return SENSOR_MAP_FAIL_SAFE;
 101:controller/IO/sensors.c ****     }
 102:controller/IO/sensors.c ****     change_bit(&runtime.status, STATUS_MAP_ERROR, false);
 534              		.loc 1 102 5 is_stmt 1 view .LVU164
 535              	.LVL57:
 536              	.LBB75:
 537              	.LBI75:
  19:controller/utils/utils.h **** {
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 15


 538              		.loc 2 19 20 view .LVU165
 539              	.LBB76:
  21:controller/utils/utils.h ****     {
 540              		.loc 2 21 5 view .LVU166
  25:controller/utils/utils.h ****     {
 541              		.loc 2 25 5 view .LVU167
  31:controller/utils/utils.h ****     }
 542              		.loc 2 31 9 view .LVU168
 543 006c 104A     		ldr	r2, .L41+16
 544 006e 1368     		ldr	r3, [r2]
  31:controller/utils/utils.h ****     }
 545              		.loc 2 31 14 is_stmt 0 view .LVU169
 546 0070 23F40043 		bic	r3, r3, #32768
 547 0074 1360     		str	r3, [r2]
 548              	.LVL58:
  31:controller/utils/utils.h ****     }
 549              		.loc 2 31 14 view .LVU170
 550              	.LBE76:
 551              	.LBE75:
 103:controller/IO/sensors.c ****     return result;
 552              		.loc 1 103 5 is_stmt 1 view .LVU171
 553              	.L31:
 104:controller/IO/sensors.c **** }
 554              		.loc 1 104 1 is_stmt 0 view .LVU172
 555 0076 08BD     		pop	{r3, pc}
 556              	.L40:
  84:controller/IO/sensors.c ****         return SENSOR_MAP_FAIL_SAFE;
 557              		.loc 1 84 9 is_stmt 1 view .LVU173
 558              	.LVL59:
 559              	.LBB77:
 560              	.LBI77:
  19:controller/utils/utils.h **** {
 561              		.loc 2 19 20 view .LVU174
 562              	.LBB78:
  21:controller/utils/utils.h ****     {
 563              		.loc 2 21 5 view .LVU175
  25:controller/utils/utils.h ****     {
 564              		.loc 2 25 5 view .LVU176
  27:controller/utils/utils.h ****     }
 565              		.loc 2 27 9 view .LVU177
 566 0078 0D4A     		ldr	r2, .L41+16
 567 007a 1368     		ldr	r3, [r2]
  27:controller/utils/utils.h ****     }
 568              		.loc 2 27 14 is_stmt 0 view .LVU178
 569 007c 43F40043 		orr	r3, r3, #32768
 570 0080 1360     		str	r3, [r2]
 571              	.LVL60:
  27:controller/utils/utils.h ****     }
 572              		.loc 2 27 14 view .LVU179
 573              	.LBE78:
 574              	.LBE77:
  85:controller/IO/sensors.c ****     }
 575              		.loc 1 85 9 is_stmt 1 view .LVU180
  85:controller/IO/sensors.c ****     }
 576              		.loc 1 85 16 is_stmt 0 view .LVU181
 577 0082 9FED090A 		vldr.32	s0, .L41+8
 578 0086 F6E7     		b	.L31
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 16


 579              	.LVL61:
 580              	.L38:
 581              	.LBB79:
 582              	.LBB74:
  80:controller/utils/utils.h ****     }
 583              		.loc 2 80 16 view .LVU182
 584 0088 9FED070A 		vldr.32	s0, .L41+8
 585 008c E7E7     		b	.L34
 586              	.LVL62:
 587              	.L35:
  80:controller/utils/utils.h ****     }
 588              		.loc 2 80 16 view .LVU183
 589              	.LBE74:
 590              	.LBE79:
  98:controller/IO/sensors.c **** 
 591              		.loc 1 98 9 is_stmt 1 view .LVU184
 592              	.LBB80:
 593              	.LBI80:
  19:controller/utils/utils.h **** {
 594              		.loc 2 19 20 view .LVU185
 595              	.LBB81:
  21:controller/utils/utils.h ****     {
 596              		.loc 2 21 5 view .LVU186
  25:controller/utils/utils.h ****     {
 597              		.loc 2 25 5 view .LVU187
  27:controller/utils/utils.h ****     }
 598              		.loc 2 27 9 view .LVU188
 599 008e 084A     		ldr	r2, .L41+16
 600 0090 1368     		ldr	r3, [r2]
  27:controller/utils/utils.h ****     }
 601              		.loc 2 27 14 is_stmt 0 view .LVU189
 602 0092 43F40043 		orr	r3, r3, #32768
 603 0096 1360     		str	r3, [r2]
 604              	.LVL63:
  27:controller/utils/utils.h ****     }
 605              		.loc 2 27 14 view .LVU190
 606              	.LBE81:
 607              	.LBE80:
 100:controller/IO/sensors.c ****     }
 608              		.loc 1 100 9 is_stmt 1 view .LVU191
 100:controller/IO/sensors.c ****     }
 609              		.loc 1 100 16 is_stmt 0 view .LVU192
 610 0098 9FED030A 		vldr.32	s0, .L41+8
 611 009c EBE7     		b	.L31
 612              	.L42:
 613 009e 00BF     		.align	2
 614              	.L41:
 615 00a0 00000000 		.word	map_sensor
 616 00a4 0000C842 		.word	1120403456
 617 00a8 00000000 		.word	0
 618 00ac 0000F042 		.word	1123024896
 619 00b0 00000000 		.word	runtime
 620              		.cfi_endproc
 621              	.LFE234:
 623              		.section	.text.sensor_iat_init,"ax",%progbits
 624              		.align	1
 625              		.global	sensor_iat_init
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 17


 626              		.syntax unified
 627              		.thumb
 628              		.thumb_func
 630              	sensor_iat_init:
 631              	.LVL64:
 632              	.LFB235:
 105:controller/IO/sensors.c **** 
 106:controller/IO/sensors.c **** void sensor_iat_init(thermistor_t *sensor, sensor_iat_type_t type)
 107:controller/IO/sensors.c **** {
 633              		.loc 1 107 1 is_stmt 1 view -0
 634              		.cfi_startproc
 635              		@ args = 0, pretend = 0, frame = 24
 636              		@ frame_needed = 0, uses_anonymous_args = 0
 637              		.loc 1 107 1 is_stmt 0 view .LVU194
 638 0000 70B5     		push	{r4, r5, r6, lr}
 639              		.cfi_def_cfa_offset 16
 640              		.cfi_offset 4, -16
 641              		.cfi_offset 5, -12
 642              		.cfi_offset 6, -8
 643              		.cfi_offset 14, -4
 644 0002 8AB0     		sub	sp, sp, #40
 645              		.cfi_def_cfa_offset 56
 646 0004 0446     		mov	r4, r0
 108:controller/IO/sensors.c ****     switch (type)
 647              		.loc 1 108 5 is_stmt 1 view .LVU195
 648 0006 11B3     		cbz	r1, .L44
 649 0008 0129     		cmp	r1, #1
 650 000a 42D1     		bne	.L45
 651              	.LBB82:
 109:controller/IO/sensors.c ****     {
 110:controller/IO/sensors.c ****         case SENSOR_IAT_TYPE_BOSCH_816:
 111:controller/IO/sensors.c ****             resistor_init(&sensor->resistor, 10000, RESISTOR_PULL_UP, ANALOG_INPUT_SENSOR_IAT_PIN);
 652              		.loc 1 111 13 view .LVU196
 653 000c 0622     		movs	r2, #6
 654 000e 0021     		movs	r1, #0
 655              	.LVL65:
 656              		.loc 1 111 13 is_stmt 0 view .LVU197
 657 0010 9FED230A 		vldr.32	s0, .L48
 658 0014 FFF7FEFF 		bl	resistor_init
 659              	.LVL66:
 112:controller/IO/sensors.c ****             thermistor_conf_t bosch_816_iat_conf = 
 660              		.loc 1 112 13 is_stmt 1 view .LVU198
 661              		.loc 1 112 31 is_stmt 0 view .LVU199
 662 0018 04AD     		add	r5, sp, #16
 663 001a 224E     		ldr	r6, .L48+4
 664 001c 0FCE     		ldmia	r6!, {r0, r1, r2, r3}
 665 001e 0FC5     		stmia	r5!, {r0, r1, r2, r3}
 666 0020 96E80300 		ldm	r6, {r0, r1}
 667 0024 85E80300 		stm	r5, {r0, r1}
 113:controller/IO/sensors.c ****             {
 114:controller/IO/sensors.c ****                 .resistance_1 = 9395.0f,
 115:controller/IO/sensors.c ****                 .resistance_2 = 2056.0f,
 116:controller/IO/sensors.c ****                 .resistance_3 = 322.5f,
 117:controller/IO/sensors.c ****                 .tempC_1 = -10.0f,
 118:controller/IO/sensors.c ****                 .tempC_2 = 25.0f,
 119:controller/IO/sensors.c ****                 .tempC_3 = 80.0f
 120:controller/IO/sensors.c ****             };
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 18


 121:controller/IO/sensors.c ****             thermistor_init(sensor, bosch_816_iat_conf);
 668              		.loc 1 121 13 is_stmt 1 view .LVU200
 669 0028 0AAB     		add	r3, sp, #40
 670 002a 13E90700 		ldmdb	r3, {r0, r1, r2}
 671 002e 8DE80700 		stm	sp, {r0, r1, r2}
 672 0032 04AB     		add	r3, sp, #16
 673 0034 0ECB     		ldm	r3, {r1, r2, r3}
 674 0036 2046     		mov	r0, r4
 675 0038 FFF7FEFF 		bl	thermistor_init
 676              	.LVL67:
 122:controller/IO/sensors.c ****             sensor_iat = sensor;
 677              		.loc 1 122 13 view .LVU201
 678              		.loc 1 122 24 is_stmt 0 view .LVU202
 679 003c 1A4B     		ldr	r3, .L48+8
 680 003e 1C60     		str	r4, [r3]
 123:controller/IO/sensors.c ****             change_bit(&runtime.status, STATUS_IAT_ERROR, false);
 681              		.loc 1 123 13 is_stmt 1 view .LVU203
 682              	.LVL68:
 683              	.LBB83:
 684              	.LBI83:
  19:controller/utils/utils.h **** {
 685              		.loc 2 19 20 view .LVU204
 686              	.LBB84:
  21:controller/utils/utils.h ****     {
 687              		.loc 2 21 5 view .LVU205
  25:controller/utils/utils.h ****     {
 688              		.loc 2 25 5 view .LVU206
  31:controller/utils/utils.h ****     }
 689              		.loc 2 31 9 view .LVU207
 690 0040 1A4A     		ldr	r2, .L48+12
 691 0042 1368     		ldr	r3, [r2]
  31:controller/utils/utils.h ****     }
 692              		.loc 2 31 14 is_stmt 0 view .LVU208
 693 0044 23F40033 		bic	r3, r3, #131072
 694 0048 1360     		str	r3, [r2]
 695              	.LVL69:
  31:controller/utils/utils.h ****     }
 696              		.loc 2 31 14 view .LVU209
 697              	.LBE84:
 698              	.LBE83:
 124:controller/IO/sensors.c **** 
 125:controller/IO/sensors.c ****             break;
 699              		.loc 1 125 13 is_stmt 1 view .LVU210
 700              	.L43:
 701              		.loc 1 125 13 is_stmt 0 view .LVU211
 702              	.LBE82:
 126:controller/IO/sensors.c ****         case SENSOR_IAT_TYPE_TEST:
 127:controller/IO/sensors.c ****             resistor_init(&sensor->resistor, 4700, RESISTOR_PULL_UP, ANALOG_INPUT_SENSOR_IAT_PIN);
 128:controller/IO/sensors.c ****             thermistor_conf_t genric_5k =
 129:controller/IO/sensors.c ****             {
 130:controller/IO/sensors.c ****                 .resistance_1 = 22.263e3f,
 131:controller/IO/sensors.c ****                 .resistance_2 = 5e3f,
 132:controller/IO/sensors.c ****                 .resistance_3 = 588.0f,
 133:controller/IO/sensors.c ****                 .tempC_1 = -10.0f,
 134:controller/IO/sensors.c ****                 .tempC_2 = 25.0f,
 135:controller/IO/sensors.c ****                 .tempC_3 = 90.0f
 136:controller/IO/sensors.c ****             };
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 19


 137:controller/IO/sensors.c ****             thermistor_init(sensor, genric_5k);
 138:controller/IO/sensors.c ****             sensor_iat = sensor;
 139:controller/IO/sensors.c ****             change_bit(&runtime.status, STATUS_IAT_ERROR, false);
 140:controller/IO/sensors.c **** 
 141:controller/IO/sensors.c ****             break;
 142:controller/IO/sensors.c ****     default:
 143:controller/IO/sensors.c ****         //log_error("iat sensor type not configured!");
 144:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_IAT_ERROR, true);
 145:controller/IO/sensors.c ****         break;
 146:controller/IO/sensors.c ****     }
 147:controller/IO/sensors.c **** }
 703              		.loc 1 147 1 view .LVU212
 704 004a 0AB0     		add	sp, sp, #40
 705              		.cfi_remember_state
 706              		.cfi_def_cfa_offset 16
 707              		@ sp needed
 708 004c 70BD     		pop	{r4, r5, r6, pc}
 709              	.LVL70:
 710              	.L44:
 711              		.cfi_restore_state
 712              	.LBB89:
 127:controller/IO/sensors.c ****             thermistor_conf_t genric_5k =
 713              		.loc 1 127 13 is_stmt 1 view .LVU213
 714 004e 0622     		movs	r2, #6
 715 0050 0021     		movs	r1, #0
 716              	.LVL71:
 127:controller/IO/sensors.c ****             thermistor_conf_t genric_5k =
 717              		.loc 1 127 13 is_stmt 0 view .LVU214
 718 0052 9FED170A 		vldr.32	s0, .L48+16
 719 0056 FFF7FEFF 		bl	resistor_init
 720              	.LVL72:
 128:controller/IO/sensors.c ****             {
 721              		.loc 1 128 13 is_stmt 1 view .LVU215
 128:controller/IO/sensors.c ****             {
 722              		.loc 1 128 31 is_stmt 0 view .LVU216
 723 005a 0DF1100C 		add	ip, sp, #16
 724 005e 154D     		ldr	r5, .L48+20
 725 0060 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 726 0062 ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 727 0066 95E80300 		ldm	r5, {r0, r1}
 728 006a 8CE80300 		stm	ip, {r0, r1}
 137:controller/IO/sensors.c ****             sensor_iat = sensor;
 729              		.loc 1 137 13 is_stmt 1 view .LVU217
 730 006e 0AAB     		add	r3, sp, #40
 731 0070 13E90700 		ldmdb	r3, {r0, r1, r2}
 732 0074 8DE80700 		stm	sp, {r0, r1, r2}
 733 0078 04AB     		add	r3, sp, #16
 734 007a 0ECB     		ldm	r3, {r1, r2, r3}
 735 007c 2046     		mov	r0, r4
 736 007e FFF7FEFF 		bl	thermistor_init
 737              	.LVL73:
 138:controller/IO/sensors.c ****             change_bit(&runtime.status, STATUS_IAT_ERROR, false);
 738              		.loc 1 138 13 view .LVU218
 138:controller/IO/sensors.c ****             change_bit(&runtime.status, STATUS_IAT_ERROR, false);
 739              		.loc 1 138 24 is_stmt 0 view .LVU219
 740 0082 094B     		ldr	r3, .L48+8
 741 0084 1C60     		str	r4, [r3]
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 20


 139:controller/IO/sensors.c **** 
 742              		.loc 1 139 13 is_stmt 1 view .LVU220
 743              	.LVL74:
 744              	.LBB85:
 745              	.LBI85:
  19:controller/utils/utils.h **** {
 746              		.loc 2 19 20 view .LVU221
 747              	.LBB86:
  21:controller/utils/utils.h ****     {
 748              		.loc 2 21 5 view .LVU222
  25:controller/utils/utils.h ****     {
 749              		.loc 2 25 5 view .LVU223
  31:controller/utils/utils.h ****     }
 750              		.loc 2 31 9 view .LVU224
 751 0086 094A     		ldr	r2, .L48+12
 752 0088 1368     		ldr	r3, [r2]
  31:controller/utils/utils.h ****     }
 753              		.loc 2 31 14 is_stmt 0 view .LVU225
 754 008a 23F40033 		bic	r3, r3, #131072
 755 008e 1360     		str	r3, [r2]
 756              	.LVL75:
  31:controller/utils/utils.h ****     }
 757              		.loc 2 31 14 view .LVU226
 758              	.LBE86:
 759              	.LBE85:
 141:controller/IO/sensors.c ****     default:
 760              		.loc 1 141 13 is_stmt 1 view .LVU227
 761 0090 DBE7     		b	.L43
 762              	.LVL76:
 763              	.L45:
 144:controller/IO/sensors.c ****         break;
 764              		.loc 1 144 9 view .LVU228
 765              	.LBB87:
 766              	.LBI87:
  19:controller/utils/utils.h **** {
 767              		.loc 2 19 20 view .LVU229
 768              	.LBB88:
  21:controller/utils/utils.h ****     {
 769              		.loc 2 21 5 view .LVU230
  25:controller/utils/utils.h ****     {
 770              		.loc 2 25 5 view .LVU231
  27:controller/utils/utils.h ****     }
 771              		.loc 2 27 9 view .LVU232
 772 0092 064A     		ldr	r2, .L48+12
 773 0094 1368     		ldr	r3, [r2]
  27:controller/utils/utils.h ****     }
 774              		.loc 2 27 14 is_stmt 0 view .LVU233
 775 0096 43F40033 		orr	r3, r3, #131072
 776 009a 1360     		str	r3, [r2]
 777              	.LVL77:
  27:controller/utils/utils.h ****     }
 778              		.loc 2 27 14 view .LVU234
 779              	.LBE88:
 780              	.LBE87:
 145:controller/IO/sensors.c ****     }
 781              		.loc 1 145 9 is_stmt 1 view .LVU235
 782              	.LBE89:
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 21


 783              		.loc 1 147 1 is_stmt 0 view .LVU236
 784 009c D5E7     		b	.L43
 785              	.L49:
 786 009e 00BF     		.align	2
 787              	.L48:
 788 00a0 00401C46 		.word	1176256512
 789 00a4 00000000 		.word	.LANCHOR0
 790 00a8 00000000 		.word	sensor_iat
 791 00ac 00000000 		.word	runtime
 792 00b0 00E09245 		.word	1167253504
 793 00b4 18000000 		.word	.LANCHOR0+24
 794              		.cfi_endproc
 795              	.LFE235:
 797              		.section	.rodata.sensor_iat_get.str1.4,"aMS",%progbits,1
 798              		.align	2
 799              	.LC5:
 800 0000 69617420 		.ascii	"iat sensor is null\000"
 800      73656E73 
 800      6F722069 
 800      73206E75 
 800      6C6C00
 801              		.section	.text.sensor_iat_get,"ax",%progbits
 802              		.align	1
 803              		.global	sensor_iat_get
 804              		.syntax unified
 805              		.thumb
 806              		.thumb_func
 808              	sensor_iat_get:
 809              	.LFB236:
 148:controller/IO/sensors.c **** 
 149:controller/IO/sensors.c **** temperature_t sensor_iat_get()
 150:controller/IO/sensors.c **** {
 810              		.loc 1 150 1 is_stmt 1 view -0
 811              		.cfi_startproc
 812              		@ args = 0, pretend = 0, frame = 0
 813              		@ frame_needed = 0, uses_anonymous_args = 0
 814 0000 08B5     		push	{r3, lr}
 815              		.cfi_def_cfa_offset 8
 816              		.cfi_offset 3, -8
 817              		.cfi_offset 14, -4
 151:controller/IO/sensors.c ****     if (sensor_iat == NULL)
 818              		.loc 1 151 5 view .LVU238
 819              		.loc 1 151 20 is_stmt 0 view .LVU239
 820 0002 164B     		ldr	r3, .L59
 821 0004 1868     		ldr	r0, [r3]
 822              		.loc 1 151 8 view .LVU240
 823 0006 A8B1     		cbz	r0, .L58
 152:controller/IO/sensors.c ****     {
 153:controller/IO/sensors.c ****         log_error("iat sensor is null");
 154:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_IAT_ERROR, true);
 155:controller/IO/sensors.c ****         return SENSOR_IAT_FAIL_SAFE;
 156:controller/IO/sensors.c ****     }
 157:controller/IO/sensors.c ****     temperature_t temperature = thermistor_get_temp(sensor_iat);
 824              		.loc 1 157 5 is_stmt 1 view .LVU241
 825              		.loc 1 157 33 is_stmt 0 view .LVU242
 826 0008 FFF7FEFF 		bl	thermistor_get_temp
 827              	.LVL78:
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 22


 158:controller/IO/sensors.c ****     if (!IS_IN_RANGE(temperature, FIRMWARE_LIMIT_MIN_TEMP, FIRMWARE_LIMIT_MAX_TEMP))
 828              		.loc 1 158 5 is_stmt 1 view .LVU243
 829              		.loc 1 158 8 is_stmt 0 view .LVU244
 830 000c DFED147A 		vldr.32	s15, .L59+4
 831 0010 B4EEE70A 		vcmpe.f32	s0, s15
 832 0014 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 833 0018 17DB     		blt	.L53
 834              		.loc 1 158 9 discriminator 1 view .LVU245
 835 001a DFED127A 		vldr.32	s15, .L59+8
 836 001e B4EEE70A 		vcmpe.f32	s0, s15
 837 0022 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 838 0026 10D8     		bhi	.L53
 159:controller/IO/sensors.c ****     {
 160:controller/IO/sensors.c ****         //log_error("iat sensor out of range!");
 161:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_IAT_ERROR, true);
 162:controller/IO/sensors.c **** 
 163:controller/IO/sensors.c ****         return SENSOR_IAT_FAIL_SAFE;
 164:controller/IO/sensors.c ****     }
 165:controller/IO/sensors.c ****     change_bit(&runtime.status, STATUS_IAT_ERROR, false);
 839              		.loc 1 165 5 is_stmt 1 view .LVU246
 840              	.LVL79:
 841              	.LBB90:
 842              	.LBI90:
  19:controller/utils/utils.h **** {
 843              		.loc 2 19 20 view .LVU247
 844              	.LBB91:
  21:controller/utils/utils.h ****     {
 845              		.loc 2 21 5 view .LVU248
  25:controller/utils/utils.h ****     {
 846              		.loc 2 25 5 view .LVU249
  31:controller/utils/utils.h ****     }
 847              		.loc 2 31 9 view .LVU250
 848 0028 0F4A     		ldr	r2, .L59+12
 849 002a 1368     		ldr	r3, [r2]
  31:controller/utils/utils.h ****     }
 850              		.loc 2 31 14 is_stmt 0 view .LVU251
 851 002c 23F40033 		bic	r3, r3, #131072
 852 0030 1360     		str	r3, [r2]
 853              	.LVL80:
  31:controller/utils/utils.h ****     }
 854              		.loc 2 31 14 view .LVU252
 855              	.LBE91:
 856              	.LBE90:
 166:controller/IO/sensors.c ****     return temperature;
 857              		.loc 1 166 5 is_stmt 1 view .LVU253
 858              		.loc 1 166 12 is_stmt 0 view .LVU254
 859 0032 11E0     		b	.L50
 860              	.LVL81:
 861              	.L58:
 153:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_IAT_ERROR, true);
 862              		.loc 1 153 9 is_stmt 1 view .LVU255
 863 0034 0D48     		ldr	r0, .L59+16
 864 0036 FFF7FEFF 		bl	log_error
 865              	.LVL82:
 154:controller/IO/sensors.c ****         return SENSOR_IAT_FAIL_SAFE;
 866              		.loc 1 154 9 view .LVU256
 867              	.LBB92:
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 23


 868              	.LBI92:
  19:controller/utils/utils.h **** {
 869              		.loc 2 19 20 view .LVU257
 870              	.LBB93:
  21:controller/utils/utils.h ****     {
 871              		.loc 2 21 5 view .LVU258
  25:controller/utils/utils.h ****     {
 872              		.loc 2 25 5 view .LVU259
  27:controller/utils/utils.h ****     }
 873              		.loc 2 27 9 view .LVU260
 874 003a 0B4A     		ldr	r2, .L59+12
 875 003c 1368     		ldr	r3, [r2]
  27:controller/utils/utils.h ****     }
 876              		.loc 2 27 14 is_stmt 0 view .LVU261
 877 003e 43F40033 		orr	r3, r3, #131072
 878 0042 1360     		str	r3, [r2]
 879              	.LVL83:
  27:controller/utils/utils.h ****     }
 880              		.loc 2 27 14 view .LVU262
 881              	.LBE93:
 882              	.LBE92:
 155:controller/IO/sensors.c ****     }
 883              		.loc 1 155 9 is_stmt 1 view .LVU263
 155:controller/IO/sensors.c ****     }
 884              		.loc 1 155 16 is_stmt 0 view .LVU264
 885 0044 9FED0A0A 		vldr.32	s0, .L59+20
 886 0048 06E0     		b	.L50
 887              	.LVL84:
 888              	.L53:
 161:controller/IO/sensors.c **** 
 889              		.loc 1 161 9 is_stmt 1 view .LVU265
 890              	.LBB94:
 891              	.LBI94:
  19:controller/utils/utils.h **** {
 892              		.loc 2 19 20 view .LVU266
 893              	.LBB95:
  21:controller/utils/utils.h ****     {
 894              		.loc 2 21 5 view .LVU267
  25:controller/utils/utils.h ****     {
 895              		.loc 2 25 5 view .LVU268
  27:controller/utils/utils.h ****     }
 896              		.loc 2 27 9 view .LVU269
 897 004a 074A     		ldr	r2, .L59+12
 898 004c 1368     		ldr	r3, [r2]
  27:controller/utils/utils.h ****     }
 899              		.loc 2 27 14 is_stmt 0 view .LVU270
 900 004e 43F40033 		orr	r3, r3, #131072
 901 0052 1360     		str	r3, [r2]
 902              	.LVL85:
  27:controller/utils/utils.h ****     }
 903              		.loc 2 27 14 view .LVU271
 904              	.LBE95:
 905              	.LBE94:
 163:controller/IO/sensors.c ****     }
 906              		.loc 1 163 9 is_stmt 1 view .LVU272
 163:controller/IO/sensors.c ****     }
 907              		.loc 1 163 16 is_stmt 0 view .LVU273
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 24


 908 0054 9FED060A 		vldr.32	s0, .L59+20
 909              	.LVL86:
 910              	.L50:
 167:controller/IO/sensors.c **** }
 911              		.loc 1 167 1 view .LVU274
 912 0058 08BD     		pop	{r3, pc}
 913              	.L60:
 914 005a 00BF     		.align	2
 915              	.L59:
 916 005c 00000000 		.word	sensor_iat
 917 0060 000048C2 		.word	-1035468800
 918 0064 00007A43 		.word	1132068864
 919 0068 00000000 		.word	runtime
 920 006c 00000000 		.word	.LC5
 921 0070 00002042 		.word	1109393408
 922              		.cfi_endproc
 923              	.LFE236:
 925              		.section	.rodata.sensor_clt_init.str1.4,"aMS",%progbits,1
 926              		.align	2
 927              	.LC6:
 928 0000 636C7420 		.ascii	"clt sensor is null\000"
 928      73656E73 
 928      6F722069 
 928      73206E75 
 928      6C6C00
 929              		.section	.text.sensor_clt_init,"ax",%progbits
 930              		.align	1
 931              		.global	sensor_clt_init
 932              		.syntax unified
 933              		.thumb
 934              		.thumb_func
 936              	sensor_clt_init:
 937              	.LVL87:
 938              	.LFB237:
 168:controller/IO/sensors.c **** 
 169:controller/IO/sensors.c **** void sensor_clt_init(thermistor_t *sensor, sensor_clt_type_t type)
 170:controller/IO/sensors.c **** {
 939              		.loc 1 170 1 is_stmt 1 view -0
 940              		.cfi_startproc
 941              		@ args = 0, pretend = 0, frame = 24
 942              		@ frame_needed = 0, uses_anonymous_args = 0
 943              		.loc 1 170 1 is_stmt 0 view .LVU276
 944 0000 70B5     		push	{r4, r5, r6, lr}
 945              		.cfi_def_cfa_offset 16
 946              		.cfi_offset 4, -16
 947              		.cfi_offset 5, -12
 948              		.cfi_offset 6, -8
 949              		.cfi_offset 14, -4
 950 0002 8AB0     		sub	sp, sp, #40
 951              		.cfi_def_cfa_offset 56
 171:controller/IO/sensors.c ****     if (sensor == NULL)
 952              		.loc 1 171 5 is_stmt 1 view .LVU277
 953              		.loc 1 171 8 is_stmt 0 view .LVU278
 954 0004 20B3     		cbz	r0, .L68
 955 0006 0446     		mov	r4, r0
 172:controller/IO/sensors.c ****     {
 173:controller/IO/sensors.c ****         log_error("clt sensor is null");
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 25


 174:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_CLT_ERROR, true);
 175:controller/IO/sensors.c ****         return;
 176:controller/IO/sensors.c ****     }
 177:controller/IO/sensors.c ****     switch (type)
 956              		.loc 1 177 5 is_stmt 1 view .LVU279
 957 0008 59B3     		cbz	r1, .L64
 958 000a 0129     		cmp	r1, #1
 959 000c 4BD1     		bne	.L65
 960              	.LBB96:
 178:controller/IO/sensors.c ****     {
 179:controller/IO/sensors.c ****     /* Actually make this a proper thing */
 180:controller/IO/sensors.c ****     case SENSOR_CLT_TYPE_NISSAN:
 181:controller/IO/sensors.c ****         resistor_init(&sensor->resistor, 10000, RESISTOR_PULL_UP, ANALOG_INPUT_SENSOR_CLT_PIN);
 961              		.loc 1 181 9 view .LVU280
 962 000e 0722     		movs	r2, #7
 963 0010 0021     		movs	r1, #0
 964              	.LVL88:
 965              		.loc 1 181 9 is_stmt 0 view .LVU281
 966 0012 9FED280A 		vldr.32	s0, .L69
 967 0016 FFF7FEFF 		bl	resistor_init
 968              	.LVL89:
 182:controller/IO/sensors.c ****         thermistor_conf_t nissan_clt_conf =
 969              		.loc 1 182 9 is_stmt 1 view .LVU282
 970              		.loc 1 182 27 is_stmt 0 view .LVU283
 971 001a 04AD     		add	r5, sp, #16
 972 001c 264E     		ldr	r6, .L69+4
 973 001e 0FCE     		ldmia	r6!, {r0, r1, r2, r3}
 974 0020 0FC5     		stmia	r5!, {r0, r1, r2, r3}
 975 0022 96E80300 		ldm	r6, {r0, r1}
 976 0026 85E80300 		stm	r5, {r0, r1}
 183:controller/IO/sensors.c ****         {
 184:controller/IO/sensors.c ****             .resistance_1 = 15700.0f,
 185:controller/IO/sensors.c ****             .resistance_2 = 2050.0f,
 186:controller/IO/sensors.c ****             .resistance_3 = 230.0f,
 187:controller/IO/sensors.c ****             .tempC_1 = -20.0f,
 188:controller/IO/sensors.c ****             .tempC_2 = 25.0f,
 189:controller/IO/sensors.c ****             .tempC_3 = 90.0f
 190:controller/IO/sensors.c ****         };
 191:controller/IO/sensors.c ****         thermistor_init(sensor, nissan_clt_conf);
 977              		.loc 1 191 9 is_stmt 1 view .LVU284
 978 002a 0AAB     		add	r3, sp, #40
 979 002c 13E90700 		ldmdb	r3, {r0, r1, r2}
 980 0030 8DE80700 		stm	sp, {r0, r1, r2}
 981 0034 04AB     		add	r3, sp, #16
 982 0036 0ECB     		ldm	r3, {r1, r2, r3}
 983 0038 2046     		mov	r0, r4
 984 003a FFF7FEFF 		bl	thermistor_init
 985              	.LVL90:
 192:controller/IO/sensors.c ****         sensor_clt = sensor;
 986              		.loc 1 192 9 view .LVU285
 987              		.loc 1 192 20 is_stmt 0 view .LVU286
 988 003e 1F4B     		ldr	r3, .L69+8
 989 0040 1C60     		str	r4, [r3]
 193:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_CLT_ERROR, false);
 990              		.loc 1 193 9 is_stmt 1 view .LVU287
 991              	.LVL91:
 992              	.LBB97:
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 26


 993              	.LBI97:
  19:controller/utils/utils.h **** {
 994              		.loc 2 19 20 view .LVU288
 995              	.LBB98:
  21:controller/utils/utils.h ****     {
 996              		.loc 2 21 5 view .LVU289
  25:controller/utils/utils.h ****     {
 997              		.loc 2 25 5 view .LVU290
  31:controller/utils/utils.h ****     }
 998              		.loc 2 31 9 view .LVU291
 999 0042 1F4A     		ldr	r2, .L69+12
 1000 0044 1368     		ldr	r3, [r2]
  31:controller/utils/utils.h ****     }
 1001              		.loc 2 31 14 is_stmt 0 view .LVU292
 1002 0046 23F48033 		bic	r3, r3, #65536
 1003 004a 1360     		str	r3, [r2]
 1004              	.LVL92:
  31:controller/utils/utils.h ****     }
 1005              		.loc 2 31 14 view .LVU293
 1006              	.LBE98:
 1007              	.LBE97:
 194:controller/IO/sensors.c ****         break;
 1008              		.loc 1 194 9 is_stmt 1 view .LVU294
 1009              	.L61:
 1010              		.loc 1 194 9 is_stmt 0 view .LVU295
 1011              	.LBE96:
 195:controller/IO/sensors.c ****     case SENSOR_CLT_TYPE_TEST:
 196:controller/IO/sensors.c ****         resistor_init(&sensor->resistor, 4700, RESISTOR_PULL_UP, ANALOG_INPUT_SENSOR_CLT_PIN);
 197:controller/IO/sensors.c ****         thermistor_conf_t genric_5k =
 198:controller/IO/sensors.c ****         {
 199:controller/IO/sensors.c ****             .resistance_1 = 22.263e3f,
 200:controller/IO/sensors.c ****             .resistance_2 = 5e3f,
 201:controller/IO/sensors.c ****             .resistance_3 = 588.0f,
 202:controller/IO/sensors.c ****             .tempC_1 = -10.0f,
 203:controller/IO/sensors.c ****             .tempC_2 = 25.0f,
 204:controller/IO/sensors.c ****             .tempC_3 = 90.0f
 205:controller/IO/sensors.c ****         };
 206:controller/IO/sensors.c ****         thermistor_init(sensor, genric_5k);
 207:controller/IO/sensors.c ****         sensor_clt = sensor;
 208:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_CLT_ERROR, false);
 209:controller/IO/sensors.c ****         break;
 210:controller/IO/sensors.c ****     default:
 211:controller/IO/sensors.c ****         //log_error("clt sensor type not configured!");
 212:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_CLT_ERROR, true);
 213:controller/IO/sensors.c ****         break;
 214:controller/IO/sensors.c ****     }
 215:controller/IO/sensors.c **** }
 1012              		.loc 1 215 1 view .LVU296
 1013 004c 0AB0     		add	sp, sp, #40
 1014              		.cfi_remember_state
 1015              		.cfi_def_cfa_offset 16
 1016              		@ sp needed
 1017 004e 70BD     		pop	{r4, r5, r6, pc}
 1018              	.LVL93:
 1019              	.L68:
 1020              		.cfi_restore_state
 173:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_CLT_ERROR, true);
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 27


 1021              		.loc 1 173 9 is_stmt 1 view .LVU297
 1022 0050 1C48     		ldr	r0, .L69+16
 1023              	.LVL94:
 173:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_CLT_ERROR, true);
 1024              		.loc 1 173 9 is_stmt 0 view .LVU298
 1025 0052 FFF7FEFF 		bl	log_error
 1026              	.LVL95:
 174:controller/IO/sensors.c ****         return;
 1027              		.loc 1 174 9 is_stmt 1 view .LVU299
 1028              	.LBB103:
 1029              	.LBI103:
  19:controller/utils/utils.h **** {
 1030              		.loc 2 19 20 view .LVU300
 1031              	.LBB104:
  21:controller/utils/utils.h ****     {
 1032              		.loc 2 21 5 view .LVU301
  25:controller/utils/utils.h ****     {
 1033              		.loc 2 25 5 view .LVU302
  27:controller/utils/utils.h ****     }
 1034              		.loc 2 27 9 view .LVU303
 1035 0056 1A4A     		ldr	r2, .L69+12
 1036 0058 1368     		ldr	r3, [r2]
  27:controller/utils/utils.h ****     }
 1037              		.loc 2 27 14 is_stmt 0 view .LVU304
 1038 005a 43F48033 		orr	r3, r3, #65536
 1039 005e 1360     		str	r3, [r2]
 1040              	.LVL96:
  27:controller/utils/utils.h ****     }
 1041              		.loc 2 27 14 view .LVU305
 1042              	.LBE104:
 1043              	.LBE103:
 175:controller/IO/sensors.c ****     }
 1044              		.loc 1 175 9 is_stmt 1 view .LVU306
 1045 0060 F4E7     		b	.L61
 1046              	.LVL97:
 1047              	.L64:
 1048              	.LBB105:
 196:controller/IO/sensors.c ****         thermistor_conf_t genric_5k =
 1049              		.loc 1 196 9 view .LVU307
 1050 0062 0722     		movs	r2, #7
 1051 0064 0021     		movs	r1, #0
 1052              	.LVL98:
 196:controller/IO/sensors.c ****         thermistor_conf_t genric_5k =
 1053              		.loc 1 196 9 is_stmt 0 view .LVU308
 1054 0066 9FED180A 		vldr.32	s0, .L69+20
 1055 006a FFF7FEFF 		bl	resistor_init
 1056              	.LVL99:
 197:controller/IO/sensors.c ****         {
 1057              		.loc 1 197 9 is_stmt 1 view .LVU309
 197:controller/IO/sensors.c ****         {
 1058              		.loc 1 197 27 is_stmt 0 view .LVU310
 1059 006e 0DF1100C 		add	ip, sp, #16
 1060 0072 164D     		ldr	r5, .L69+24
 1061 0074 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 1062 0076 ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 1063 007a 95E80300 		ldm	r5, {r0, r1}
 1064 007e 8CE80300 		stm	ip, {r0, r1}
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 28


 206:controller/IO/sensors.c ****         sensor_clt = sensor;
 1065              		.loc 1 206 9 is_stmt 1 view .LVU311
 1066 0082 0AAB     		add	r3, sp, #40
 1067 0084 13E90700 		ldmdb	r3, {r0, r1, r2}
 1068 0088 8DE80700 		stm	sp, {r0, r1, r2}
 1069 008c 04AB     		add	r3, sp, #16
 1070 008e 0ECB     		ldm	r3, {r1, r2, r3}
 1071 0090 2046     		mov	r0, r4
 1072 0092 FFF7FEFF 		bl	thermistor_init
 1073              	.LVL100:
 207:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_CLT_ERROR, false);
 1074              		.loc 1 207 9 view .LVU312
 207:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_CLT_ERROR, false);
 1075              		.loc 1 207 20 is_stmt 0 view .LVU313
 1076 0096 094B     		ldr	r3, .L69+8
 1077 0098 1C60     		str	r4, [r3]
 208:controller/IO/sensors.c ****         break;
 1078              		.loc 1 208 9 is_stmt 1 view .LVU314
 1079              	.LVL101:
 1080              	.LBB99:
 1081              	.LBI99:
  19:controller/utils/utils.h **** {
 1082              		.loc 2 19 20 view .LVU315
 1083              	.LBB100:
  21:controller/utils/utils.h ****     {
 1084              		.loc 2 21 5 view .LVU316
  25:controller/utils/utils.h ****     {
 1085              		.loc 2 25 5 view .LVU317
  31:controller/utils/utils.h ****     }
 1086              		.loc 2 31 9 view .LVU318
 1087 009a 094A     		ldr	r2, .L69+12
 1088 009c 1368     		ldr	r3, [r2]
  31:controller/utils/utils.h ****     }
 1089              		.loc 2 31 14 is_stmt 0 view .LVU319
 1090 009e 23F48033 		bic	r3, r3, #65536
 1091 00a2 1360     		str	r3, [r2]
 1092              	.LVL102:
  31:controller/utils/utils.h ****     }
 1093              		.loc 2 31 14 view .LVU320
 1094              	.LBE100:
 1095              	.LBE99:
 209:controller/IO/sensors.c ****     default:
 1096              		.loc 1 209 9 is_stmt 1 view .LVU321
 1097 00a4 D2E7     		b	.L61
 1098              	.LVL103:
 1099              	.L65:
 212:controller/IO/sensors.c ****         break;
 1100              		.loc 1 212 9 view .LVU322
 1101              	.LBB101:
 1102              	.LBI101:
  19:controller/utils/utils.h **** {
 1103              		.loc 2 19 20 view .LVU323
 1104              	.LBB102:
  21:controller/utils/utils.h ****     {
 1105              		.loc 2 21 5 view .LVU324
  25:controller/utils/utils.h ****     {
 1106              		.loc 2 25 5 view .LVU325
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 29


  27:controller/utils/utils.h ****     }
 1107              		.loc 2 27 9 view .LVU326
 1108 00a6 064A     		ldr	r2, .L69+12
 1109 00a8 1368     		ldr	r3, [r2]
  27:controller/utils/utils.h ****     }
 1110              		.loc 2 27 14 is_stmt 0 view .LVU327
 1111 00aa 43F48033 		orr	r3, r3, #65536
 1112 00ae 1360     		str	r3, [r2]
 1113              	.LVL104:
  27:controller/utils/utils.h ****     }
 1114              		.loc 2 27 14 view .LVU328
 1115              	.LBE102:
 1116              	.LBE101:
 213:controller/IO/sensors.c ****     }
 1117              		.loc 1 213 9 is_stmt 1 view .LVU329
 1118 00b0 CCE7     		b	.L61
 1119              	.L70:
 1120 00b2 00BF     		.align	2
 1121              	.L69:
 1122 00b4 00401C46 		.word	1176256512
 1123 00b8 30000000 		.word	.LANCHOR0+48
 1124 00bc 00000000 		.word	sensor_clt
 1125 00c0 00000000 		.word	runtime
 1126 00c4 00000000 		.word	.LC6
 1127 00c8 00E09245 		.word	1167253504
 1128 00cc 18000000 		.word	.LANCHOR0+24
 1129              	.LBE105:
 1130              		.cfi_endproc
 1131              	.LFE237:
 1133              		.section	.text.sensor_clt_get,"ax",%progbits
 1134              		.align	1
 1135              		.global	sensor_clt_get
 1136              		.syntax unified
 1137              		.thumb
 1138              		.thumb_func
 1140              	sensor_clt_get:
 1141              	.LFB238:
 216:controller/IO/sensors.c **** 
 217:controller/IO/sensors.c **** temperature_t sensor_clt_get()
 218:controller/IO/sensors.c **** {
 1142              		.loc 1 218 1 view -0
 1143              		.cfi_startproc
 1144              		@ args = 0, pretend = 0, frame = 0
 1145              		@ frame_needed = 0, uses_anonymous_args = 0
 1146 0000 08B5     		push	{r3, lr}
 1147              		.cfi_def_cfa_offset 8
 1148              		.cfi_offset 3, -8
 1149              		.cfi_offset 14, -4
 219:controller/IO/sensors.c ****     if (sensor_clt == NULL)
 1150              		.loc 1 219 5 view .LVU331
 1151              		.loc 1 219 20 is_stmt 0 view .LVU332
 1152 0002 164B     		ldr	r3, .L80
 1153 0004 1868     		ldr	r0, [r3]
 1154              		.loc 1 219 8 view .LVU333
 1155 0006 A8B1     		cbz	r0, .L79
 220:controller/IO/sensors.c ****     {
 221:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_CLT_ERROR, true);
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 30


 222:controller/IO/sensors.c ****         log_error("clt sensor is null");
 223:controller/IO/sensors.c ****         return SENSOR_CLT_FAIL_SAFE;
 224:controller/IO/sensors.c ****     }
 225:controller/IO/sensors.c ****     temperature_t temperature = thermistor_get_temp(sensor_clt);
 1156              		.loc 1 225 5 is_stmt 1 view .LVU334
 1157              		.loc 1 225 33 is_stmt 0 view .LVU335
 1158 0008 FFF7FEFF 		bl	thermistor_get_temp
 1159              	.LVL105:
 226:controller/IO/sensors.c ****     if (!IS_IN_RANGE(temperature, FIRMWARE_LIMIT_MIN_TEMP, FIRMWARE_LIMIT_MAX_TEMP))
 1160              		.loc 1 226 5 is_stmt 1 view .LVU336
 1161              		.loc 1 226 8 is_stmt 0 view .LVU337
 1162 000c DFED147A 		vldr.32	s15, .L80+4
 1163 0010 B4EEE70A 		vcmpe.f32	s0, s15
 1164 0014 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1165 0018 17DB     		blt	.L74
 1166              		.loc 1 226 9 discriminator 1 view .LVU338
 1167 001a DFED127A 		vldr.32	s15, .L80+8
 1168 001e B4EEE70A 		vcmpe.f32	s0, s15
 1169 0022 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1170 0026 10D8     		bhi	.L74
 227:controller/IO/sensors.c ****     {
 228:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_CLT_ERROR, true);
 229:controller/IO/sensors.c ****         //log_error("clt sensor out of range!");
 230:controller/IO/sensors.c ****         return SENSOR_CLT_FAIL_SAFE;
 231:controller/IO/sensors.c ****     }
 232:controller/IO/sensors.c ****     change_bit(&runtime.status, STATUS_CLT_ERROR, false);
 1171              		.loc 1 232 5 is_stmt 1 view .LVU339
 1172              	.LVL106:
 1173              	.LBB106:
 1174              	.LBI106:
  19:controller/utils/utils.h **** {
 1175              		.loc 2 19 20 view .LVU340
 1176              	.LBB107:
  21:controller/utils/utils.h ****     {
 1177              		.loc 2 21 5 view .LVU341
  25:controller/utils/utils.h ****     {
 1178              		.loc 2 25 5 view .LVU342
  31:controller/utils/utils.h ****     }
 1179              		.loc 2 31 9 view .LVU343
 1180 0028 0F4A     		ldr	r2, .L80+12
 1181 002a 1368     		ldr	r3, [r2]
  31:controller/utils/utils.h ****     }
 1182              		.loc 2 31 14 is_stmt 0 view .LVU344
 1183 002c 23F48033 		bic	r3, r3, #65536
 1184 0030 1360     		str	r3, [r2]
 1185              	.LVL107:
  31:controller/utils/utils.h ****     }
 1186              		.loc 2 31 14 view .LVU345
 1187              	.LBE107:
 1188              	.LBE106:
 233:controller/IO/sensors.c ****     return temperature;
 1189              		.loc 1 233 5 is_stmt 1 view .LVU346
 1190              		.loc 1 233 12 is_stmt 0 view .LVU347
 1191 0032 11E0     		b	.L71
 1192              	.LVL108:
 1193              	.L79:
 221:controller/IO/sensors.c ****         log_error("clt sensor is null");
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 31


 1194              		.loc 1 221 9 is_stmt 1 view .LVU348
 1195              	.LBB108:
 1196              	.LBI108:
  19:controller/utils/utils.h **** {
 1197              		.loc 2 19 20 view .LVU349
 1198              	.LBB109:
  21:controller/utils/utils.h ****     {
 1199              		.loc 2 21 5 view .LVU350
  25:controller/utils/utils.h ****     {
 1200              		.loc 2 25 5 view .LVU351
  27:controller/utils/utils.h ****     }
 1201              		.loc 2 27 9 view .LVU352
 1202 0034 0C4A     		ldr	r2, .L80+12
 1203 0036 1368     		ldr	r3, [r2]
  27:controller/utils/utils.h ****     }
 1204              		.loc 2 27 14 is_stmt 0 view .LVU353
 1205 0038 43F48033 		orr	r3, r3, #65536
 1206 003c 1360     		str	r3, [r2]
 1207              	.LVL109:
  27:controller/utils/utils.h ****     }
 1208              		.loc 2 27 14 view .LVU354
 1209              	.LBE109:
 1210              	.LBE108:
 222:controller/IO/sensors.c ****         return SENSOR_CLT_FAIL_SAFE;
 1211              		.loc 1 222 9 is_stmt 1 view .LVU355
 1212 003e 0B48     		ldr	r0, .L80+16
 1213 0040 FFF7FEFF 		bl	log_error
 1214              	.LVL110:
 223:controller/IO/sensors.c ****     }
 1215              		.loc 1 223 9 view .LVU356
 223:controller/IO/sensors.c ****     }
 1216              		.loc 1 223 16 is_stmt 0 view .LVU357
 1217 0044 9FED0A0A 		vldr.32	s0, .L80+20
 1218 0048 06E0     		b	.L71
 1219              	.LVL111:
 1220              	.L74:
 228:controller/IO/sensors.c ****         //log_error("clt sensor out of range!");
 1221              		.loc 1 228 9 is_stmt 1 view .LVU358
 1222              	.LBB110:
 1223              	.LBI110:
  19:controller/utils/utils.h **** {
 1224              		.loc 2 19 20 view .LVU359
 1225              	.LBB111:
  21:controller/utils/utils.h ****     {
 1226              		.loc 2 21 5 view .LVU360
  25:controller/utils/utils.h ****     {
 1227              		.loc 2 25 5 view .LVU361
  27:controller/utils/utils.h ****     }
 1228              		.loc 2 27 9 view .LVU362
 1229 004a 074A     		ldr	r2, .L80+12
 1230 004c 1368     		ldr	r3, [r2]
  27:controller/utils/utils.h ****     }
 1231              		.loc 2 27 14 is_stmt 0 view .LVU363
 1232 004e 43F48033 		orr	r3, r3, #65536
 1233 0052 1360     		str	r3, [r2]
 1234              	.LVL112:
  27:controller/utils/utils.h ****     }
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 32


 1235              		.loc 2 27 14 view .LVU364
 1236              	.LBE111:
 1237              	.LBE110:
 230:controller/IO/sensors.c ****     }
 1238              		.loc 1 230 9 is_stmt 1 view .LVU365
 230:controller/IO/sensors.c ****     }
 1239              		.loc 1 230 16 is_stmt 0 view .LVU366
 1240 0054 9FED060A 		vldr.32	s0, .L80+20
 1241              	.LVL113:
 1242              	.L71:
 234:controller/IO/sensors.c **** }
 1243              		.loc 1 234 1 view .LVU367
 1244 0058 08BD     		pop	{r3, pc}
 1245              	.L81:
 1246 005a 00BF     		.align	2
 1247              	.L80:
 1248 005c 00000000 		.word	sensor_clt
 1249 0060 000048C2 		.word	-1035468800
 1250 0064 00007A43 		.word	1132068864
 1251 0068 00000000 		.word	runtime
 1252 006c 00000000 		.word	.LC6
 1253 0070 00007042 		.word	1114636288
 1254              		.cfi_endproc
 1255              	.LFE238:
 1257              		.section	.rodata.sensor_ops_init.str1.4,"aMS",%progbits,1
 1258              		.align	2
 1259              	.LC7:
 1260 0000 6F707320 		.ascii	"ops sensor is null\000"
 1260      73656E73 
 1260      6F722069 
 1260      73206E75 
 1260      6C6C00
 1261              		.section	.text.sensor_ops_init,"ax",%progbits
 1262              		.align	1
 1263              		.global	sensor_ops_init
 1264              		.syntax unified
 1265              		.thumb
 1266              		.thumb_func
 1268              	sensor_ops_init:
 1269              	.LVL114:
 1270              	.LFB239:
 235:controller/IO/sensors.c **** 
 236:controller/IO/sensors.c **** void sensor_ops_init(sensor_ops_t *sensor)
 237:controller/IO/sensors.c **** {
 1271              		.loc 1 237 1 is_stmt 1 view -0
 1272              		.cfi_startproc
 1273              		@ args = 0, pretend = 0, frame = 0
 1274              		@ frame_needed = 0, uses_anonymous_args = 0
 1275              		.loc 1 237 1 is_stmt 0 view .LVU369
 1276 0000 08B5     		push	{r3, lr}
 1277              		.cfi_def_cfa_offset 8
 1278              		.cfi_offset 3, -8
 1279              		.cfi_offset 14, -4
 238:controller/IO/sensors.c ****     if (sensor == NULL)
 1280              		.loc 1 238 5 is_stmt 1 view .LVU370
 1281              		.loc 1 238 8 is_stmt 0 view .LVU371
 1282 0002 48B1     		cbz	r0, .L86
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 33


 239:controller/IO/sensors.c ****     {
 240:controller/IO/sensors.c ****         log_error("ops sensor is null");
 241:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_OIL_PRESSURE_LOW, true);
 242:controller/IO/sensors.c ****         return;
 243:controller/IO/sensors.c ****     }
 244:controller/IO/sensors.c ****     sensor->adc_value_threshold = 4095 / 2;
 1283              		.loc 1 244 5 is_stmt 1 view .LVU372
 1284              		.loc 1 244 33 is_stmt 0 view .LVU373
 1285 0004 40F2FF72 		movw	r2, #2047
 1286 0008 0280     		strh	r2, [r0]	@ movhi
 245:controller/IO/sensors.c ****     sensor->debounce_time_ms = 200;
 1287              		.loc 1 245 5 is_stmt 1 view .LVU374
 1288              		.loc 1 245 30 is_stmt 0 view .LVU375
 1289 000a C822     		movs	r2, #200
 1290 000c 4280     		strh	r2, [r0, #2]	@ movhi
 246:controller/IO/sensors.c ****     sensor->analog_channel = ANALOG_INPUT_SENSOR_OIL_PIN;
 1291              		.loc 1 246 5 is_stmt 1 view .LVU376
 1292              		.loc 1 246 28 is_stmt 0 view .LVU377
 1293 000e 0822     		movs	r2, #8
 1294 0010 0271     		strb	r2, [r0, #4]
 247:controller/IO/sensors.c ****     sensor_ops = sensor;
 1295              		.loc 1 247 5 is_stmt 1 view .LVU378
 1296              		.loc 1 247 16 is_stmt 0 view .LVU379
 1297 0012 064A     		ldr	r2, .L87
 1298 0014 1060     		str	r0, [r2]
 1299              	.LVL115:
 1300              	.L82:
 248:controller/IO/sensors.c ****     
 249:controller/IO/sensors.c **** }
 1301              		.loc 1 249 1 view .LVU380
 1302 0016 08BD     		pop	{r3, pc}
 1303              	.LVL116:
 1304              	.L86:
 240:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_OIL_PRESSURE_LOW, true);
 1305              		.loc 1 240 9 is_stmt 1 view .LVU381
 1306 0018 0548     		ldr	r0, .L87+4
 1307              	.LVL117:
 240:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_OIL_PRESSURE_LOW, true);
 1308              		.loc 1 240 9 is_stmt 0 view .LVU382
 1309 001a FFF7FEFF 		bl	log_error
 1310              	.LVL118:
 241:controller/IO/sensors.c ****         return;
 1311              		.loc 1 241 9 is_stmt 1 view .LVU383
 1312              	.LBB112:
 1313              	.LBI112:
  19:controller/utils/utils.h **** {
 1314              		.loc 2 19 20 view .LVU384
 1315              	.LBB113:
  21:controller/utils/utils.h ****     {
 1316              		.loc 2 21 5 view .LVU385
  25:controller/utils/utils.h ****     {
 1317              		.loc 2 25 5 view .LVU386
  27:controller/utils/utils.h ****     }
 1318              		.loc 2 27 9 view .LVU387
 1319 001e 054A     		ldr	r2, .L87+8
 1320 0020 1368     		ldr	r3, [r2]
  27:controller/utils/utils.h ****     }
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 34


 1321              		.loc 2 27 14 is_stmt 0 view .LVU388
 1322 0022 43F08053 		orr	r3, r3, #268435456
 1323 0026 1360     		str	r3, [r2]
 1324              	.LVL119:
  27:controller/utils/utils.h ****     }
 1325              		.loc 2 27 14 view .LVU389
 1326              	.LBE113:
 1327              	.LBE112:
 242:controller/IO/sensors.c ****     }
 1328              		.loc 1 242 9 is_stmt 1 view .LVU390
 1329 0028 F5E7     		b	.L82
 1330              	.L88:
 1331 002a 00BF     		.align	2
 1332              	.L87:
 1333 002c 00000000 		.word	sensor_ops
 1334 0030 00000000 		.word	.LC7
 1335 0034 00000000 		.word	runtime
 1336              		.cfi_endproc
 1337              	.LFE239:
 1339              		.section	.text.sensor_ops_get,"ax",%progbits
 1340              		.align	1
 1341              		.global	sensor_ops_get
 1342              		.syntax unified
 1343              		.thumb
 1344              		.thumb_func
 1346              	sensor_ops_get:
 1347              	.LFB240:
 250:controller/IO/sensors.c **** 
 251:controller/IO/sensors.c **** bool sensor_ops_get()
 252:controller/IO/sensors.c **** {
 1348              		.loc 1 252 1 view -0
 1349              		.cfi_startproc
 1350              		@ args = 0, pretend = 0, frame = 0
 1351              		@ frame_needed = 0, uses_anonymous_args = 0
 1352 0000 10B5     		push	{r4, lr}
 1353              		.cfi_def_cfa_offset 8
 1354              		.cfi_offset 4, -8
 1355              		.cfi_offset 14, -4
 253:controller/IO/sensors.c ****     static uint32_t last_change_time = 0;
 1356              		.loc 1 253 5 view .LVU392
 254:controller/IO/sensors.c ****     static bool last_state = false;
 1357              		.loc 1 254 5 view .LVU393
 255:controller/IO/sensors.c ****     static bool debounced_state = false;
 1358              		.loc 1 255 5 view .LVU394
 256:controller/IO/sensors.c **** 
 257:controller/IO/sensors.c ****     if (sensor_ops == NULL)
 1359              		.loc 1 257 5 view .LVU395
 1360              		.loc 1 257 20 is_stmt 0 view .LVU396
 1361 0002 1D4B     		ldr	r3, .L97
 1362 0004 1B68     		ldr	r3, [r3]
 1363              		.loc 1 257 8 view .LVU397
 1364 0006 33B3     		cbz	r3, .L96
 258:controller/IO/sensors.c ****     {
 259:controller/IO/sensors.c ****         log_error("ops sensor is null");
 260:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_OIL_PRESSURE_LOW, true);
 261:controller/IO/sensors.c ****         return false;
 262:controller/IO/sensors.c ****     }
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 35


 263:controller/IO/sensors.c **** 
 264:controller/IO/sensors.c ****     uint16_t adc_value = analog_inputs_get_data(sensor_ops->analog_channel);
 1365              		.loc 1 264 5 is_stmt 1 view .LVU398
 1366              		.loc 1 264 26 is_stmt 0 view .LVU399
 1367 0008 1879     		ldrb	r0, [r3, #4]	@ zero_extendqisi2
 1368 000a FFF7FEFF 		bl	analog_inputs_get_data
 1369              	.LVL120:
 265:controller/IO/sensors.c ****     bool current_state = adc_value > sensor_ops->adc_value_threshold;
 1370              		.loc 1 265 5 is_stmt 1 view .LVU400
 1371              		.loc 1 265 48 is_stmt 0 view .LVU401
 1372 000e 1A4B     		ldr	r3, .L97
 1373 0010 1B68     		ldr	r3, [r3]
 1374 0012 1C88     		ldrh	r4, [r3]
 1375              		.loc 1 265 10 view .LVU402
 1376 0014 8442     		cmp	r4, r0
 1377 0016 2CBF     		ite	cs
 1378 0018 0024     		movcs	r4, #0
 1379 001a 0124     		movcc	r4, #1
 1380              	.LVL121:
 266:controller/IO/sensors.c **** 
 267:controller/IO/sensors.c ****     uint32_t now = get_time_ms();
 1381              		.loc 1 267 5 is_stmt 1 view .LVU403
 1382              		.loc 1 267 20 is_stmt 0 view .LVU404
 1383 001c FFF7FEFF 		bl	get_time_ms
 1384              	.LVL122:
 268:controller/IO/sensors.c **** 
 269:controller/IO/sensors.c ****     if (current_state != last_state)
 1385              		.loc 1 269 5 is_stmt 1 view .LVU405
 1386              		.loc 1 269 23 is_stmt 0 view .LVU406
 1387 0020 164B     		ldr	r3, .L97+4
 1388 0022 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1389              		.loc 1 269 8 view .LVU407
 1390 0024 A342     		cmp	r3, r4
 1391 0026 03D0     		beq	.L92
 270:controller/IO/sensors.c ****     {
 271:controller/IO/sensors.c ****         /* State changed, reset debounce timer */
 272:controller/IO/sensors.c ****         last_change_time = now;
 1392              		.loc 1 272 9 is_stmt 1 view .LVU408
 1393              		.loc 1 272 26 is_stmt 0 view .LVU409
 1394 0028 154B     		ldr	r3, .L97+8
 1395 002a 1860     		str	r0, [r3]
 273:controller/IO/sensors.c ****         last_state = current_state;
 1396              		.loc 1 273 9 is_stmt 1 view .LVU410
 1397              		.loc 1 273 20 is_stmt 0 view .LVU411
 1398 002c 134B     		ldr	r3, .L97+4
 1399 002e 1C70     		strb	r4, [r3]
 1400              	.L92:
 274:controller/IO/sensors.c ****     }
 275:controller/IO/sensors.c **** 
 276:controller/IO/sensors.c ****     if ((now - last_change_time) >= sensor_ops->debounce_time_ms)
 1401              		.loc 1 276 5 is_stmt 1 view .LVU412
 1402              		.loc 1 276 14 is_stmt 0 view .LVU413
 1403 0030 134B     		ldr	r3, .L97+8
 1404 0032 1B68     		ldr	r3, [r3]
 1405 0034 C01A     		subs	r0, r0, r3
 1406              	.LVL123:
 1407              		.loc 1 276 47 view .LVU414
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 36


 1408 0036 104B     		ldr	r3, .L97
 1409 0038 1B68     		ldr	r3, [r3]
 1410 003a 5B88     		ldrh	r3, [r3, #2]
 1411              		.loc 1 276 8 view .LVU415
 1412 003c 9842     		cmp	r0, r3
 1413 003e 01D3     		bcc	.L93
 277:controller/IO/sensors.c ****     {
 278:controller/IO/sensors.c ****         /* Debounce period passed, accept new state */
 279:controller/IO/sensors.c ****         debounced_state = current_state;
 1414              		.loc 1 279 9 is_stmt 1 view .LVU416
 1415              		.loc 1 279 25 is_stmt 0 view .LVU417
 1416 0040 104B     		ldr	r3, .L97+12
 1417 0042 1C70     		strb	r4, [r3]
 1418              	.L93:
 280:controller/IO/sensors.c ****     }
 281:controller/IO/sensors.c ****     
 282:controller/IO/sensors.c ****     change_bit(&runtime.status, STATUS_OIL_PRESSURE_LOW, !debounced_state);
 1419              		.loc 1 282 5 is_stmt 1 view .LVU418
 1420 0044 0F4B     		ldr	r3, .L97+12
 1421 0046 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 1422              	.LVL124:
 1423              	.LBB114:
 1424              	.LBI114:
  19:controller/utils/utils.h **** {
 1425              		.loc 2 19 20 view .LVU419
 1426              	.LBB115:
  21:controller/utils/utils.h ****     {
 1427              		.loc 2 21 5 view .LVU420
  25:controller/utils/utils.h ****     {
 1428              		.loc 2 25 5 view .LVU421
  25:controller/utils/utils.h ****     {
 1429              		.loc 2 25 8 is_stmt 0 view .LVU422
 1430 0048 78B9     		cbnz	r0, .L94
  27:controller/utils/utils.h ****     }
 1431              		.loc 2 27 9 is_stmt 1 view .LVU423
 1432 004a 0F4A     		ldr	r2, .L97+16
 1433 004c 1368     		ldr	r3, [r2]
  27:controller/utils/utils.h ****     }
 1434              		.loc 2 27 14 is_stmt 0 view .LVU424
 1435 004e 43F08053 		orr	r3, r3, #268435456
 1436 0052 1360     		str	r3, [r2]
 1437              	.LVL125:
 1438              	.L91:
  27:controller/utils/utils.h ****     }
 1439              		.loc 2 27 14 view .LVU425
 1440              	.LBE115:
 1441              	.LBE114:
 283:controller/IO/sensors.c ****     return debounced_state;
 284:controller/IO/sensors.c **** }
 1442              		.loc 1 284 1 view .LVU426
 1443 0054 10BD     		pop	{r4, pc}
 1444              	.L96:
 259:controller/IO/sensors.c ****         change_bit(&runtime.status, STATUS_OIL_PRESSURE_LOW, true);
 1445              		.loc 1 259 9 is_stmt 1 view .LVU427
 1446 0056 0D48     		ldr	r0, .L97+20
 1447 0058 FFF7FEFF 		bl	log_error
 1448              	.LVL126:
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 37


 260:controller/IO/sensors.c ****         return false;
 1449              		.loc 1 260 9 view .LVU428
 1450              	.LBB117:
 1451              	.LBI117:
  19:controller/utils/utils.h **** {
 1452              		.loc 2 19 20 view .LVU429
 1453              	.LBB118:
  21:controller/utils/utils.h ****     {
 1454              		.loc 2 21 5 view .LVU430
  25:controller/utils/utils.h ****     {
 1455              		.loc 2 25 5 view .LVU431
  27:controller/utils/utils.h ****     }
 1456              		.loc 2 27 9 view .LVU432
 1457 005c 0A4A     		ldr	r2, .L97+16
 1458 005e 1368     		ldr	r3, [r2]
  27:controller/utils/utils.h ****     }
 1459              		.loc 2 27 14 is_stmt 0 view .LVU433
 1460 0060 43F08053 		orr	r3, r3, #268435456
 1461 0064 1360     		str	r3, [r2]
 1462              	.LVL127:
  27:controller/utils/utils.h ****     }
 1463              		.loc 2 27 14 view .LVU434
 1464              	.LBE118:
 1465              	.LBE117:
 261:controller/IO/sensors.c ****     }
 1466              		.loc 1 261 9 is_stmt 1 view .LVU435
 261:controller/IO/sensors.c ****     }
 1467              		.loc 1 261 16 is_stmt 0 view .LVU436
 1468 0066 0020     		movs	r0, #0
 1469 0068 F4E7     		b	.L91
 1470              	.LVL128:
 1471              	.L94:
 1472              	.LBB119:
 1473              	.LBB116:
  31:controller/utils/utils.h ****     }
 1474              		.loc 2 31 9 is_stmt 1 view .LVU437
 1475 006a 074A     		ldr	r2, .L97+16
 1476 006c 1368     		ldr	r3, [r2]
  31:controller/utils/utils.h ****     }
 1477              		.loc 2 31 14 is_stmt 0 view .LVU438
 1478 006e 23F08053 		bic	r3, r3, #268435456
 1479 0072 1360     		str	r3, [r2]
 1480 0074 EEE7     		b	.L91
 1481              	.L98:
 1482 0076 00BF     		.align	2
 1483              	.L97:
 1484 0078 00000000 		.word	sensor_ops
 1485 007c 00000000 		.word	last_state.2
 1486 0080 00000000 		.word	last_change_time.1
 1487 0084 00000000 		.word	debounced_state.0
 1488 0088 00000000 		.word	runtime
 1489 008c 00000000 		.word	.LC7
 1490              	.LBE116:
 1491              	.LBE119:
 1492              		.cfi_endproc
 1493              	.LFE240:
 1495              		.section	.text.sensor_egt_get,"ax",%progbits
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 38


 1496              		.align	1
 1497              		.global	sensor_egt_get
 1498              		.syntax unified
 1499              		.thumb
 1500              		.thumb_func
 1502              	sensor_egt_get:
 1503              	.LFB241:
 285:controller/IO/sensors.c **** 
 286:controller/IO/sensors.c **** temperature_t sensor_egt_get()
 287:controller/IO/sensors.c **** {
 1504              		.loc 1 287 1 is_stmt 1 view -0
 1505              		.cfi_startproc
 1506              		@ args = 0, pretend = 0, frame = 0
 1507              		@ frame_needed = 0, uses_anonymous_args = 0
 1508 0000 08B5     		push	{r3, lr}
 1509              		.cfi_def_cfa_offset 8
 1510              		.cfi_offset 3, -8
 1511              		.cfi_offset 14, -4
 288:controller/IO/sensors.c ****     uint16_t adc_value = analog_inputs_get_data(ANALOG_INPUT_SENSOR_EGT);
 1512              		.loc 1 288 5 view .LVU440
 1513              		.loc 1 288 26 is_stmt 0 view .LVU441
 1514 0002 0020     		movs	r0, #0
 1515 0004 FFF7FEFF 		bl	analog_inputs_get_data
 1516              	.LVL129:
 1517 0008 07EE900A 		vmov	s15, r0	@ int
 1518              	.LVL130:
 289:controller/IO/sensors.c ****     /*
 290:controller/IO/sensors.c ****      * Type K thermocouple: ~41uV/C
 291:controller/IO/sensors.c ****      * With gain 100: 4.1mV/C
 292:controller/IO/sensors.c ****      * ADC: 12-bit, 3.3V ref => 3.3V/4095  0.000805V/LSB
 293:controller/IO/sensors.c ****      * So, each C = 4.1mV / 0.000805V  5.09 ADC counts/C
 294:controller/IO/sensors.c ****      * Temperature (C) = (adc_value * 3.3 / 4095) / 0.0041
 295:controller/IO/sensors.c ****      */
 296:controller/IO/sensors.c ****     voltage_t voltage = ((float)adc_value * ADC_REF_VOLTAGE) / ADC_MAX_VALUE;
 1519              		.loc 1 296 5 is_stmt 1 view .LVU442
 1520              		.loc 1 296 26 is_stmt 0 view .LVU443
 1521 000c F8EE677A 		vcvt.f32.u32	s15, s15
 1522              	.LVL131:
 1523              		.loc 1 296 43 view .LVU444
 1524 0010 9FED067A 		vldr.32	s14, .L101
 1525 0014 67EE877A 		vmul.f32	s15, s15, s14
 1526              		.loc 1 296 15 view .LVU445
 1527 0018 9FED057A 		vldr.32	s14, .L101+4
 1528 001c 87EE870A 		vdiv.f32	s0, s15, s14
 1529              	.LVL132:
 297:controller/IO/sensors.c ****     temperature_t temperature = (temperature_t)(voltage / SENSOR_EGT_THERMOCOUPLE_CONSTANT);
 1530              		.loc 1 297 5 is_stmt 1 view .LVU446
 298:controller/IO/sensors.c ****     return temperature;
 1531              		.loc 1 298 5 view .LVU447
 299:controller/IO/sensors.c **** 
 300:controller/IO/sensors.c **** }
 1532              		.loc 1 300 1 is_stmt 0 view .LVU448
 1533 0020 DFED047A 		vldr.32	s15, .L101+8
 1534 0024 80EE270A 		vdiv.f32	s0, s0, s15
 1535              	.LVL133:
 1536              		.loc 1 300 1 view .LVU449
 1537 0028 08BD     		pop	{r3, pc}
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 39


 1538              	.L102:
 1539 002a 00BF     		.align	2
 1540              	.L101:
 1541 002c 33335340 		.word	1079194419
 1542 0030 00F07F45 		.word	1166012416
 1543 0034 6AF72B38 		.word	942405482
 1544              		.cfi_endproc
 1545              	.LFE241:
 1547              		.section	.text.vbat_get,"ax",%progbits
 1548              		.align	1
 1549              		.global	vbat_get
 1550              		.syntax unified
 1551              		.thumb
 1552              		.thumb_func
 1554              	vbat_get:
 1555              	.LFB242:
 301:controller/IO/sensors.c **** voltage_t vbat_get()
 302:controller/IO/sensors.c **** {
 1556              		.loc 1 302 1 is_stmt 1 view -0
 1557              		.cfi_startproc
 1558              		@ args = 0, pretend = 0, frame = 0
 1559              		@ frame_needed = 0, uses_anonymous_args = 0
 1560 0000 08B5     		push	{r3, lr}
 1561              		.cfi_def_cfa_offset 8
 1562              		.cfi_offset 3, -8
 1563              		.cfi_offset 14, -4
 303:controller/IO/sensors.c ****     uint16_t adc_value = analog_inputs_get_data(ANALOG_INPUT_VBAT_SENSE_PIN);
 1564              		.loc 1 303 5 view .LVU451
 1565              		.loc 1 303 26 is_stmt 0 view .LVU452
 1566 0002 0920     		movs	r0, #9
 1567 0004 FFF7FEFF 		bl	analog_inputs_get_data
 1568              	.LVL134:
 1569 0008 07EE900A 		vmov	s15, r0	@ int
 1570              	.LVL135:
 304:controller/IO/sensors.c ****     voltage_t voltage = ((float)adc_value * ADC_REF_VOLTAGE) / ADC_MAX_VALUE * VBAT_DIVIDER_RATIO;
 1571              		.loc 1 304 5 is_stmt 1 view .LVU453
 1572              		.loc 1 304 26 is_stmt 0 view .LVU454
 1573 000c F8EE677A 		vcvt.f32.u32	s15, s15
 1574              	.LVL136:
 1575              		.loc 1 304 43 view .LVU455
 1576 0010 9FED067A 		vldr.32	s14, .L105
 1577 0014 67EE877A 		vmul.f32	s15, s15, s14
 1578              		.loc 1 304 62 view .LVU456
 1579 0018 9FED057A 		vldr.32	s14, .L105+4
 1580 001c 87EE870A 		vdiv.f32	s0, s15, s14
 1581              	.LVL137:
 305:controller/IO/sensors.c ****     return voltage;
 1582              		.loc 1 305 5 is_stmt 1 view .LVU457
 306:controller/IO/sensors.c **** }
 1583              		.loc 1 306 1 is_stmt 0 view .LVU458
 1584 0020 DFED047A 		vldr.32	s15, .L105+8
 1585 0024 20EE270A 		vmul.f32	s0, s0, s15
 1586              	.LVL138:
 1587              		.loc 1 306 1 view .LVU459
 1588 0028 08BD     		pop	{r3, pc}
 1589              	.L106:
 1590 002a 00BF     		.align	2
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 40


 1591              	.L105:
 1592 002c 33335340 		.word	1079194419
 1593 0030 00F07F45 		.word	1166012416
 1594 0034 66662641 		.word	1093035622
 1595              		.cfi_endproc
 1596              	.LFE242:
 1598              		.section	.bss.debounced_state.0,"aw",%nobits
 1601              	debounced_state.0:
 1602 0000 00       		.space	1
 1603              		.section	.bss.last_change_time.1,"aw",%nobits
 1604              		.align	2
 1607              	last_change_time.1:
 1608 0000 00000000 		.space	4
 1609              		.section	.bss.last_state.2,"aw",%nobits
 1612              	last_state.2:
 1613 0000 00       		.space	1
 1614              		.section	.bss.sensor_ops,"aw",%nobits
 1615              		.align	2
 1618              	sensor_ops:
 1619 0000 00000000 		.space	4
 1620              		.section	.bss.sensor_clt,"aw",%nobits
 1621              		.align	2
 1624              	sensor_clt:
 1625 0000 00000000 		.space	4
 1626              		.section	.bss.sensor_iat,"aw",%nobits
 1627              		.align	2
 1630              	sensor_iat:
 1631 0000 00000000 		.space	4
 1632              		.section	.bss.map_sensor,"aw",%nobits
 1633              		.align	2
 1636              	map_sensor:
 1637 0000 00000000 		.space	4
 1638              		.section	.rodata
 1639              		.align	2
 1640              		.set	.LANCHOR0,. + 0
 1641              	.LC0:
 1642 0000 000020C1 		.word	-1054867456
 1643 0004 0000C841 		.word	1103626240
 1644 0008 0000A042 		.word	1117782016
 1645 000c 00CC1246 		.word	1175636992
 1646 0010 00800045 		.word	1157660672
 1647 0014 0040A143 		.word	1134641152
 1648              	.LC1:
 1649 0018 000020C1 		.word	-1054867456
 1650 001c 0000C841 		.word	1103626240
 1651 0020 0000B442 		.word	1119092736
 1652 0024 00EEAD46 		.word	1185803776
 1653 0028 00409C45 		.word	1167867904
 1654 002c 00001344 		.word	1142095872
 1655              	.LC2:
 1656 0030 0000A0C1 		.word	-1046478848
 1657 0034 0000C841 		.word	1103626240
 1658 0038 0000B442 		.word	1119092736
 1659 003c 00507546 		.word	1182093312
 1660 0040 00200045 		.word	1157636096
 1661 0044 00006643 		.word	1130758144
 1662              		.text
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 41


 1663              	.Letext0:
 1664              		.file 3 "C:/Users/alireza/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-
 1665              		.file 4 "C:/Users/alireza/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-
 1666              		.file 5 "controller/types.h"
 1667              		.file 6 "controller/IO/analog_inputs.h"
 1668              		.file 7 "controller/IO/resistor.h"
 1669              		.file 8 "controller/IO/thermistor.h"
 1670              		.file 9 "controller/config_and_runtime.h"
 1671              		.file 10 "controller/IO/sensors.h"
 1672              		.file 11 "controller/utils/error_handling.h"
 1673              		.file 12 "controller/utils/timing.h"
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 42


DEFINED SYMBOLS
                            *ABS*:00000000 sensors.c
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:21     .rodata.sensor_tps_get.str1.4:00000000 $d
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:25     .text.sensor_tps_get:00000000 $t
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:31     .text.sensor_tps_get:00000000 sensor_tps_get
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:280    .text.sensor_tps_get:00000100 $d
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:289    .rodata.sensor_map_init.str1.4:00000000 $d
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:293    .text.sensor_map_init:00000000 $t
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:299    .text.sensor_map_init:00000000 sensor_map_init
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:433    .text.sensor_map_init:00000058 $d
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1636   .bss.map_sensor:00000000 map_sensor
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:440    .text.sensor_map_get:00000000 $t
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:446    .text.sensor_map_get:00000000 sensor_map_get
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:615    .text.sensor_map_get:000000a0 $d
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:624    .text.sensor_iat_init:00000000 $t
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:630    .text.sensor_iat_init:00000000 sensor_iat_init
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:788    .text.sensor_iat_init:000000a0 $d
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1630   .bss.sensor_iat:00000000 sensor_iat
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:798    .rodata.sensor_iat_get.str1.4:00000000 $d
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:802    .text.sensor_iat_get:00000000 $t
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:808    .text.sensor_iat_get:00000000 sensor_iat_get
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:916    .text.sensor_iat_get:0000005c $d
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:926    .rodata.sensor_clt_init.str1.4:00000000 $d
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:930    .text.sensor_clt_init:00000000 $t
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:936    .text.sensor_clt_init:00000000 sensor_clt_init
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1122   .text.sensor_clt_init:000000b4 $d
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1624   .bss.sensor_clt:00000000 sensor_clt
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1134   .text.sensor_clt_get:00000000 $t
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1140   .text.sensor_clt_get:00000000 sensor_clt_get
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1248   .text.sensor_clt_get:0000005c $d
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1258   .rodata.sensor_ops_init.str1.4:00000000 $d
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1262   .text.sensor_ops_init:00000000 $t
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1268   .text.sensor_ops_init:00000000 sensor_ops_init
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1333   .text.sensor_ops_init:0000002c $d
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1618   .bss.sensor_ops:00000000 sensor_ops
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1340   .text.sensor_ops_get:00000000 $t
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1346   .text.sensor_ops_get:00000000 sensor_ops_get
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1484   .text.sensor_ops_get:00000078 $d
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1612   .bss.last_state.2:00000000 last_state.2
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1607   .bss.last_change_time.1:00000000 last_change_time.1
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1601   .bss.debounced_state.0:00000000 debounced_state.0
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1496   .text.sensor_egt_get:00000000 $t
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1502   .text.sensor_egt_get:00000000 sensor_egt_get
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1541   .text.sensor_egt_get:0000002c $d
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1548   .text.vbat_get:00000000 $t
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1554   .text.vbat_get:00000000 vbat_get
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1592   .text.vbat_get:0000002c $d
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1602   .bss.debounced_state.0:00000000 $d
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1604   .bss.last_change_time.1:00000000 $d
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1613   .bss.last_state.2:00000000 $d
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1615   .bss.sensor_ops:00000000 $d
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1621   .bss.sensor_clt:00000000 $d
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1627   .bss.sensor_iat:00000000 $d
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1633   .bss.map_sensor:00000000 $d
C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s:1639   .rodata:00000000 $d

UNDEFINED SYMBOLS
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cchGlBzM.s 			page 43


analog_inputs_get_data
log_error
runtime
resistor_init
thermistor_init
thermistor_get_temp
get_time_ms
