ARM GAS  C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"analog_inputs.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "controller/IO/analog_inputs.c"
  20              		.section	.text.analog_inputs_start_conversion,"ax",%progbits
  21              		.align	1
  22              		.global	analog_inputs_start_conversion
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	analog_inputs_start_conversion:
  28              	.LFB230:
   1:controller/IO/analog_inputs.c **** #include "analog_inputs.h"
   2:controller/IO/analog_inputs.c **** #include "error_handling.h"
   3:controller/IO/analog_inputs.c **** 
   4:controller/IO/analog_inputs.c **** ADC_HandleTypeDef *hadc = NULL;
   5:controller/IO/analog_inputs.c **** volatile analog_inputs_s analog_data ={0};
   6:controller/IO/analog_inputs.c **** 
   7:controller/IO/analog_inputs.c **** volatile bool conversion_is_happening = false;
   8:controller/IO/analog_inputs.c **** 
   9:controller/IO/analog_inputs.c **** void HAL_ADC_ConvCpltCallback(ADC_HandleTypeDef *hadc)
  10:controller/IO/analog_inputs.c **** {
  11:controller/IO/analog_inputs.c ****     conversion_is_happening = false;
  12:controller/IO/analog_inputs.c **** }
  13:controller/IO/analog_inputs.c **** 
  14:controller/IO/analog_inputs.c **** /**
  15:controller/IO/analog_inputs.c ****  * @brief Initializes the analog inputs module.
  16:controller/IO/analog_inputs.c ****  * 
  17:controller/IO/analog_inputs.c ****  * This function sets up the ADC peripheral and prepares the analog inputs
  18:controller/IO/analog_inputs.c ****  * module for operation.
  19:controller/IO/analog_inputs.c ****  * 
  20:controller/IO/analog_inputs.c ****  * @param hadc Pointer to the ADC_HandleTypeDef structure that contains
  21:controller/IO/analog_inputs.c ****  *             the configuration information for the specified ADC.
  22:controller/IO/analog_inputs.c ****  * @param instance Pointer to the analog_inputs_s structure instance
  23:controller/IO/analog_inputs.c ****  *                 that holds the state and configuration of the analog inputs.
  24:controller/IO/analog_inputs.c ****  */
  25:controller/IO/analog_inputs.c **** void analog_inputs_init(ADC_HandleTypeDef *adc_handle)
  26:controller/IO/analog_inputs.c **** {
  27:controller/IO/analog_inputs.c ****     if (adc_handle == NULL)
  28:controller/IO/analog_inputs.c ****     {
  29:controller/IO/analog_inputs.c ****         log_error("Analog input init failed! adc handle is null.");
  30:controller/IO/analog_inputs.c ****         return;
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s 			page 2


  31:controller/IO/analog_inputs.c ****     }
  32:controller/IO/analog_inputs.c ****     
  33:controller/IO/analog_inputs.c ****     hadc = adc_handle;
  34:controller/IO/analog_inputs.c **** 
  35:controller/IO/analog_inputs.c ****     conversion_is_happening = true;
  36:controller/IO/analog_inputs.c **** 
  37:controller/IO/analog_inputs.c ****     HAL_ADC_Start_DMA(hadc, (uint32_t*)&analog_data.raw_values, ANALOG_INPUTS_MAX);
  38:controller/IO/analog_inputs.c ****     /**
  39:controller/IO/analog_inputs.c ****     * @todo this is just a temporary fix make this a proper thing
  40:controller/IO/analog_inputs.c ****     */
  41:controller/IO/analog_inputs.c ****     osTimerId_t timer_id = osTimerNew(
  42:controller/IO/analog_inputs.c ****         analog_inputs_start_conversion,
  43:controller/IO/analog_inputs.c ****         osTimerPeriodic,
  44:controller/IO/analog_inputs.c ****         NULL,
  45:controller/IO/analog_inputs.c ****         NULL
  46:controller/IO/analog_inputs.c ****     );
  47:controller/IO/analog_inputs.c ****     osTimerStart(timer_id, 1);
  48:controller/IO/analog_inputs.c **** 
  49:controller/IO/analog_inputs.c **** }
  50:controller/IO/analog_inputs.c **** 
  51:controller/IO/analog_inputs.c **** /**
  52:controller/IO/analog_inputs.c ****  * @brief Starts the ADC conversion for analog inputs.
  53:controller/IO/analog_inputs.c ****  * 
  54:controller/IO/analog_inputs.c ****  * This function triggers the ADC to begin converting the analog signals
  55:controller/IO/analog_inputs.c ****  * to digital values.
  56:controller/IO/analog_inputs.c ****  */
  57:controller/IO/analog_inputs.c **** void analog_inputs_start_conversion()
  58:controller/IO/analog_inputs.c **** {
  29              		.loc 1 58 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 08B5     		push	{r3, lr}
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 3, -8
  36              		.cfi_offset 14, -4
  59:controller/IO/analog_inputs.c ****     if (hadc == NULL)
  37              		.loc 1 59 5 view .LVU1
  38              		.loc 1 59 14 is_stmt 0 view .LVU2
  39 0002 074B     		ldr	r3, .L5
  40 0004 1868     		ldr	r0, [r3]
  41              		.loc 1 59 8 view .LVU3
  42 0006 10B1     		cbz	r0, .L1
  60:controller/IO/analog_inputs.c ****     {
  61:controller/IO/analog_inputs.c ****         return;
  62:controller/IO/analog_inputs.c ****     }
  63:controller/IO/analog_inputs.c ****     if (conversion_is_happening)
  43              		.loc 1 63 5 is_stmt 1 view .LVU4
  44              		.loc 1 63 9 is_stmt 0 view .LVU5
  45 0008 064B     		ldr	r3, .L5+4
  46 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  47              		.loc 1 63 8 view .LVU6
  48 000c 03B1     		cbz	r3, .L4
  49              	.L1:
  64:controller/IO/analog_inputs.c ****     {
  65:controller/IO/analog_inputs.c ****         return;
  66:controller/IO/analog_inputs.c ****     }
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s 			page 3


  67:controller/IO/analog_inputs.c ****     
  68:controller/IO/analog_inputs.c ****     conversion_is_happening = true;
  69:controller/IO/analog_inputs.c ****     HAL_ADC_Start_DMA(hadc, (uint32_t*)&analog_data.raw_values, ANALOG_INPUTS_MAX);
  70:controller/IO/analog_inputs.c **** }
  50              		.loc 1 70 1 view .LVU7
  51 000e 08BD     		pop	{r3, pc}
  52              	.L4:
  68:controller/IO/analog_inputs.c ****     HAL_ADC_Start_DMA(hadc, (uint32_t*)&analog_data.raw_values, ANALOG_INPUTS_MAX);
  53              		.loc 1 68 5 is_stmt 1 view .LVU8
  68:controller/IO/analog_inputs.c ****     HAL_ADC_Start_DMA(hadc, (uint32_t*)&analog_data.raw_values, ANALOG_INPUTS_MAX);
  54              		.loc 1 68 29 is_stmt 0 view .LVU9
  55 0010 044B     		ldr	r3, .L5+4
  56 0012 0122     		movs	r2, #1
  57 0014 1A70     		strb	r2, [r3]
  69:controller/IO/analog_inputs.c **** }
  58              		.loc 1 69 5 is_stmt 1 view .LVU10
  59 0016 0D22     		movs	r2, #13
  60 0018 0349     		ldr	r1, .L5+8
  61 001a FFF7FEFF 		bl	HAL_ADC_Start_DMA
  62              	.LVL0:
  63 001e F6E7     		b	.L1
  64              	.L6:
  65              		.align	2
  66              	.L5:
  67 0020 00000000 		.word	hadc
  68 0024 00000000 		.word	conversion_is_happening
  69 0028 00000000 		.word	analog_data
  70              		.cfi_endproc
  71              	.LFE230:
  73              		.section	.text.HAL_ADC_ConvCpltCallback,"ax",%progbits
  74              		.align	1
  75              		.global	HAL_ADC_ConvCpltCallback
  76              		.syntax unified
  77              		.thumb
  78              		.thumb_func
  80              	HAL_ADC_ConvCpltCallback:
  81              	.LVL1:
  82              	.LFB228:
  10:controller/IO/analog_inputs.c ****     conversion_is_happening = false;
  83              		.loc 1 10 1 view -0
  84              		.cfi_startproc
  85              		@ args = 0, pretend = 0, frame = 0
  86              		@ frame_needed = 0, uses_anonymous_args = 0
  87              		@ link register save eliminated.
  11:controller/IO/analog_inputs.c **** }
  88              		.loc 1 11 5 view .LVU12
  11:controller/IO/analog_inputs.c **** }
  89              		.loc 1 11 29 is_stmt 0 view .LVU13
  90 0000 014B     		ldr	r3, .L8
  91 0002 0022     		movs	r2, #0
  92 0004 1A70     		strb	r2, [r3]
  12:controller/IO/analog_inputs.c **** 
  93              		.loc 1 12 1 view .LVU14
  94 0006 7047     		bx	lr
  95              	.L9:
  96              		.align	2
  97              	.L8:
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s 			page 4


  98 0008 00000000 		.word	conversion_is_happening
  99              		.cfi_endproc
 100              	.LFE228:
 102              		.section	.rodata.analog_inputs_init.str1.4,"aMS",%progbits,1
 103              		.align	2
 104              	.LC0:
 105 0000 416E616C 		.ascii	"Analog input init failed! adc handle is null.\000"
 105      6F672069 
 105      6E707574 
 105      20696E69 
 105      74206661 
 106              		.section	.text.analog_inputs_init,"ax",%progbits
 107              		.align	1
 108              		.global	analog_inputs_init
 109              		.syntax unified
 110              		.thumb
 111              		.thumb_func
 113              	analog_inputs_init:
 114              	.LVL2:
 115              	.LFB229:
  26:controller/IO/analog_inputs.c ****     if (adc_handle == NULL)
 116              		.loc 1 26 1 is_stmt 1 view -0
 117              		.cfi_startproc
 118              		@ args = 0, pretend = 0, frame = 0
 119              		@ frame_needed = 0, uses_anonymous_args = 0
  26:controller/IO/analog_inputs.c ****     if (adc_handle == NULL)
 120              		.loc 1 26 1 is_stmt 0 view .LVU16
 121 0000 10B5     		push	{r4, lr}
 122              		.cfi_def_cfa_offset 8
 123              		.cfi_offset 4, -8
 124              		.cfi_offset 14, -4
  27:controller/IO/analog_inputs.c ****     {
 125              		.loc 1 27 5 is_stmt 1 view .LVU17
  27:controller/IO/analog_inputs.c ****     {
 126              		.loc 1 27 8 is_stmt 0 view .LVU18
 127 0002 90B1     		cbz	r0, .L14
  33:controller/IO/analog_inputs.c **** 
 128              		.loc 1 33 5 is_stmt 1 view .LVU19
  33:controller/IO/analog_inputs.c **** 
 129              		.loc 1 33 10 is_stmt 0 view .LVU20
 130 0004 0B4A     		ldr	r2, .L15
 131 0006 1060     		str	r0, [r2]
  35:controller/IO/analog_inputs.c **** 
 132              		.loc 1 35 5 is_stmt 1 view .LVU21
  35:controller/IO/analog_inputs.c **** 
 133              		.loc 1 35 29 is_stmt 0 view .LVU22
 134 0008 0124     		movs	r4, #1
 135 000a 0B4A     		ldr	r2, .L15+4
 136 000c 1470     		strb	r4, [r2]
  37:controller/IO/analog_inputs.c ****     /**
 137              		.loc 1 37 5 is_stmt 1 view .LVU23
 138 000e 0D22     		movs	r2, #13
 139 0010 0A49     		ldr	r1, .L15+8
 140 0012 FFF7FEFF 		bl	HAL_ADC_Start_DMA
 141              	.LVL3:
  41:controller/IO/analog_inputs.c ****         analog_inputs_start_conversion,
 142              		.loc 1 41 5 view .LVU24
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s 			page 5


  41:controller/IO/analog_inputs.c ****         analog_inputs_start_conversion,
 143              		.loc 1 41 28 is_stmt 0 view .LVU25
 144 0016 0023     		movs	r3, #0
 145 0018 1A46     		mov	r2, r3
 146 001a 2146     		mov	r1, r4
 147 001c 0848     		ldr	r0, .L15+12
 148 001e FFF7FEFF 		bl	osTimerNew
 149              	.LVL4:
  47:controller/IO/analog_inputs.c **** 
 150              		.loc 1 47 5 is_stmt 1 view .LVU26
 151 0022 2146     		mov	r1, r4
 152 0024 FFF7FEFF 		bl	osTimerStart
 153              	.LVL5:
 154              	.L10:
  49:controller/IO/analog_inputs.c **** 
 155              		.loc 1 49 1 is_stmt 0 view .LVU27
 156 0028 10BD     		pop	{r4, pc}
 157              	.LVL6:
 158              	.L14:
  29:controller/IO/analog_inputs.c ****         return;
 159              		.loc 1 29 9 is_stmt 1 view .LVU28
 160 002a 0648     		ldr	r0, .L15+16
 161              	.LVL7:
  29:controller/IO/analog_inputs.c ****         return;
 162              		.loc 1 29 9 is_stmt 0 view .LVU29
 163 002c FFF7FEFF 		bl	log_error
 164              	.LVL8:
  30:controller/IO/analog_inputs.c ****     }
 165              		.loc 1 30 9 is_stmt 1 view .LVU30
 166 0030 FAE7     		b	.L10
 167              	.L16:
 168 0032 00BF     		.align	2
 169              	.L15:
 170 0034 00000000 		.word	hadc
 171 0038 00000000 		.word	conversion_is_happening
 172 003c 00000000 		.word	analog_data
 173 0040 00000000 		.word	analog_inputs_start_conversion
 174 0044 00000000 		.word	.LC0
 175              		.cfi_endproc
 176              	.LFE229:
 178              		.section	.rodata.analog_inputs_get_data.str1.4,"aMS",%progbits,1
 179              		.align	2
 180              	.LC1:
 181 0000 496E7661 		.ascii	"Invalid index in analog input.\000"
 181      6C696420 
 181      696E6465 
 181      7820696E 
 181      20616E61 
 182              		.section	.text.analog_inputs_get_data,"ax",%progbits
 183              		.align	1
 184              		.global	analog_inputs_get_data
 185              		.syntax unified
 186              		.thumb
 187              		.thumb_func
 189              	analog_inputs_get_data:
 190              	.LVL9:
 191              	.LFB231:
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s 			page 6


  71:controller/IO/analog_inputs.c **** 
  72:controller/IO/analog_inputs.c **** /**
  73:controller/IO/analog_inputs.c ****  * @brief Retrieves the converted data for a specific analog input.
  74:controller/IO/analog_inputs.c ****  * 
  75:controller/IO/analog_inputs.c ****  * This function returns the digital value corresponding to the specified
  76:controller/IO/analog_inputs.c ****  * analog input index.
  77:controller/IO/analog_inputs.c ****  * 
  78:controller/IO/analog_inputs.c ****  * @param input_index The index of the analog input to retrieve data from.
  79:controller/IO/analog_inputs.c ****  *                    This index corresponds to the specific channel of the ADC.
  80:controller/IO/analog_inputs.c ****  * @return The digital value of the specified analog input.
  81:controller/IO/analog_inputs.c ****  */
  82:controller/IO/analog_inputs.c **** #if ANALOG_INPUTS_ADC_BITS == 12
  83:controller/IO/analog_inputs.c **** uint16_t analog_inputs_get_data(analog_input_adc_channel_mapping_e input_index)
  84:controller/IO/analog_inputs.c **** #elif ANALOG_INPUTS_ADC_BITS == 24
  85:controller/IO/analog_inputs.c **** uint32_t analog_inputs_get_data(analog_input_adc_channel_mapping_e input_index)
  86:controller/IO/analog_inputs.c **** #endif
  87:controller/IO/analog_inputs.c **** {
 192              		.loc 1 87 1 view -0
 193              		.cfi_startproc
 194              		@ args = 0, pretend = 0, frame = 0
 195              		@ frame_needed = 0, uses_anonymous_args = 0
 196              		.loc 1 87 1 is_stmt 0 view .LVU32
 197 0000 08B5     		push	{r3, lr}
 198              		.cfi_def_cfa_offset 8
 199              		.cfi_offset 3, -8
 200              		.cfi_offset 14, -4
  88:controller/IO/analog_inputs.c ****     if (input_index > (ANALOG_INPUTS_MAX - 1))
 201              		.loc 1 88 5 is_stmt 1 view .LVU33
 202              		.loc 1 88 8 is_stmt 0 view .LVU34
 203 0002 0C28     		cmp	r0, #12
 204 0004 04D8     		bhi	.L21
  89:controller/IO/analog_inputs.c ****     {
  90:controller/IO/analog_inputs.c ****         log_error("Invalid index in analog input.");
  91:controller/IO/analog_inputs.c ****         return 0;
  92:controller/IO/analog_inputs.c ****     }
  93:controller/IO/analog_inputs.c ****     return analog_data.raw_values[input_index];
 205              		.loc 1 93 5 is_stmt 1 view .LVU35
 206              		.loc 1 93 34 is_stmt 0 view .LVU36
 207 0006 054B     		ldr	r3, .L22
 208 0008 33F81000 		ldrh	r0, [r3, r0, lsl #1]
 209              	.LVL10:
 210              		.loc 1 93 34 view .LVU37
 211 000c 80B2     		uxth	r0, r0
 212              	.L19:
  94:controller/IO/analog_inputs.c **** }
 213              		.loc 1 94 1 view .LVU38
 214 000e 08BD     		pop	{r3, pc}
 215              	.LVL11:
 216              	.L21:
  90:controller/IO/analog_inputs.c ****         return 0;
 217              		.loc 1 90 9 is_stmt 1 view .LVU39
 218 0010 0348     		ldr	r0, .L22+4
 219              	.LVL12:
  90:controller/IO/analog_inputs.c ****         return 0;
 220              		.loc 1 90 9 is_stmt 0 view .LVU40
 221 0012 FFF7FEFF 		bl	log_error
 222              	.LVL13:
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s 			page 7


  91:controller/IO/analog_inputs.c ****     }
 223              		.loc 1 91 9 is_stmt 1 view .LVU41
  91:controller/IO/analog_inputs.c ****     }
 224              		.loc 1 91 16 is_stmt 0 view .LVU42
 225 0016 0020     		movs	r0, #0
 226 0018 F9E7     		b	.L19
 227              	.L23:
 228 001a 00BF     		.align	2
 229              	.L22:
 230 001c 00000000 		.word	analog_data
 231 0020 00000000 		.word	.LC1
 232              		.cfi_endproc
 233              	.LFE231:
 235              		.section	.text.analog_inputs_get_voltage,"ax",%progbits
 236              		.align	1
 237              		.global	analog_inputs_get_voltage
 238              		.syntax unified
 239              		.thumb
 240              		.thumb_func
 242              	analog_inputs_get_voltage:
 243              	.LVL14:
 244              	.LFB232:
  95:controller/IO/analog_inputs.c **** 
  96:controller/IO/analog_inputs.c **** voltage_t analog_inputs_get_voltage(analog_input_adc_channel_mapping_e input_index)
  97:controller/IO/analog_inputs.c **** {
 245              		.loc 1 97 1 is_stmt 1 view -0
 246              		.cfi_startproc
 247              		@ args = 0, pretend = 0, frame = 0
 248              		@ frame_needed = 0, uses_anonymous_args = 0
 249              		.loc 1 97 1 is_stmt 0 view .LVU44
 250 0000 08B5     		push	{r3, lr}
 251              		.cfi_def_cfa_offset 8
 252              		.cfi_offset 3, -8
 253              		.cfi_offset 14, -4
  98:controller/IO/analog_inputs.c ****     voltage_t v = 0;
 254              		.loc 1 98 5 is_stmt 1 view .LVU45
 255              	.LVL15:
  99:controller/IO/analog_inputs.c ****     uint16_t raw_data = 0;
 256              		.loc 1 99 5 view .LVU46
 100:controller/IO/analog_inputs.c ****     raw_data = analog_inputs_get_data(input_index);
 257              		.loc 1 100 5 view .LVU47
 258              		.loc 1 100 16 is_stmt 0 view .LVU48
 259 0002 FFF7FEFF 		bl	analog_inputs_get_data
 260              	.LVL16:
 261              		.loc 1 100 16 view .LVU49
 262 0006 07EE900A 		vmov	s15, r0	@ int
 263              	.LVL17:
 101:controller/IO/analog_inputs.c ****     v = mapf((float)raw_data, (float)0, (float)4095, 0, ADC_REF_VOLTAGE);
 264              		.loc 1 101 5 is_stmt 1 view .LVU50
 265              		.loc 1 101 9 is_stmt 0 view .LVU51
 266 000a F8EE677A 		vcvt.f32.u32	s15, s15
 267              	.LVL18:
 268              	.LBB4:
 269              	.LBI4:
 270              		.file 2 "controller/utils/utils.h"
   1:controller/utils/utils.h **** /**
   2:controller/utils/utils.h ****  * @file utils.h
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s 			page 8


   3:controller/utils/utils.h ****  * @brief Header file containing utility functions and definitions for the smart generator controll
   4:controller/utils/utils.h ****  * 
   5:controller/utils/utils.h ****  * This file provides declarations for utility functions and macros that are
   6:controller/utils/utils.h ****  * used throughout the firmware to support various functionalities.
   7:controller/utils/utils.h ****  * 
   8:controller/utils/utils.h ****  * @note Ensure that this file is included wherever utility functions are required.
   9:controller/utils/utils.h ****  */
  10:controller/utils/utils.h **** #ifndef UTILS_H
  11:controller/utils/utils.h **** #define UTILS_H
  12:controller/utils/utils.h **** 
  13:controller/utils/utils.h **** #include "types.h"
  14:controller/utils/utils.h **** #include "math.h"
  15:controller/utils/utils.h **** #define IS_IN_RANGE(value, min, max) ((value) >= (min) && (value) <= (max))
  16:controller/utils/utils.h **** #define ABS(value) ((value) < 0 ? -(value) : (value))
  17:controller/utils/utils.h **** #define CLAMP(value, min, max) ((value) < (min) ? (min) : ((value) > (max) ? (max) : (value)))
  18:controller/utils/utils.h **** 
  19:controller/utils/utils.h **** /**
  20:controller/utils/utils.h ****  * @brief Maps a value from one range to another.
  21:controller/utils/utils.h ****  * 
  22:controller/utils/utils.h ****  * @param x The value to map.
  23:controller/utils/utils.h ****  * @param in_min The lower bound of the input range.
  24:controller/utils/utils.h ****  * @param in_max The upper bound of the input range.
  25:controller/utils/utils.h ****  * @param out_min The lower bound of the output range.
  26:controller/utils/utils.h ****  * @param out_max The upper bound of the output range.
  27:controller/utils/utils.h ****  * @return The mapped value in the output range.
  28:controller/utils/utils.h ****  */
  29:controller/utils/utils.h **** #define MAP(x, in_min, in_max, out_min, out_max) \
  30:controller/utils/utils.h ****     (((x) - (in_min)) * ((out_max) - (out_min)) / ((in_max) - (in_min)) + (out_min))
  31:controller/utils/utils.h **** 
  32:controller/utils/utils.h **** 
  33:controller/utils/utils.h **** /**
  34:controller/utils/utils.h ****  * @brief Maps a uint16_t value from one range to another.
  35:controller/utils/utils.h ****  * 
  36:controller/utils/utils.h ****  * @param x The value to map.
  37:controller/utils/utils.h ****  * @param in_min The lower bound of the input range.
  38:controller/utils/utils.h ****  * @param in_max The upper bound of the input range.
  39:controller/utils/utils.h ****  * @param out_min The lower bound of the output range.
  40:controller/utils/utils.h ****  * @param out_max The upper bound of the output range.
  41:controller/utils/utils.h ****  * @return The mapped value in the output range.
  42:controller/utils/utils.h ****  */
  43:controller/utils/utils.h **** static inline uint16_t map_uint16(uint16_t x, uint16_t in_min, uint16_t in_max, uint16_t out_min, u
  44:controller/utils/utils.h **** {
  45:controller/utils/utils.h ****     if (in_max == in_min)
  46:controller/utils/utils.h ****     {
  47:controller/utils/utils.h ****         return 0; // Avoid division by zero
  48:controller/utils/utils.h ****     }
  49:controller/utils/utils.h ****     return (uint16_t)((x - in_min) * (out_max - out_min) / (in_max - in_min) + out_min);
  50:controller/utils/utils.h **** }
  51:controller/utils/utils.h **** 
  52:controller/utils/utils.h **** static inline float mapf(float x, float in_min, float in_max, float out_min, float out_max)
 271              		.loc 2 52 21 is_stmt 1 view .LVU52
 272              	.LBB5:
  53:controller/utils/utils.h **** {
  54:controller/utils/utils.h ****     if (in_max == in_min)
 273              		.loc 2 54 5 view .LVU53
  55:controller/utils/utils.h ****     {
  56:controller/utils/utils.h ****         return 0.0f; // Avoid division by zero
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s 			page 9


  57:controller/utils/utils.h ****     }
  58:controller/utils/utils.h ****     return (x - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;
 274              		.loc 2 58 5 view .LVU54
 275              		.loc 2 58 25 is_stmt 0 view .LVU55
 276 000e 9FED067A 		vldr.32	s14, .L26
 277 0012 67EE877A 		vmul.f32	s15, s15, s14
 278              	.LVL19:
 279              		.loc 2 58 47 view .LVU56
 280 0016 9FED057A 		vldr.32	s14, .L26+4
 281 001a 87EE870A 		vdiv.f32	s0, s15, s14
 282              	.LVL20:
 283              		.loc 2 58 47 view .LVU57
 284              	.LBE5:
 285              	.LBE4:
 102:controller/IO/analog_inputs.c ****     return v;
 286              		.loc 1 102 5 is_stmt 1 view .LVU58
 103:controller/IO/analog_inputs.c **** }...
 287              		.loc 1 103 1 is_stmt 0 view .LVU59
 288 001e DFED047A 		vldr.32	s15, .L26+8
 289 0022 30EE270A 		vadd.f32	s0, s0, s15
 290              	.LVL21:
 291              		.loc 1 103 1 view .LVU60
 292 0026 08BD     		pop	{r3, pc}
 293              	.L27:
 294              		.align	2
 295              	.L26:
 296 0028 33335340 		.word	1079194419
 297 002c 00F07F45 		.word	1166012416
 298 0030 00000000 		.word	0
 299              		.cfi_endproc
 300              	.LFE232:
 302              		.global	conversion_is_happening
 303              		.section	.bss.conversion_is_happening,"aw",%nobits
 306              	conversion_is_happening:
 307 0000 00       		.space	1
 308              		.global	analog_data
 309              		.section	.bss.analog_data,"aw",%nobits
 310              		.align	2
 313              	analog_data:
 314 0000 00000000 		.space	26
 314      00000000 
 314      00000000 
 314      00000000 
 314      00000000 
 315              		.global	hadc
 316              		.section	.bss.hadc,"aw",%nobits
 317              		.align	2
 320              	hadc:
 321 0000 00000000 		.space	4
 322              		.text
 323              	.Letext0:
 324              		.file 3 "C:/Users/alireza/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-
 325              		.file 4 "C:/Users/alireza/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-
 326              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f401xc.h"
 327              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 328              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 329              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s 			page 10


 330              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_adc.h"
 331              		.file 10 "controller/types.h"
 332              		.file 11 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS_V2/cmsis_os2.h"
 333              		.file 12 "controller/IO/analog_inputs.h"
 334              		.file 13 "controller/utils/error_handling.h"
ARM GAS  C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s 			page 11


DEFINED SYMBOLS
                            *ABS*:00000000 analog_inputs.c
C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s:21     .text.analog_inputs_start_conversion:00000000 $t
C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s:27     .text.analog_inputs_start_conversion:00000000 analog_inputs_start_conversion
C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s:67     .text.analog_inputs_start_conversion:00000020 $d
C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s:320    .bss.hadc:00000000 hadc
C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s:306    .bss.conversion_is_happening:00000000 conversion_is_happening
C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s:313    .bss.analog_data:00000000 analog_data
C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s:74     .text.HAL_ADC_ConvCpltCallback:00000000 $t
C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s:80     .text.HAL_ADC_ConvCpltCallback:00000000 HAL_ADC_ConvCpltCallback
C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s:98     .text.HAL_ADC_ConvCpltCallback:00000008 $d
C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s:103    .rodata.analog_inputs_init.str1.4:00000000 $d
C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s:107    .text.analog_inputs_init:00000000 $t
C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s:113    .text.analog_inputs_init:00000000 analog_inputs_init
C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s:170    .text.analog_inputs_init:00000034 $d
C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s:179    .rodata.analog_inputs_get_data.str1.4:00000000 $d
C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s:183    .text.analog_inputs_get_data:00000000 $t
C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s:189    .text.analog_inputs_get_data:00000000 analog_inputs_get_data
C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s:230    .text.analog_inputs_get_data:0000001c $d
C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s:236    .text.analog_inputs_get_voltage:00000000 $t
C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s:242    .text.analog_inputs_get_voltage:00000000 analog_inputs_get_voltage
C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s:296    .text.analog_inputs_get_voltage:00000028 $d
C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s:307    .bss.conversion_is_happening:00000000 $d
C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s:310    .bss.analog_data:00000000 $d
C:\Users\alireza\AppData\Local\Temp\cclzI7iz.s:317    .bss.hadc:00000000 $d

UNDEFINED SYMBOLS
HAL_ADC_Start_DMA
osTimerNew
osTimerStart
log_error
