ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"controller.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "controller/controller.c"
  20              		.section	.text.controller_long_routines_task,"ax",%progbits
  21              		.align	1
  22              		.global	controller_long_routines_task
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	controller_long_routines_task:
  28              	.LFB236:
   1:controller/controller.c **** #include "controller.h"
   2:controller/controller.c **** 
   3:controller/controller.c **** config_t config = {0};
   4:controller/controller.c **** runtime_t runtime = {0};
   5:controller/controller.c **** 
   6:controller/controller.c **** void controller_sensor_task(void *arg);
   7:controller/controller.c **** void controller_test_task(void *arg);
   8:controller/controller.c **** void controller_long_routines_task(void *arg);
   9:controller/controller.c **** void controller_test2_task(void *arg);
  10:controller/controller.c **** static sensor_tps_t tps1 = {
  11:controller/controller.c ****     .analog_channel = ANALOG_INPUT_ETB1_SENSE1,
  12:controller/controller.c ****     .closed_throttle_adc_value = 1613,
  13:controller/controller.c ****     .wide_open_throttle_adc_value = 3170,
  14:controller/controller.c ****     .is_inverted = false};
  15:controller/controller.c **** static sensor_tps_t tps2 = {
  16:controller/controller.c ****     .analog_channel = ANALOG_INPUT_ETB2_SENSE1,
  17:controller/controller.c ****     .closed_throttle_adc_value = 1613,
  18:controller/controller.c ****     .wide_open_throttle_adc_value = 3170,
  19:controller/controller.c ****     .is_inverted = false};
  20:controller/controller.c **** 
  21:controller/controller.c **** static electronic_throttle_t etb1 = {0};
  22:controller/controller.c **** static dc_motor_t etb1_motor = {0};
  23:controller/controller.c **** static pid_t etb1_pid = {.derivative_filter_tau = 0.01f, .Kp = 15.0f, .Ki = 5, .Kd = 0.001, .limit_
  24:controller/controller.c **** 
  25:controller/controller.c **** static electronic_throttle_t etb2 = {0};
  26:controller/controller.c **** static dc_motor_t etb2_motor = {0};
  27:controller/controller.c **** static pid_t etb2_pid = {0};
  28:controller/controller.c **** 
  29:controller/controller.c **** static thermistor_t sensor_clt = {0};
  30:controller/controller.c **** static thermistor_t sensor_iat = {0};
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 2


  31:controller/controller.c **** static sensor_map_t sensor_map = {0};
  32:controller/controller.c **** static sensor_ops_t sensor_ops = {0};
  33:controller/controller.c **** 
  34:controller/controller.c **** static controller_output_pin_t injector_ouput_pins[FIRMWARE_INJECTOR_OUPUT_COUNT] = {
  35:controller/controller.c ****     {.gpio = INJECTOR_OUTPUT_1_GPIO_Port, .pin = INJECTOR_OUTPUT_1_Pin},
  36:controller/controller.c ****     {.gpio = INJECTOR_OUTPUT_2_GPIO_Port, .pin = INJECTOR_OUTPUT_2_Pin},
  37:controller/controller.c ****     {.gpio = INJECTOR_OUTPUT_3_GPIO_Port, .pin = INJECTOR_OUTPUT_3_Pin},
  38:controller/controller.c ****     {.gpio = INJECTOR_OUTPUT_4_GPIO_Port, .pin = INJECTOR_OUTPUT_4_Pin}};
  39:controller/controller.c **** static controller_output_pin_t ignition_output_pins[FIRMWARE_IGNITION_OUTPUT_COUNT] = {
  40:controller/controller.c ****     {.gpio = IGNITION_OUTPUT_1_GPIO_Port, .pin = IGNITION_OUTPUT_1_Pin},
  41:controller/controller.c ****     {.gpio = IGNITION_OUTPUT_2_GPIO_Port, .pin = IGNITION_OUTPUT_2_Pin},
  42:controller/controller.c ****     {.gpio = IGNITION_OUTPUT_3_GPIO_Port, .pin = IGNITION_OUTPUT_3_Pin},
  43:controller/controller.c ****     {.gpio = IGNITION_OUTPUT_4_GPIO_Port, .pin = IGNITION_OUTPUT_4_Pin}};
  44:controller/controller.c **** 
  45:controller/controller.c **** trigger_t trigger1;
  46:controller/controller.c **** 
  47:controller/controller.c **** void controller_load_test_configuration()
  48:controller/controller.c **** {
  49:controller/controller.c **** 
  50:controller/controller.c ****   // ---------- VE & ignition tables (realistic torque curve + RPM/load) ----------
  51:controller/controller.c ****   for (size_t i = 0; i < TABLE_PRIMARY_SIZE_X; i++)
  52:controller/controller.c ****   {
  53:controller/controller.c ****     float rpm_factor = (float)i / (TABLE_PRIMARY_SIZE_X - 1); // 0..1 across RPM
  54:controller/controller.c **** 
  55:controller/controller.c ****     // Approximate torque curve: peak around mid-RPM
  56:controller/controller.c ****     float ve_rpm_scale = 0.8f * sinf(rpm_factor * 3.14159f) + 0.2f; // 0.2..1.0
  57:controller/controller.c **** 
  58:controller/controller.c ****     for (size_t j = 0; j < TABLE_PRIMARY_SIZE_Y; j++)
  59:controller/controller.c ****     {
  60:controller/controller.c ****       float map_factor = (float)j / (TABLE_PRIMARY_SIZE_Y - 1); // 0..1 across MAP/load
  61:controller/controller.c **** 
  62:controller/controller.c ****       // VE table: scales with torque curve and load
  63:controller/controller.c ****       config.ve_table_1.data[i][j] = 20.0f + 70.0f * ve_rpm_scale * map_factor;
  64:controller/controller.c ****       config.ve_table_2.data[i][j] = 20.0f + 70.0f * ve_rpm_scale * map_factor;
  65:controller/controller.c **** 
  66:controller/controller.c ****       // Ignition table: base 10° at idle, +20° with RPM, -10° with load
  67:controller/controller.c ****       config.ign_table_1.data[i][j] = 10.0f + 20.0f * rpm_factor - 10.0f * map_factor;
  68:controller/controller.c ****       config.ign_table_2.data[i][j] = 10.0f + 20.0f * rpm_factor - 10.0f * map_factor;
  69:controller/controller.c ****     }
  70:controller/controller.c ****   }
  71:controller/controller.c **** 
  72:controller/controller.c ****   // x_bins: RPM axis
  73:controller/controller.c ****   for (size_t i = 0; i < TABLE_PRIMARY_SIZE_X; i++)
  74:controller/controller.c ****   {
  75:controller/controller.c ****     config.ve_table_1.x_bins[i] = i * FIRMWARE_LIMIT_MAX_RPM / TABLE_PRIMARY_SIZE_X;
  76:controller/controller.c ****     config.ve_table_2.x_bins[i] = i * FIRMWARE_LIMIT_MAX_RPM / TABLE_PRIMARY_SIZE_X;
  77:controller/controller.c ****     config.ign_table_1.x_bins[i] = i * FIRMWARE_LIMIT_MAX_RPM / TABLE_PRIMARY_SIZE_X;
  78:controller/controller.c ****     config.ign_table_2.x_bins[i] = i * FIRMWARE_LIMIT_MAX_RPM / TABLE_PRIMARY_SIZE_X;
  79:controller/controller.c ****   }
  80:controller/controller.c **** 
  81:controller/controller.c ****   // y_bins: MAP/load axis
  82:controller/controller.c ****   for (size_t i = 0; i < TABLE_PRIMARY_SIZE_Y; i++)
  83:controller/controller.c ****   {
  84:controller/controller.c ****     config.ve_table_1.y_bins[i] = i * FIRMWARE_LIMIT_MAX_MAP / TABLE_PRIMARY_SIZE_Y;
  85:controller/controller.c ****     config.ve_table_2.y_bins[i] = i * FIRMWARE_LIMIT_MAX_MAP / TABLE_PRIMARY_SIZE_Y;
  86:controller/controller.c ****     config.ign_table_1.y_bins[i] = i * FIRMWARE_LIMIT_MAX_MAP / TABLE_PRIMARY_SIZE_Y;
  87:controller/controller.c ****     config.ign_table_2.y_bins[i] = i * FIRMWARE_LIMIT_MAX_MAP / TABLE_PRIMARY_SIZE_Y;
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 3


  88:controller/controller.c ****   }
  89:controller/controller.c **** 
  90:controller/controller.c ****   // ---------- Cranking & ignition floats ----------
  91:controller/controller.c ****   config.cranking_rpm_threshold = 400.0f;
  92:controller/controller.c ****   config.cranking_advance = 8.0f;
  93:controller/controller.c ****   config.cranking_throttle = 10.0f;
  94:controller/controller.c **** 
  95:controller/controller.c ****   config.ignition_dwell = 2.5f;
  96:controller/controller.c ****   config.multi_spark_rpm_threshold = 3500.0f;
  97:controller/controller.c ****   config.multi_spark_rest_time_ms = 0.5f;
  98:controller/controller.c ****   config.multi_spark_max_trailing_angle = 15.0f;
  99:controller/controller.c **** 
 100:controller/controller.c ****   // ---------- Stoichiometric AFRs ----------
 101:controller/controller.c ****   config.stoich_afr_gas = 14.7f;
 102:controller/controller.c ****   config.stoich_afr_petrol = 14.7f;
 103:controller/controller.c **** 
 104:controller/controller.c ****   // ---------- Governer (PID) floats ----------
 105:controller/controller.c ****   config.governer_target_rpm = 1500.0f;
 106:controller/controller.c ****   config.governer_idle_rpm = 850.0f;
 107:controller/controller.c ****   config.governer_pid_Kp = 10.0f;
 108:controller/controller.c ****   config.governer_pid_Ki = 0.5f;
 109:controller/controller.c ****   config.governer_pid_Kd = 0.1f;
 110:controller/controller.c ****   config.governer_pid_limit_integrator_min = -100.0f;
 111:controller/controller.c ****   config.governer_pid_limit_integrator_max = 100.0f;
 112:controller/controller.c ****   config.governer_pid_derivative_filter_tau = 0.1f;
 113:controller/controller.c **** 
 114:controller/controller.c ****   // ---------- ETB1 PID floats ----------
 115:controller/controller.c ****   config.etb1_pid_Kp = 20.0f;
 116:controller/controller.c ****   config.etb1_pid_Ki = 1.0f;
 117:controller/controller.c ****   config.etb1_pid_Kd = 0.0f;
 118:controller/controller.c ****   config.etb1_pid_limit_integrator_min = 0.0f;
 119:controller/controller.c ****   config.etb1_pid_limit_integrator_max = 255.0f;
 120:controller/controller.c ****   config.etb1_pid_derivative_filter_tau = 0.1f;
 121:controller/controller.c **** 
 122:controller/controller.c ****   // ---------- ETB2 PID floats ----------
 123:controller/controller.c ****   config.etb2_pid_Kp = 20.0f;
 124:controller/controller.c ****   config.etb2_pid_Ki = 1.0f;
 125:controller/controller.c ****   config.etb2_pid_Kd = 0.0f;
 126:controller/controller.c ****   config.etb2_pid_limit_integrator_min = 0.0f;
 127:controller/controller.c ****   config.etb2_pid_limit_integrator_max = 255.0f;
 128:controller/controller.c ****   config.etb2_pid_derivative_filter_tau = 0.1f;
 129:controller/controller.c **** 
 130:controller/controller.c ****   // ---------- Protection & fan floats ----------
 131:controller/controller.c ****   config.protection_clt_shutdown_temprature = 110.0f;
 132:controller/controller.c ****   config.protection_clt_load_disconnect_temprature = 100.0f;
 133:controller/controller.c **** 
 134:controller/controller.c ****   config.fan1_on_temp = 95.0f;
 135:controller/controller.c ****   config.fan1_off_temp = 90.0f;
 136:controller/controller.c ****   config.fan2_on_temp = 100.0f;
 137:controller/controller.c ****   config.fan2_off_temp = 95.0f;
 138:controller/controller.c **** 
 139:controller/controller.c ****   // ---------- uint16_t scalars ----------
 140:controller/controller.c ****   config.rpm_limiter = 4000;
 141:controller/controller.c ****   config.engine_displacement_cc = 2400;
 142:controller/controller.c **** 
 143:controller/controller.c ****   config.tps1_calib_wide_open_throttle_adc_value = 3000;
 144:controller/controller.c ****   config.tps1_calib_closed_throttle_adc_value = 1700;
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 4


 145:controller/controller.c ****   config.tps2_calib_wide_open_throttle_adc_value = 3000;
 146:controller/controller.c ****   config.tps2_calib_closed_throttle_adc_value = 1700;
 147:controller/controller.c **** 
 148:controller/controller.c ****   // ---------- uint8_t scalars and flags ----------
 149:controller/controller.c ****   config.firing_order = FO_1342;
 150:controller/controller.c ****   config.fuel_type = FUEL_TYPE_GAS;
 151:controller/controller.c ****   config.trigger1_type = TW_58_TOOTH_2_MISSING;
 152:controller/controller.c ****   config.trigger1_filtering = TRIGGER_FILTERING_LITE;
 153:controller/controller.c ****   config.trigger2_type = 0;
 154:controller/controller.c ****   config.trigger2_filtering = 0;
 155:controller/controller.c ****   config.trigger2_enabled = 0;
 156:controller/controller.c **** 
 157:controller/controller.c ****   config.number_of_injectors = 4;
 158:controller/controller.c ****   config.injection_mode = IM_SIMULTANEOUS;
 159:controller/controller.c **** 
 160:controller/controller.c ****   config.ignition_mode = IM_WASTED_SPARK;
 161:controller/controller.c ****   config.multi_spark_enabled = 0;
 162:controller/controller.c ****   config.multi_spark_number_of_sparks = 5;
 163:controller/controller.c **** 
 164:controller/controller.c ****   config.tps1_calib_is_inverted = 0;
 165:controller/controller.c ****   config.tps2_calib_is_inverted = 0;
 166:controller/controller.c **** 
 167:controller/controller.c ****   config.sensor_clt_type = SENSOR_CLT_TYPE_TEST;
 168:controller/controller.c ****   config.sensor_iat_type = SENSOR_IAT_TYPE_TEST;
 169:controller/controller.c ****   config.sensor_map_type = SENSOR_MAP_TYPE_TEST;
 170:controller/controller.c **** 
 171:controller/controller.c ****   config.protection_oil_pressure_time = 3;
 172:controller/controller.c ****   config.protection_oil_pressure_enabled = 0;
 173:controller/controller.c ****   config.protection_clt_enabled = 0;
 174:controller/controller.c ****   config.protection_clt_load_disconnect_enabled = 0;
 175:controller/controller.c **** 
 176:controller/controller.c ****   config.etb1_enabled = 1;
 177:controller/controller.c ****   config.etb2_enabled = 0;
 178:controller/controller.c ****   config.etb1_motor_inverted = 0;
 179:controller/controller.c ****   config.etb2_motor_inverted = 0;
 180:controller/controller.c **** 
 181:controller/controller.c ****   config.fan1_enabled = 0;
 182:controller/controller.c ****   config.fan2_enabled = 0;
 183:controller/controller.c **** 
 184:controller/controller.c ****   config.tps1_type = 0;
 185:controller/controller.c ****   config.tps2_type = 0;
 186:controller/controller.c **** 
 187:controller/controller.c ****   // ---------- Padding ----------
 188:controller/controller.c ****   config._padding[0] = 0;
 189:controller/controller.c ****   config._padding[1] = 0;
 190:controller/controller.c ****   config._padding[2] = 0;
 191:controller/controller.c **** 
 192:controller/controller.c ****   // ---------- Checksum ----------
 193:controller/controller.c ****   config.checksum = 0;
 194:controller/controller.c **** }
 195:controller/controller.c **** 
 196:controller/controller.c **** void controller_init()
 197:controller/controller.c **** {
 198:controller/controller.c **** 
 199:controller/controller.c ****   /* Initialize engine stats to 0 */
 200:controller/controller.c ****   memset(&runtime, 0, sizeof(runtime));
 201:controller/controller.c ****   memset(&config, 0, sizeof(config));
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 5


 202:controller/controller.c ****   
 203:controller/controller.c ****   if (EE_Init(&config, sizeof(config_t)) != true)
 204:controller/controller.c ****   {
 205:controller/controller.c ****     controller_load_test_configuration();
 206:controller/controller.c ****     log_error("Not able to init eeprom");
 207:controller/controller.c ****   }
 208:controller/controller.c ****   controller_load_configuration();
 209:controller/controller.c ****   if (config.checksum != CONFIG_CHECKSUM) // check the data and if it is wrong, throw an error and 
 210:controller/controller.c ****   {
 211:controller/controller.c ****     controller_load_test_configuration();
 212:controller/controller.c ****     log_error("EEPROM data is invalid");
 213:controller/controller.c ****   }
 214:controller/controller.c ****   
 215:controller/controller.c ****   //controller_load_test_configuration();
 216:controller/controller.c ****   /* Start controller timing */
 217:controller/controller.c ****   controller_timing_start(&htim2);
 218:controller/controller.c **** 
 219:controller/controller.c ****   /* Init analog inputs*/
 220:controller/controller.c ****   analog_inputs_init(&hadc1);
 221:controller/controller.c **** 
 222:controller/controller.c ****   trigger_init(&trigger1, config.trigger1_type, &config.trigger1_filtering, STATUS_TRIGGER1_SYNCED,
 223:controller/controller.c **** 
 224:controller/controller.c ****   /* Initialize analog sensors BEGIN*/
 225:controller/controller.c **** 
 226:controller/controller.c ****   /* CLT */
 227:controller/controller.c ****   sensor_clt_init(&sensor_clt, config.sensor_clt_type);
 228:controller/controller.c **** 
 229:controller/controller.c ****   /* IAT */
 230:controller/controller.c ****   sensor_iat_init(&sensor_iat, config.sensor_iat_type);
 231:controller/controller.c **** 
 232:controller/controller.c ****   /* MAP */
 233:controller/controller.c ****   sensor_map_init(&sensor_map, config.sensor_map_type);
 234:controller/controller.c **** 
 235:controller/controller.c ****   /* OPS */
 236:controller/controller.c ****   // sensor_ops_init(&sensor_ops);
 237:controller/controller.c **** 
 238:controller/controller.c ****   /* Initialize analog sensors END*/
 239:controller/controller.c **** 
 240:controller/controller.c ****   /* Initialize fan*/
 241:controller/controller.c **** 
 242:controller/controller.c ****   /* Initialize ignition */
 243:controller/controller.c **** 
 244:controller/controller.c ****   ignition_init(ignition_output_pins);
 245:controller/controller.c **** 
 246:controller/controller.c ****   // Electronic Throttle Body 1
 247:controller/controller.c ****   if (config.etb1_enabled)
 248:controller/controller.c ****   {
 249:controller/controller.c ****     etb1.etb_number = ETB_NUMBER_1;
 250:controller/controller.c ****     dc_motor_init(&etb1_motor, &htim3, TIM_CHANNEL_4, TIM_CHANNEL_3, 20000);
 251:controller/controller.c ****     pid_init(&etb1_pid);
 252:controller/controller.c ****     electronic_throttle_init(&etb1, &etb1_pid, &tps1, &etb1_motor);
 253:controller/controller.c ****     electronic_throttle_set(&etb1, 0);
 254:controller/controller.c **** 
 255:controller/controller.c ****     static osTimerId_t etb1_software_timer;
 256:controller/controller.c ****     etb1_software_timer = osTimerNew(electronic_throttle_update, osTimerPeriodic, &etb1, NULL);
 257:controller/controller.c ****     if (etb1_software_timer != NULL)
 258:controller/controller.c ****     {
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 6


 259:controller/controller.c ****       osTimerStart(etb1_software_timer, 1);
 260:controller/controller.c ****     }
 261:controller/controller.c ****     
 262:controller/controller.c ****   }
 263:controller/controller.c ****   if (config.etb2_enabled)
 264:controller/controller.c ****   {
 265:controller/controller.c ****     /*
 266:controller/controller.c ****     etb2.etb_number = ETB_NUMBER_2;
 267:controller/controller.c ****     dc_motor_init_simple_Hbridge(&etb2_motor, &htim3, TIM_CHANNEL_1, TIM_CHANNEL_2, TIM_CHANNEL_3, 
 268:controller/controller.c ****     pid_init(&etb2_pid);
 269:controller/controller.c ****     electronic_throttle_init(&etb2, &etb2_pid, &tps2, &etb2_motor);
 270:controller/controller.c ****     electronic_throttle_set(&etb2, 0);
 271:controller/controller.c ****     
 272:controller/controller.c ****     static osTimerId_t etb2_software_timer;
 273:controller/controller.c ****     etb2_software_timer = osTimerNew(electronic_throttle_update, osTimerPeriodic, &etb2, NULL);
 274:controller/controller.c ****     if (etb2_software_timer != NULL)
 275:controller/controller.c ****     {
 276:controller/controller.c ****       osTimerStart(etb2_software_timer, 1);
 277:controller/controller.c ****     }
 278:controller/controller.c ****     */
 279:controller/controller.c ****   }
 280:controller/controller.c **** 
 281:controller/controller.c ****   comms_init();
 282:controller/controller.c **** 
 283:controller/controller.c **** 
 284:controller/controller.c ****   const osThreadAttr_t controller_test_attr = {
 285:controller/controller.c ****       .name = "test_task",
 286:controller/controller.c ****       .stack_size = 1024,
 287:controller/controller.c ****       .priority = osPriorityRealtime,
 288:controller/controller.c ****   };
 289:controller/controller.c ****   const osThreadAttr_t controller_test2_attr = {
 290:controller/controller.c ****       .name = "test2_task",
 291:controller/controller.c ****       .stack_size = 1024,
 292:controller/controller.c ****       .priority = osPriorityNormal,
 293:controller/controller.c ****   };
 294:controller/controller.c ****   const osThreadAttr_t controller_sensor_task_attr = {
 295:controller/controller.c ****       .name = "sensor_task",
 296:controller/controller.c ****       .stack_size = 1024,
 297:controller/controller.c ****       .priority = osPriorityAboveNormal,
 298:controller/controller.c ****   };
 299:controller/controller.c **** 
 300:controller/controller.c ****   const osThreadAttr_t controller_long_routines_attr = {
 301:controller/controller.c ****       .name = "long_routines",
 302:controller/controller.c ****       .stack_size = 1024,
 303:controller/controller.c ****       .priority = osPriorityNormal,
 304:controller/controller.c ****   };
 305:controller/controller.c **** 
 306:controller/controller.c **** 
 307:controller/controller.c ****   osThreadNew(controller_sensor_task, NULL, &controller_sensor_task_attr);
 308:controller/controller.c ****   osThreadNew(controller_long_routines_task, NULL, &controller_long_routines_attr);
 309:controller/controller.c ****   osThreadNew(controller_test_task, NULL, &controller_test_attr);
 310:controller/controller.c ****   osThreadNew(controller_test2_task, NULL, &controller_test2_attr);
 311:controller/controller.c **** 
 312:controller/controller.c **** 
 313:controller/controller.c **** }
 314:controller/controller.c **** 
 315:controller/controller.c **** void controller_load_configuration()
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 7


 316:controller/controller.c **** {
 317:controller/controller.c ****   EE_Read();
 318:controller/controller.c ****   // Validate loaded data (checksum)
 319:controller/controller.c **** }
 320:controller/controller.c **** 
 321:controller/controller.c **** bool controller_save_configuration()
 322:controller/controller.c **** {
 323:controller/controller.c ****   bool state = false;
 324:controller/controller.c ****   config.checksum = CONFIG_CHECKSUM; // implement a proper checksum later
 325:controller/controller.c ****   state = EE_Write();
 326:controller/controller.c ****   return state;
 327:controller/controller.c **** }
 328:controller/controller.c **** 
 329:controller/controller.c **** 
 330:controller/controller.c **** void controller_long_routines_task(void *arg)
 331:controller/controller.c **** {
  29              		.loc 1 331 1 view -0
  30              		.cfi_startproc
  31              		@ Volatile: function does not return.
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              	.LVL0:
  35              		.loc 1 331 1 is_stmt 0 view .LVU1
  36 0000 08B5     		push	{r3, lr}
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 3, -8
  39              		.cfi_offset 14, -4
  40              	.LVL1:
  41              	.L2:
 332:controller/controller.c ****   // uint32_t next_routine_time_ticks = 1000;
 333:controller/controller.c ****   for (;;)
  42              		.loc 1 333 3 is_stmt 1 view .LVU2
 334:controller/controller.c ****   {
 335:controller/controller.c ****     runtime.seconds = get_time_ms() / 1000;
  43              		.loc 1 335 5 view .LVU3
  44              		.loc 1 335 23 is_stmt 0 view .LVU4
  45 0002 FFF7FEFF 		bl	get_time_ms
  46              	.LVL2:
  47              		.loc 1 335 37 discriminator 1 view .LVU5
  48 0006 094B     		ldr	r3, .L4
  49 0008 A3FB0030 		umull	r3, r0, r3, r0
  50 000c 8009     		lsrs	r0, r0, #6
  51              		.loc 1 335 21 discriminator 1 view .LVU6
  52 000e 084B     		ldr	r3, .L4+4
  53 0010 D860     		str	r0, [r3, #12]
 336:controller/controller.c ****     fan_control_update();
  54              		.loc 1 336 5 is_stmt 1 view .LVU7
  55 0012 FFF7FEFF 		bl	fan_control_update
  56              	.LVL3:
 337:controller/controller.c ****     HAL_GPIO_TogglePin(LED_GPIO_Port, LED_Pin);
  57              		.loc 1 337 5 view .LVU8
  58 0016 4FF40051 		mov	r1, #8192
  59 001a 0648     		ldr	r0, .L4+8
  60 001c FFF7FEFF 		bl	HAL_GPIO_TogglePin
  61              	.LVL4:
 338:controller/controller.c ****     osDelay(1000);
  62              		.loc 1 338 5 discriminator 1 view .LVU9
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 8


  63 0020 4FF47A70 		mov	r0, #1000
  64 0024 FFF7FEFF 		bl	osDelay
  65              	.LVL5:
 333:controller/controller.c ****   {
  66              		.loc 1 333 3 view .LVU10
  67 0028 EBE7     		b	.L2
  68              	.L5:
  69 002a 00BF     		.align	2
  70              	.L4:
  71 002c D34D6210 		.word	274877907
  72 0030 00000000 		.word	runtime
  73 0034 00080240 		.word	1073874944
  74              		.cfi_endproc
  75              	.LFE236:
  77              		.section	.text.controller_test2_task,"ax",%progbits
  78              		.align	1
  79              		.global	controller_test2_task
  80              		.syntax unified
  81              		.thumb
  82              		.thumb_func
  84              	controller_test2_task:
  85              	.LVL6:
  86              	.LFB239:
 339:controller/controller.c ****     // next_routine_time_ticks += 1000;
 340:controller/controller.c ****     // osDelayUntil(next_routine_time_ticks);
 341:controller/controller.c ****   }
 342:controller/controller.c **** }
 343:controller/controller.c **** 
 344:controller/controller.c **** void controller_sensor_task(void *arg)
 345:controller/controller.c **** {
 346:controller/controller.c ****   for (;;)
 347:controller/controller.c ****   {
 348:controller/controller.c ****     runtime.tps1 = sensor_tps_get(&tps1);
 349:controller/controller.c ****     runtime.clt_degc = sensor_clt_get();
 350:controller/controller.c ****     runtime.iat_degc = sensor_iat_get();
 351:controller/controller.c ****     // runtime.map_kpa = sensor_map_get();
 352:controller/controller.c ****     // runtime.oil_pressure_ok = sensor_ops_get();
 353:controller/controller.c ****     runtime.egt_degc = sensor_egt_get();
 354:controller/controller.c ****     runtime.vbatt_volts = vbat_get();
 355:controller/controller.c ****     osDelay(1);
 356:controller/controller.c ****   }
 357:controller/controller.c **** }
 358:controller/controller.c **** void controller_test_task(void *arg)
 359:controller/controller.c **** {
 360:controller/controller.c ****   osDelay(100);
 361:controller/controller.c ****   trigger_simulator_init(60, 2, trigger_tooth_handle, &trigger1);
 362:controller/controller.c ****   static rpm_t simulated_rpm = 1000;
 363:controller/controller.c ****   for (;;)
 364:controller/controller.c ****   {
 365:controller/controller.c ****     simulated_rpm = 500;
 366:controller/controller.c ****     trigger_simulator_update(simulated_rpm);
 367:controller/controller.c ****     osDelay(1);
 368:controller/controller.c ****   }
 369:controller/controller.c **** }
 370:controller/controller.c **** 
 371:controller/controller.c **** void controller_test2_task(void *arg)
 372:controller/controller.c **** {
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 9


  87              		.loc 1 372 1 view -0
  88              		.cfi_startproc
  89              		@ args = 0, pretend = 0, frame = 0
  90              		@ frame_needed = 0, uses_anonymous_args = 0
  91              		.loc 1 372 1 is_stmt 0 view .LVU12
  92 0000 08B5     		push	{r3, lr}
  93              		.cfi_def_cfa_offset 8
  94              		.cfi_offset 3, -8
  95              		.cfi_offset 14, -4
  96 0002 2DED028B 		vpush.64	{d8}
  97              		.cfi_def_cfa_offset 16
  98              		.cfi_offset 80, -16
  99              		.cfi_offset 81, -12
 373:controller/controller.c ****   osDelay(100);
 100              		.loc 1 373 3 is_stmt 1 view .LVU13
 101 0006 6420     		movs	r0, #100
 102              	.LVL7:
 103              		.loc 1 373 3 is_stmt 0 view .LVU14
 104 0008 FFF7FEFF 		bl	osDelay
 105              	.LVL8:
 106 000c 19E0     		b	.L11
 107              	.LVL9:
 108              	.L8:
 109              	.LBB2:
 374:controller/controller.c ****   static rpm_t simulated_rpm = 1000;
 375:controller/controller.c ****   for (;;)
 376:controller/controller.c ****   {
 377:controller/controller.c ****     percent_t etb_test_target_pos = 20;
 378:controller/controller.c ****     const percent_t etb_test_min = 0;
 379:controller/controller.c ****     const percent_t etb_test_max = 100;
 380:controller/controller.c ****     const percent_t etb_test_resolution = 0.1;
 381:controller/controller.c ****     for (etb_test_target_pos = etb_test_min; etb_test_target_pos < etb_test_max; etb_test_target_po
 382:controller/controller.c ****     {
 383:controller/controller.c ****       osDelay(1);
 110              		.loc 1 383 7 is_stmt 1 view .LVU15
 111 000e 0120     		movs	r0, #1
 112 0010 FFF7FEFF 		bl	osDelay
 113              	.LVL10:
 384:controller/controller.c ****       electronic_throttle_set(&etb1, etb_test_target_pos);
 114              		.loc 1 384 7 view .LVU16
 115 0014 B0EE480A 		vmov.f32	s0, s16
 116 0018 1248     		ldr	r0, .L14
 117 001a FFF7FEFF 		bl	electronic_throttle_set
 118              	.LVL11:
 381:controller/controller.c ****     {
 119              		.loc 1 381 102 discriminator 3 view .LVU17
 120 001e DFED127A 		vldr.32	s15, .L14+4
 121 0022 38EE278A 		vadd.f32	s16, s16, s15
 122              	.LVL12:
 123              	.L7:
 381:controller/controller.c ****     {
 124              		.loc 1 381 66 discriminator 1 view .LVU18
 125 0026 DFED117A 		vldr.32	s15, .L14+8
 126 002a B4EEE78A 		vcmpe.f32	s16, s15
 127 002e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 128 0032 ECD4     		bmi	.L8
 385:controller/controller.c ****     }
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 10


 386:controller/controller.c ****     for (etb_test_target_pos = etb_test_max; etb_test_target_pos > etb_test_min; etb_test_target_po
 129              		.loc 1 386 30 is_stmt 0 view .LVU19
 130 0034 B0EE678A 		vmov.f32	s16, s15
 131              	.LVL13:
 132              	.L9:
 133              		.loc 1 386 66 is_stmt 1 discriminator 1 view .LVU20
 134 0038 B5EEC08A 		vcmpe.f32	s16, #0
 135 003c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 136 0040 02DC     		bgt	.L13
 137              	.LVL14:
 138              	.L11:
 139              		.loc 1 386 66 is_stmt 0 discriminator 1 view .LVU21
 140              	.LBE2:
 374:controller/controller.c ****   for (;;)
 141              		.loc 1 374 3 is_stmt 1 view .LVU22
 375:controller/controller.c ****   {
 142              		.loc 1 375 3 view .LVU23
 143              	.LBB3:
 377:controller/controller.c ****     const percent_t etb_test_min = 0;
 144              		.loc 1 377 5 view .LVU24
 378:controller/controller.c ****     const percent_t etb_test_max = 100;
 145              		.loc 1 378 5 view .LVU25
 379:controller/controller.c ****     const percent_t etb_test_resolution = 0.1;
 146              		.loc 1 379 5 view .LVU26
 380:controller/controller.c ****     for (etb_test_target_pos = etb_test_min; etb_test_target_pos < etb_test_max; etb_test_target_po
 147              		.loc 1 380 5 view .LVU27
 381:controller/controller.c ****     {
 148              		.loc 1 381 5 view .LVU28
 381:controller/controller.c ****     {
 149              		.loc 1 381 30 is_stmt 0 view .LVU29
 150 0042 9FED0B8A 		vldr.32	s16, .L14+12
 381:controller/controller.c ****     {
 151              		.loc 1 381 5 view .LVU30
 152 0046 EEE7     		b	.L7
 153              	.LVL15:
 154              	.L13:
 387:controller/controller.c ****     {
 388:controller/controller.c ****       osDelay(1);
 155              		.loc 1 388 7 is_stmt 1 view .LVU31
 156 0048 0120     		movs	r0, #1
 157 004a FFF7FEFF 		bl	osDelay
 158              	.LVL16:
 389:controller/controller.c ****       electronic_throttle_set(&etb1, etb_test_target_pos);
 159              		.loc 1 389 7 view .LVU32
 160 004e B0EE480A 		vmov.f32	s0, s16
 161 0052 0448     		ldr	r0, .L14
 162 0054 FFF7FEFF 		bl	electronic_throttle_set
 163              	.LVL17:
 386:controller/controller.c ****     {
 164              		.loc 1 386 102 discriminator 3 view .LVU33
 165 0058 DFED037A 		vldr.32	s15, .L14+4
 166 005c 38EE678A 		vsub.f32	s16, s16, s15
 167              	.LVL18:
 386:controller/controller.c ****     {
 168              		.loc 1 386 102 is_stmt 0 discriminator 3 view .LVU34
 169 0060 EAE7     		b	.L9
 170              	.L15:
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 11


 171 0062 00BF     		.align	2
 172              	.L14:
 173 0064 00000000 		.word	etb1
 174 0068 CDCCCC3D 		.word	1036831949
 175 006c 0000C842 		.word	1120403456
 176 0070 00000000 		.word	0
 177              	.LBE3:
 178              		.cfi_endproc
 179              	.LFE239:
 181              		.section	.text.controller_sensor_task,"ax",%progbits
 182              		.align	1
 183              		.global	controller_sensor_task
 184              		.syntax unified
 185              		.thumb
 186              		.thumb_func
 188              	controller_sensor_task:
 189              	.LFB237:
 345:controller/controller.c ****   for (;;)
 190              		.loc 1 345 1 is_stmt 1 view -0
 191              		.cfi_startproc
 192              		@ Volatile: function does not return.
 193              		@ args = 0, pretend = 0, frame = 0
 194              		@ frame_needed = 0, uses_anonymous_args = 0
 195              	.LVL19:
 345:controller/controller.c ****   for (;;)
 196              		.loc 1 345 1 is_stmt 0 view .LVU36
 197 0000 08B5     		push	{r3, lr}
 198              		.cfi_def_cfa_offset 8
 199              		.cfi_offset 3, -8
 200              		.cfi_offset 14, -4
 201              	.LVL20:
 202              	.L17:
 346:controller/controller.c ****   {
 203              		.loc 1 346 3 is_stmt 1 view .LVU37
 348:controller/controller.c ****     runtime.clt_degc = sensor_clt_get();
 204              		.loc 1 348 5 view .LVU38
 348:controller/controller.c ****     runtime.clt_degc = sensor_clt_get();
 205              		.loc 1 348 20 is_stmt 0 view .LVU39
 206 0002 0D48     		ldr	r0, .L19
 207 0004 FFF7FEFF 		bl	sensor_tps_get
 208              	.LVL21:
 348:controller/controller.c ****     runtime.clt_degc = sensor_clt_get();
 209              		.loc 1 348 18 discriminator 1 view .LVU40
 210 0008 0C4C     		ldr	r4, .L19+4
 211 000a 84ED0A0A 		vstr.32	s0, [r4, #40]
 349:controller/controller.c ****     runtime.iat_degc = sensor_iat_get();
 212              		.loc 1 349 5 is_stmt 1 view .LVU41
 349:controller/controller.c ****     runtime.iat_degc = sensor_iat_get();
 213              		.loc 1 349 24 is_stmt 0 view .LVU42
 214 000e FFF7FEFF 		bl	sensor_clt_get
 215              	.LVL22:
 349:controller/controller.c ****     runtime.iat_degc = sensor_iat_get();
 216              		.loc 1 349 22 discriminator 1 view .LVU43
 217 0012 84ED0E0A 		vstr.32	s0, [r4, #56]
 350:controller/controller.c ****     // runtime.map_kpa = sensor_map_get();
 218              		.loc 1 350 5 is_stmt 1 view .LVU44
 350:controller/controller.c ****     // runtime.map_kpa = sensor_map_get();
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 12


 219              		.loc 1 350 24 is_stmt 0 view .LVU45
 220 0016 FFF7FEFF 		bl	sensor_iat_get
 221              	.LVL23:
 350:controller/controller.c ****     // runtime.map_kpa = sensor_map_get();
 222              		.loc 1 350 22 discriminator 1 view .LVU46
 223 001a 84ED0F0A 		vstr.32	s0, [r4, #60]
 353:controller/controller.c ****     runtime.vbatt_volts = vbat_get();
 224              		.loc 1 353 5 is_stmt 1 view .LVU47
 353:controller/controller.c ****     runtime.vbatt_volts = vbat_get();
 225              		.loc 1 353 24 is_stmt 0 view .LVU48
 226 001e FFF7FEFF 		bl	sensor_egt_get
 227              	.LVL24:
 353:controller/controller.c ****     runtime.vbatt_volts = vbat_get();
 228              		.loc 1 353 22 discriminator 1 view .LVU49
 229 0022 84ED100A 		vstr.32	s0, [r4, #64]
 354:controller/controller.c ****     osDelay(1);
 230              		.loc 1 354 5 is_stmt 1 view .LVU50
 354:controller/controller.c ****     osDelay(1);
 231              		.loc 1 354 27 is_stmt 0 view .LVU51
 232 0026 FFF7FEFF 		bl	vbat_get
 233              	.LVL25:
 354:controller/controller.c ****     osDelay(1);
 234              		.loc 1 354 25 discriminator 1 view .LVU52
 235 002a 84ED120A 		vstr.32	s0, [r4, #72]
 355:controller/controller.c ****   }
 236              		.loc 1 355 5 is_stmt 1 discriminator 1 view .LVU53
 237 002e 0120     		movs	r0, #1
 238 0030 FFF7FEFF 		bl	osDelay
 239              	.LVL26:
 346:controller/controller.c ****   {
 240              		.loc 1 346 3 view .LVU54
 241 0034 E5E7     		b	.L17
 242              	.L20:
 243 0036 00BF     		.align	2
 244              	.L19:
 245 0038 00000000 		.word	tps1
 246 003c 00000000 		.word	runtime
 247              		.cfi_endproc
 248              	.LFE237:
 250              		.section	.text.controller_test_task,"ax",%progbits
 251              		.align	1
 252              		.global	controller_test_task
 253              		.syntax unified
 254              		.thumb
 255              		.thumb_func
 257              	controller_test_task:
 258              	.LVL27:
 259              	.LFB238:
 359:controller/controller.c ****   osDelay(100);
 260              		.loc 1 359 1 view -0
 261              		.cfi_startproc
 262              		@ Volatile: function does not return.
 263              		@ args = 0, pretend = 0, frame = 0
 264              		@ frame_needed = 0, uses_anonymous_args = 0
 359:controller/controller.c ****   osDelay(100);
 265              		.loc 1 359 1 is_stmt 0 view .LVU56
 266 0000 08B5     		push	{r3, lr}
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 13


 267              		.cfi_def_cfa_offset 8
 268              		.cfi_offset 3, -8
 269              		.cfi_offset 14, -4
 360:controller/controller.c ****   trigger_simulator_init(60, 2, trigger_tooth_handle, &trigger1);
 270              		.loc 1 360 3 is_stmt 1 view .LVU57
 271 0002 6420     		movs	r0, #100
 272              	.LVL28:
 360:controller/controller.c ****   trigger_simulator_init(60, 2, trigger_tooth_handle, &trigger1);
 273              		.loc 1 360 3 is_stmt 0 view .LVU58
 274 0004 FFF7FEFF 		bl	osDelay
 275              	.LVL29:
 361:controller/controller.c ****   static rpm_t simulated_rpm = 1000;
 276              		.loc 1 361 3 is_stmt 1 view .LVU59
 277 0008 084B     		ldr	r3, .L24
 278 000a 094A     		ldr	r2, .L24+4
 279 000c 0221     		movs	r1, #2
 280 000e 3C20     		movs	r0, #60
 281 0010 FFF7FEFF 		bl	trigger_simulator_init
 282              	.LVL30:
 283              	.L22:
 362:controller/controller.c ****   for (;;)
 284              		.loc 1 362 3 view .LVU60
 363:controller/controller.c ****   {
 285              		.loc 1 363 3 view .LVU61
 365:controller/controller.c ****     trigger_simulator_update(simulated_rpm);
 286              		.loc 1 365 5 view .LVU62
 365:controller/controller.c ****     trigger_simulator_update(simulated_rpm);
 287              		.loc 1 365 19 is_stmt 0 view .LVU63
 288 0014 9FED070A 		vldr.32	s0, .L24+8
 289 0018 074B     		ldr	r3, .L24+12
 290 001a 83ED000A 		vstr.32	s0, [r3]
 366:controller/controller.c ****     osDelay(1);
 291              		.loc 1 366 5 is_stmt 1 view .LVU64
 292 001e FFF7FEFF 		bl	trigger_simulator_update
 293              	.LVL31:
 367:controller/controller.c ****   }
 294              		.loc 1 367 5 discriminator 1 view .LVU65
 295 0022 0120     		movs	r0, #1
 296 0024 FFF7FEFF 		bl	osDelay
 297              	.LVL32:
 363:controller/controller.c ****   {
 298              		.loc 1 363 3 view .LVU66
 299 0028 F4E7     		b	.L22
 300              	.L25:
 301 002a 00BF     		.align	2
 302              	.L24:
 303 002c 00000000 		.word	trigger1
 304 0030 00000000 		.word	trigger_tooth_handle
 305 0034 0000FA43 		.word	1140457472
 306 0038 00000000 		.word	simulated_rpm.0
 307              		.cfi_endproc
 308              	.LFE238:
 310              		.section	.text.controller_load_test_configuration,"ax",%progbits
 311              		.align	1
 312              		.global	controller_load_test_configuration
 313              		.syntax unified
 314              		.thumb
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 14


 315              		.thumb_func
 317              	controller_load_test_configuration:
 318              	.LFB232:
  48:controller/controller.c **** 
 319              		.loc 1 48 1 view -0
 320              		.cfi_startproc
 321              		@ args = 0, pretend = 0, frame = 0
 322              		@ frame_needed = 0, uses_anonymous_args = 0
 323 0000 10B5     		push	{r4, lr}
 324              		.cfi_def_cfa_offset 8
 325              		.cfi_offset 4, -8
 326              		.cfi_offset 14, -4
 327 0002 2DED028B 		vpush.64	{d8}
 328              		.cfi_def_cfa_offset 16
 329              		.cfi_offset 80, -16
 330              		.cfi_offset 81, -12
  51:controller/controller.c ****   {
 331              		.loc 1 51 3 view .LVU68
 332              	.LBB4:
  51:controller/controller.c ****   {
 333              		.loc 1 51 8 view .LVU69
 334              	.LVL33:
  51:controller/controller.c ****   {
 335              		.loc 1 51 15 is_stmt 0 view .LVU70
 336 0006 0024     		movs	r4, #0
  51:controller/controller.c ****   {
 337              		.loc 1 51 3 view .LVU71
 338 0008 38E0     		b	.L27
 339              	.LVL34:
 340              	.L29:
 341              	.LBB5:
 342              	.LBB6:
 343              	.LBB7:
  60:controller/controller.c **** 
 344              		.loc 1 60 7 is_stmt 1 view .LVU72
  60:controller/controller.c **** 
 345              		.loc 1 60 26 is_stmt 0 view .LVU73
 346 000a 07EE901A 		vmov	s15, r1	@ int
 347 000e B8EE677A 		vcvt.f32.u32	s14, s15
  60:controller/controller.c **** 
 348              		.loc 1 60 13 view .LVU74
 349 0012 F2EE0E7A 		vmov.f32	s15, #1.5e+1
 350 0016 C7EE276A 		vdiv.f32	s13, s14, s15
 351              	.LVL35:
  63:controller/controller.c ****       config.ve_table_2.data[i][j] = 20.0f + 70.0f * ve_rpm_scale * map_factor;
 352              		.loc 1 63 7 is_stmt 1 view .LVU75
  63:controller/controller.c ****       config.ve_table_2.data[i][j] = 20.0f + 70.0f * ve_rpm_scale * map_factor;
 353              		.loc 1 63 52 is_stmt 0 view .LVU76
 354 001a 9FEDB07A 		vldr.32	s14, .L37
 355 001e 26EE077A 		vmul.f32	s14, s12, s14
  63:controller/controller.c ****       config.ve_table_2.data[i][j] = 20.0f + 70.0f * ve_rpm_scale * map_factor;
 356              		.loc 1 63 67 view .LVU77
 357 0022 27EE267A 		vmul.f32	s14, s14, s13
  63:controller/controller.c ****       config.ve_table_2.data[i][j] = 20.0f + 70.0f * ve_rpm_scale * map_factor;
 358              		.loc 1 63 44 view .LVU78
 359 0026 F3EE047A 		vmov.f32	s15, #2.0e+1
 360 002a 37EE277A 		vadd.f32	s14, s14, s15
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 15


  63:controller/controller.c ****       config.ve_table_2.data[i][j] = 20.0f + 70.0f * ve_rpm_scale * map_factor;
 361              		.loc 1 63 36 view .LVU79
 362 002e AC4B     		ldr	r3, .L37+4
 363 0030 01EB0412 		add	r2, r1, r4, lsl #4
 364 0034 03EB8200 		add	r0, r3, r2, lsl #2
 365 0038 80ED007A 		vstr.32	s14, [r0]
  64:controller/controller.c **** 
 366              		.loc 1 64 7 is_stmt 1 view .LVU80
  64:controller/controller.c **** 
 367              		.loc 1 64 36 is_stmt 0 view .LVU81
 368 003c 02F59070 		add	r0, r2, #288
 369 0040 03EB8000 		add	r0, r3, r0, lsl #2
 370 0044 80ED007A 		vstr.32	s14, [r0]
  67:controller/controller.c ****       config.ign_table_2.data[i][j] = 10.0f + 20.0f * rpm_factor - 10.0f * map_factor;
 371              		.loc 1 67 7 is_stmt 1 view .LVU82
  67:controller/controller.c ****       config.ign_table_2.data[i][j] = 10.0f + 20.0f * rpm_factor - 10.0f * map_factor;
 372              		.loc 1 67 53 is_stmt 0 view .LVU83
 373 0048 68EE277A 		vmul.f32	s15, s16, s15
  67:controller/controller.c ****       config.ign_table_2.data[i][j] = 10.0f + 20.0f * rpm_factor - 10.0f * map_factor;
 374              		.loc 1 67 45 view .LVU84
 375 004c B2EE047A 		vmov.f32	s14, #1.0e+1
 376 0050 77EE877A 		vadd.f32	s15, s15, s14
  67:controller/controller.c ****       config.ign_table_2.data[i][j] = 10.0f + 20.0f * rpm_factor - 10.0f * map_factor;
 377              		.loc 1 67 74 view .LVU85
 378 0054 66EE876A 		vmul.f32	s13, s13, s14
 379              	.LVL36:
  67:controller/controller.c ****       config.ign_table_2.data[i][j] = 10.0f + 20.0f * rpm_factor - 10.0f * map_factor;
 380              		.loc 1 67 66 view .LVU86
 381 0058 77EEE67A 		vsub.f32	s15, s15, s13
  67:controller/controller.c ****       config.ign_table_2.data[i][j] = 10.0f + 20.0f * rpm_factor - 10.0f * map_factor;
 382              		.loc 1 67 37 view .LVU87
 383 005c 02F51070 		add	r0, r2, #576
 384 0060 03EB8000 		add	r0, r3, r0, lsl #2
 385 0064 C0ED007A 		vstr.32	s15, [r0]
  68:controller/controller.c ****     }
 386              		.loc 1 68 7 is_stmt 1 view .LVU88
  68:controller/controller.c ****     }
 387              		.loc 1 68 37 is_stmt 0 view .LVU89
 388 0068 02F55872 		add	r2, r2, #864
 389 006c 03EB8203 		add	r3, r3, r2, lsl #2
 390 0070 C3ED007A 		vstr.32	s15, [r3]
 391              	.LBE7:
  58:controller/controller.c ****     {
 392              		.loc 1 58 51 is_stmt 1 discriminator 3 view .LVU90
 393 0074 0131     		adds	r1, r1, #1
 394              	.LVL37:
 395              	.L28:
  58:controller/controller.c ****     {
 396              		.loc 1 58 26 discriminator 1 view .LVU91
 397 0076 0F29     		cmp	r1, #15
 398 0078 C7D9     		bls	.L29
 399              	.LBE6:
 400              	.LBE5:
  51:controller/controller.c ****   {
 401              		.loc 1 51 49 discriminator 2 view .LVU92
 402 007a 0134     		adds	r4, r4, #1
 403              	.LVL38:
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 16


 404              	.L27:
  51:controller/controller.c ****   {
 405              		.loc 1 51 24 discriminator 1 view .LVU93
 406 007c 0F2C     		cmp	r4, #15
 407 007e 17D8     		bhi	.L36
 408              	.LBB9:
  53:controller/controller.c **** 
 409              		.loc 1 53 5 view .LVU94
  53:controller/controller.c **** 
 410              		.loc 1 53 24 is_stmt 0 view .LVU95
 411 0080 07EE904A 		vmov	s15, r4	@ int
 412 0084 B8EE677A 		vcvt.f32.u32	s14, s15
  53:controller/controller.c **** 
 413              		.loc 1 53 11 view .LVU96
 414 0088 F2EE0E7A 		vmov.f32	s15, #1.5e+1
 415 008c 87EE278A 		vdiv.f32	s16, s14, s15
 416              	.LVL39:
  56:controller/controller.c **** 
 417              		.loc 1 56 5 is_stmt 1 view .LVU97
  56:controller/controller.c **** 
 418              		.loc 1 56 33 is_stmt 0 view .LVU98
 419 0090 9FED940A 		vldr.32	s0, .L37+8
 420 0094 28EE000A 		vmul.f32	s0, s16, s0
 421 0098 FFF7FEFF 		bl	sinf
 422              	.LVL40:
  56:controller/controller.c **** 
 423              		.loc 1 56 31 discriminator 1 view .LVU99
 424 009c DFED927A 		vldr.32	s15, .L37+12
 425 00a0 20EE276A 		vmul.f32	s12, s0, s15
  56:controller/controller.c **** 
 426              		.loc 1 56 11 discriminator 1 view .LVU100
 427 00a4 DFED917A 		vldr.32	s15, .L37+16
 428 00a8 36EE276A 		vadd.f32	s12, s12, s15
 429              	.LVL41:
  58:controller/controller.c ****     {
 430              		.loc 1 58 5 is_stmt 1 view .LVU101
 431              	.LBB8:
  58:controller/controller.c ****     {
 432              		.loc 1 58 10 view .LVU102
  58:controller/controller.c ****     {
 433              		.loc 1 58 17 is_stmt 0 view .LVU103
 434 00ac 0021     		movs	r1, #0
  58:controller/controller.c ****     {
 435              		.loc 1 58 5 view .LVU104
 436 00ae E2E7     		b	.L28
 437              	.LVL42:
 438              	.L36:
  58:controller/controller.c ****     {
 439              		.loc 1 58 5 view .LVU105
 440              	.LBE8:
 441              	.LBE9:
 442              	.LBE4:
 443              	.LBB10:
  73:controller/controller.c ****   {
 444              		.loc 1 73 15 view .LVU106
 445 00b0 0022     		movs	r2, #0
 446 00b2 22E0     		b	.L31
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 17


 447              	.LVL43:
 448              	.L32:
  75:controller/controller.c ****     config.ve_table_2.x_bins[i] = i * FIRMWARE_LIMIT_MAX_RPM / TABLE_PRIMARY_SIZE_X;
 449              		.loc 1 75 5 is_stmt 1 view .LVU107
  75:controller/controller.c ****     config.ve_table_2.x_bins[i] = i * FIRMWARE_LIMIT_MAX_RPM / TABLE_PRIMARY_SIZE_X;
 450              		.loc 1 75 37 is_stmt 0 view .LVU108
 451 00b4 41F27073 		movw	r3, #6000
 452 00b8 02FB03F3 		mul	r3, r2, r3
  75:controller/controller.c ****     config.ve_table_2.x_bins[i] = i * FIRMWARE_LIMIT_MAX_RPM / TABLE_PRIMARY_SIZE_X;
 453              		.loc 1 75 62 view .LVU109
 454 00bc 1B09     		lsrs	r3, r3, #4
  75:controller/controller.c ****     config.ve_table_2.x_bins[i] = i * FIRMWARE_LIMIT_MAX_RPM / TABLE_PRIMARY_SIZE_X;
 455              		.loc 1 75 33 view .LVU110
 456 00be 07EE903A 		vmov	s15, r3	@ int
 457 00c2 F8EE677A 		vcvt.f32.u32	s15, s15
 458 00c6 864B     		ldr	r3, .L37+4
 459 00c8 02F58071 		add	r1, r2, #256
 460 00cc 03EB8101 		add	r1, r3, r1, lsl #2
 461 00d0 C1ED007A 		vstr.32	s15, [r1]
  76:controller/controller.c ****     config.ign_table_1.x_bins[i] = i * FIRMWARE_LIMIT_MAX_RPM / TABLE_PRIMARY_SIZE_X;
 462              		.loc 1 76 5 is_stmt 1 view .LVU111
  76:controller/controller.c ****     config.ign_table_1.x_bins[i] = i * FIRMWARE_LIMIT_MAX_RPM / TABLE_PRIMARY_SIZE_X;
 463              		.loc 1 76 33 is_stmt 0 view .LVU112
 464 00d4 02F50871 		add	r1, r2, #544
 465 00d8 03EB8101 		add	r1, r3, r1, lsl #2
 466 00dc C1ED007A 		vstr.32	s15, [r1]
  77:controller/controller.c ****     config.ign_table_2.x_bins[i] = i * FIRMWARE_LIMIT_MAX_RPM / TABLE_PRIMARY_SIZE_X;
 467              		.loc 1 77 5 is_stmt 1 view .LVU113
  77:controller/controller.c ****     config.ign_table_2.x_bins[i] = i * FIRMWARE_LIMIT_MAX_RPM / TABLE_PRIMARY_SIZE_X;
 468              		.loc 1 77 34 is_stmt 0 view .LVU114
 469 00e0 02F55071 		add	r1, r2, #832
 470 00e4 03EB8101 		add	r1, r3, r1, lsl #2
 471 00e8 C1ED007A 		vstr.32	s15, [r1]
  78:controller/controller.c ****   }
 472              		.loc 1 78 5 is_stmt 1 view .LVU115
  78:controller/controller.c ****   }
 473              		.loc 1 78 34 is_stmt 0 view .LVU116
 474 00ec 02F58C61 		add	r1, r2, #1120
 475 00f0 03EB8103 		add	r3, r3, r1, lsl #2
 476 00f4 C3ED007A 		vstr.32	s15, [r3]
  73:controller/controller.c ****   {
 477              		.loc 1 73 49 is_stmt 1 discriminator 3 view .LVU117
 478 00f8 0132     		adds	r2, r2, #1
 479              	.LVL44:
 480              	.L31:
  73:controller/controller.c ****   {
 481              		.loc 1 73 24 discriminator 1 view .LVU118
 482 00fa 0F2A     		cmp	r2, #15
 483 00fc DAD9     		bls	.L32
 484              	.LBE10:
 485              	.LBB11:
  82:controller/controller.c ****   {
 486              		.loc 1 82 15 is_stmt 0 view .LVU119
 487 00fe 0023     		movs	r3, #0
 488 0100 25E0     		b	.L33
 489              	.LVL45:
 490              	.L34:
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 18


  84:controller/controller.c ****     config.ve_table_2.y_bins[i] = i * FIRMWARE_LIMIT_MAX_MAP / TABLE_PRIMARY_SIZE_Y;
 491              		.loc 1 84 5 is_stmt 1 view .LVU120
  84:controller/controller.c ****     config.ve_table_2.y_bins[i] = i * FIRMWARE_LIMIT_MAX_MAP / TABLE_PRIMARY_SIZE_Y;
 492              		.loc 1 84 37 is_stmt 0 view .LVU121
 493 0102 07EE903A 		vmov	s15, r3	@ int
 494 0106 F8EE677A 		vcvt.f32.u32	s15, s15
 495 010a 9FED797A 		vldr.32	s14, .L37+20
 496 010e 67EE877A 		vmul.f32	s15, s15, s14
  84:controller/controller.c ****     config.ve_table_2.y_bins[i] = i * FIRMWARE_LIMIT_MAX_MAP / TABLE_PRIMARY_SIZE_Y;
 497              		.loc 1 84 62 view .LVU122
 498 0112 9FED787A 		vldr.32	s14, .L37+24
 499 0116 67EE877A 		vmul.f32	s15, s15, s14
  84:controller/controller.c ****     config.ve_table_2.y_bins[i] = i * FIRMWARE_LIMIT_MAX_MAP / TABLE_PRIMARY_SIZE_Y;
 500              		.loc 1 84 33 view .LVU123
 501 011a 714A     		ldr	r2, .L37+4
 502 011c 03F58871 		add	r1, r3, #272
 503 0120 02EB8101 		add	r1, r2, r1, lsl #2
 504 0124 C1ED007A 		vstr.32	s15, [r1]
  85:controller/controller.c ****     config.ign_table_1.y_bins[i] = i * FIRMWARE_LIMIT_MAX_MAP / TABLE_PRIMARY_SIZE_Y;
 505              		.loc 1 85 5 is_stmt 1 view .LVU124
  85:controller/controller.c ****     config.ign_table_1.y_bins[i] = i * FIRMWARE_LIMIT_MAX_MAP / TABLE_PRIMARY_SIZE_Y;
 506              		.loc 1 85 33 is_stmt 0 view .LVU125
 507 0128 03F50C71 		add	r1, r3, #560
 508 012c 02EB8101 		add	r1, r2, r1, lsl #2
 509 0130 C1ED007A 		vstr.32	s15, [r1]
  86:controller/controller.c ****     config.ign_table_2.y_bins[i] = i * FIRMWARE_LIMIT_MAX_MAP / TABLE_PRIMARY_SIZE_Y;
 510              		.loc 1 86 5 is_stmt 1 view .LVU126
  86:controller/controller.c ****     config.ign_table_2.y_bins[i] = i * FIRMWARE_LIMIT_MAX_MAP / TABLE_PRIMARY_SIZE_Y;
 511              		.loc 1 86 34 is_stmt 0 view .LVU127
 512 0134 03F55471 		add	r1, r3, #848
 513 0138 02EB8101 		add	r1, r2, r1, lsl #2
 514 013c C1ED007A 		vstr.32	s15, [r1]
  87:controller/controller.c ****   }
 515              		.loc 1 87 5 is_stmt 1 view .LVU128
  87:controller/controller.c ****   }
 516              		.loc 1 87 34 is_stmt 0 view .LVU129
 517 0140 03F58E61 		add	r1, r3, #1136
 518 0144 02EB8102 		add	r2, r2, r1, lsl #2
 519 0148 C2ED007A 		vstr.32	s15, [r2]
  82:controller/controller.c ****   {
 520              		.loc 1 82 49 is_stmt 1 discriminator 3 view .LVU130
 521 014c 0133     		adds	r3, r3, #1
 522              	.LVL46:
 523              	.L33:
  82:controller/controller.c ****   {
 524              		.loc 1 82 24 discriminator 1 view .LVU131
 525 014e 0F2B     		cmp	r3, #15
 526 0150 D7D9     		bls	.L34
 527              	.LBE11:
  91:controller/controller.c ****   config.cranking_advance = 8.0f;
 528              		.loc 1 91 3 view .LVU132
  91:controller/controller.c ****   config.cranking_advance = 8.0f;
 529              		.loc 1 91 33 is_stmt 0 view .LVU133
 530 0152 6349     		ldr	r1, .L37+4
 531 0154 01F58053 		add	r3, r1, #4096
 532              	.LVL47:
  91:controller/controller.c ****   config.cranking_advance = 8.0f;
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 19


 533              		.loc 1 91 33 view .LVU134
 534 0158 674A     		ldr	r2, .L37+28
 535 015a C3F80022 		str	r2, [r3, #512]	@ float
  92:controller/controller.c ****   config.cranking_throttle = 10.0f;
 536              		.loc 1 92 3 is_stmt 1 view .LVU135
  92:controller/controller.c ****   config.cranking_throttle = 10.0f;
 537              		.loc 1 92 27 is_stmt 0 view .LVU136
 538 015e 4FF08242 		mov	r2, #1090519040
 539 0162 C3F80422 		str	r2, [r3, #516]	@ float
  93:controller/controller.c **** 
 540              		.loc 1 93 3 is_stmt 1 view .LVU137
  93:controller/controller.c **** 
 541              		.loc 1 93 28 is_stmt 0 view .LVU138
 542 0166 6548     		ldr	r0, .L37+32
 543 0168 C3F80802 		str	r0, [r3, #520]	@ float
  95:controller/controller.c ****   config.multi_spark_rpm_threshold = 3500.0f;
 544              		.loc 1 95 3 is_stmt 1 view .LVU139
  95:controller/controller.c ****   config.multi_spark_rpm_threshold = 3500.0f;
 545              		.loc 1 95 25 is_stmt 0 view .LVU140
 546 016c 644A     		ldr	r2, .L37+36
 547 016e C3F80C22 		str	r2, [r3, #524]	@ float
  96:controller/controller.c ****   config.multi_spark_rest_time_ms = 0.5f;
 548              		.loc 1 96 3 is_stmt 1 view .LVU141
  96:controller/controller.c ****   config.multi_spark_rest_time_ms = 0.5f;
 549              		.loc 1 96 36 is_stmt 0 view .LVU142
 550 0172 644A     		ldr	r2, .L37+40
 551 0174 C3F81022 		str	r2, [r3, #528]	@ float
  97:controller/controller.c ****   config.multi_spark_max_trailing_angle = 15.0f;
 552              		.loc 1 97 3 is_stmt 1 view .LVU143
  97:controller/controller.c ****   config.multi_spark_max_trailing_angle = 15.0f;
 553              		.loc 1 97 35 is_stmt 0 view .LVU144
 554 0178 4FF07C52 		mov	r2, #1056964608
 555 017c C3F81422 		str	r2, [r3, #532]	@ float
  98:controller/controller.c **** 
 556              		.loc 1 98 3 is_stmt 1 view .LVU145
  98:controller/controller.c **** 
 557              		.loc 1 98 41 is_stmt 0 view .LVU146
 558 0180 614C     		ldr	r4, .L37+44
 559              	.LVL48:
  98:controller/controller.c **** 
 560              		.loc 1 98 41 view .LVU147
 561 0182 C3F81842 		str	r4, [r3, #536]	@ float
 101:controller/controller.c ****   config.stoich_afr_petrol = 14.7f;
 562              		.loc 1 101 3 is_stmt 1 view .LVU148
 101:controller/controller.c ****   config.stoich_afr_petrol = 14.7f;
 563              		.loc 1 101 25 is_stmt 0 view .LVU149
 564 0186 614C     		ldr	r4, .L37+48
 565 0188 C3F81C42 		str	r4, [r3, #540]	@ float
 102:controller/controller.c **** 
 566              		.loc 1 102 3 is_stmt 1 view .LVU150
 102:controller/controller.c **** 
 567              		.loc 1 102 28 is_stmt 0 view .LVU151
 568 018c C3F82042 		str	r4, [r3, #544]	@ float
 105:controller/controller.c ****   config.governer_idle_rpm = 850.0f;
 569              		.loc 1 105 3 is_stmt 1 view .LVU152
 105:controller/controller.c ****   config.governer_idle_rpm = 850.0f;
 570              		.loc 1 105 30 is_stmt 0 view .LVU153
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 20


 571 0190 5F4C     		ldr	r4, .L37+52
 572 0192 C3F82442 		str	r4, [r3, #548]	@ float
 106:controller/controller.c ****   config.governer_pid_Kp = 10.0f;
 573              		.loc 1 106 3 is_stmt 1 view .LVU154
 106:controller/controller.c ****   config.governer_pid_Kp = 10.0f;
 574              		.loc 1 106 28 is_stmt 0 view .LVU155
 575 0196 5F4C     		ldr	r4, .L37+56
 576 0198 C3F82842 		str	r4, [r3, #552]	@ float
 107:controller/controller.c ****   config.governer_pid_Ki = 0.5f;
 577              		.loc 1 107 3 is_stmt 1 view .LVU156
 107:controller/controller.c ****   config.governer_pid_Ki = 0.5f;
 578              		.loc 1 107 26 is_stmt 0 view .LVU157
 579 019c C3F82C02 		str	r0, [r3, #556]	@ float
 108:controller/controller.c ****   config.governer_pid_Kd = 0.1f;
 580              		.loc 1 108 3 is_stmt 1 view .LVU158
 108:controller/controller.c ****   config.governer_pid_Kd = 0.1f;
 581              		.loc 1 108 26 is_stmt 0 view .LVU159
 582 01a0 C3F83022 		str	r2, [r3, #560]	@ float
 109:controller/controller.c ****   config.governer_pid_limit_integrator_min = -100.0f;
 583              		.loc 1 109 3 is_stmt 1 view .LVU160
 109:controller/controller.c ****   config.governer_pid_limit_integrator_min = -100.0f;
 584              		.loc 1 109 26 is_stmt 0 view .LVU161
 585 01a4 5C4A     		ldr	r2, .L37+60
 586 01a6 C3F83422 		str	r2, [r3, #564]	@ float
 110:controller/controller.c ****   config.governer_pid_limit_integrator_max = 100.0f;
 587              		.loc 1 110 3 is_stmt 1 view .LVU162
 110:controller/controller.c ****   config.governer_pid_limit_integrator_max = 100.0f;
 588              		.loc 1 110 44 is_stmt 0 view .LVU163
 589 01aa 5C48     		ldr	r0, .L37+64
 590 01ac C3F83802 		str	r0, [r3, #568]	@ float
 111:controller/controller.c ****   config.governer_pid_derivative_filter_tau = 0.1f;
 591              		.loc 1 111 3 is_stmt 1 view .LVU164
 111:controller/controller.c ****   config.governer_pid_derivative_filter_tau = 0.1f;
 592              		.loc 1 111 44 is_stmt 0 view .LVU165
 593 01b0 5B4C     		ldr	r4, .L37+68
 594 01b2 C3F83C42 		str	r4, [r3, #572]	@ float
 112:controller/controller.c **** 
 595              		.loc 1 112 3 is_stmt 1 view .LVU166
 112:controller/controller.c **** 
 596              		.loc 1 112 45 is_stmt 0 view .LVU167
 597 01b6 C3F84022 		str	r2, [r3, #576]	@ float
 115:controller/controller.c ****   config.etb1_pid_Ki = 1.0f;
 598              		.loc 1 115 3 is_stmt 1 view .LVU168
 115:controller/controller.c ****   config.etb1_pid_Ki = 1.0f;
 599              		.loc 1 115 22 is_stmt 0 view .LVU169
 600 01ba F3EE047A 		vmov.f32	s15, #2.0e+1
 601 01be C3ED917A 		vstr.32	s15, [r3, #580]
 116:controller/controller.c ****   config.etb1_pid_Kd = 0.0f;
 602              		.loc 1 116 3 is_stmt 1 view .LVU170
 116:controller/controller.c ****   config.etb1_pid_Kd = 0.0f;
 603              		.loc 1 116 22 is_stmt 0 view .LVU171
 604 01c2 4FF07E5E 		mov	lr, #1065353216
 605 01c6 C3F848E2 		str	lr, [r3, #584]	@ float
 117:controller/controller.c ****   config.etb1_pid_limit_integrator_min = 0.0f;
 606              		.loc 1 117 3 is_stmt 1 view .LVU172
 117:controller/controller.c ****   config.etb1_pid_limit_integrator_min = 0.0f;
 607              		.loc 1 117 22 is_stmt 0 view .LVU173
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 21


 608 01ca 0020     		movs	r0, #0
 609 01cc C3F84C02 		str	r0, [r3, #588]	@ float
 118:controller/controller.c ****   config.etb1_pid_limit_integrator_max = 255.0f;
 610              		.loc 1 118 3 is_stmt 1 view .LVU174
 118:controller/controller.c ****   config.etb1_pid_limit_integrator_max = 255.0f;
 611              		.loc 1 118 40 is_stmt 0 view .LVU175
 612 01d0 C3F85002 		str	r0, [r3, #592]	@ float
 119:controller/controller.c ****   config.etb1_pid_derivative_filter_tau = 0.1f;
 613              		.loc 1 119 3 is_stmt 1 view .LVU176
 119:controller/controller.c ****   config.etb1_pid_derivative_filter_tau = 0.1f;
 614              		.loc 1 119 40 is_stmt 0 view .LVU177
 615 01d4 DFF858C1 		ldr	ip, .L37+84
 616 01d8 C3F854C2 		str	ip, [r3, #596]	@ float
 120:controller/controller.c **** 
 617              		.loc 1 120 3 is_stmt 1 view .LVU178
 120:controller/controller.c **** 
 618              		.loc 1 120 41 is_stmt 0 view .LVU179
 619 01dc C3F85822 		str	r2, [r3, #600]	@ float
 123:controller/controller.c ****   config.etb2_pid_Ki = 1.0f;
 620              		.loc 1 123 3 is_stmt 1 view .LVU180
 123:controller/controller.c ****   config.etb2_pid_Ki = 1.0f;
 621              		.loc 1 123 22 is_stmt 0 view .LVU181
 622 01e0 C3ED977A 		vstr.32	s15, [r3, #604]
 124:controller/controller.c ****   config.etb2_pid_Kd = 0.0f;
 623              		.loc 1 124 3 is_stmt 1 view .LVU182
 124:controller/controller.c ****   config.etb2_pid_Kd = 0.0f;
 624              		.loc 1 124 22 is_stmt 0 view .LVU183
 625 01e4 C3F860E2 		str	lr, [r3, #608]	@ float
 125:controller/controller.c ****   config.etb2_pid_limit_integrator_min = 0.0f;
 626              		.loc 1 125 3 is_stmt 1 view .LVU184
 125:controller/controller.c ****   config.etb2_pid_limit_integrator_min = 0.0f;
 627              		.loc 1 125 22 is_stmt 0 view .LVU185
 628 01e8 C3F86402 		str	r0, [r3, #612]	@ float
 126:controller/controller.c ****   config.etb2_pid_limit_integrator_max = 255.0f;
 629              		.loc 1 126 3 is_stmt 1 view .LVU186
 126:controller/controller.c ****   config.etb2_pid_limit_integrator_max = 255.0f;
 630              		.loc 1 126 40 is_stmt 0 view .LVU187
 631 01ec C3F86802 		str	r0, [r3, #616]	@ float
 127:controller/controller.c ****   config.etb2_pid_derivative_filter_tau = 0.1f;
 632              		.loc 1 127 3 is_stmt 1 view .LVU188
 127:controller/controller.c ****   config.etb2_pid_derivative_filter_tau = 0.1f;
 633              		.loc 1 127 40 is_stmt 0 view .LVU189
 634 01f0 C3F86CC2 		str	ip, [r3, #620]	@ float
 128:controller/controller.c **** 
 635              		.loc 1 128 3 is_stmt 1 view .LVU190
 128:controller/controller.c **** 
 636              		.loc 1 128 41 is_stmt 0 view .LVU191
 637 01f4 C3F87022 		str	r2, [r3, #624]	@ float
 131:controller/controller.c ****   config.protection_clt_load_disconnect_temprature = 100.0f;
 638              		.loc 1 131 3 is_stmt 1 view .LVU192
 131:controller/controller.c ****   config.protection_clt_load_disconnect_temprature = 100.0f;
 639              		.loc 1 131 45 is_stmt 0 view .LVU193
 640 01f8 4A4A     		ldr	r2, .L37+72
 641 01fa C3F87422 		str	r2, [r3, #628]	@ float
 132:controller/controller.c **** 
 642              		.loc 1 132 3 is_stmt 1 view .LVU194
 132:controller/controller.c **** 
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 22


 643              		.loc 1 132 52 is_stmt 0 view .LVU195
 644 01fe C3F87842 		str	r4, [r3, #632]	@ float
 134:controller/controller.c ****   config.fan1_off_temp = 90.0f;
 645              		.loc 1 134 3 is_stmt 1 view .LVU196
 134:controller/controller.c ****   config.fan1_off_temp = 90.0f;
 646              		.loc 1 134 23 is_stmt 0 view .LVU197
 647 0202 494A     		ldr	r2, .L37+76
 648 0204 C3F87C22 		str	r2, [r3, #636]	@ float
 135:controller/controller.c ****   config.fan2_on_temp = 100.0f;
 649              		.loc 1 135 3 is_stmt 1 view .LVU198
 135:controller/controller.c ****   config.fan2_on_temp = 100.0f;
 650              		.loc 1 135 24 is_stmt 0 view .LVU199
 651 0208 4848     		ldr	r0, .L37+80
 652 020a C3F88002 		str	r0, [r3, #640]	@ float
 136:controller/controller.c ****   config.fan2_off_temp = 95.0f;
 653              		.loc 1 136 3 is_stmt 1 view .LVU200
 136:controller/controller.c ****   config.fan2_off_temp = 95.0f;
 654              		.loc 1 136 23 is_stmt 0 view .LVU201
 655 020e C3F88442 		str	r4, [r3, #644]	@ float
 137:controller/controller.c **** 
 656              		.loc 1 137 3 is_stmt 1 view .LVU202
 137:controller/controller.c **** 
 657              		.loc 1 137 24 is_stmt 0 view .LVU203
 658 0212 C3F88822 		str	r2, [r3, #648]	@ float
 140:controller/controller.c ****   config.engine_displacement_cc = 2400;
 659              		.loc 1 140 3 is_stmt 1 view .LVU204
 140:controller/controller.c ****   config.engine_displacement_cc = 2400;
 660              		.loc 1 140 22 is_stmt 0 view .LVU205
 661 0216 4FF47A62 		mov	r2, #4000
 662 021a A3F88C22 		strh	r2, [r3, #652]	@ movhi
 141:controller/controller.c **** 
 663              		.loc 1 141 3 is_stmt 1 view .LVU206
 141:controller/controller.c **** 
 664              		.loc 1 141 33 is_stmt 0 view .LVU207
 665 021e 4FF41662 		mov	r2, #2400
 666 0222 A3F88E22 		strh	r2, [r3, #654]	@ movhi
 143:controller/controller.c ****   config.tps1_calib_closed_throttle_adc_value = 1700;
 667              		.loc 1 143 3 is_stmt 1 view .LVU208
 143:controller/controller.c ****   config.tps1_calib_closed_throttle_adc_value = 1700;
 668              		.loc 1 143 50 is_stmt 0 view .LVU209
 669 0226 40F6B830 		movw	r0, #3000
 670 022a A3F89002 		strh	r0, [r3, #656]	@ movhi
 144:controller/controller.c ****   config.tps2_calib_wide_open_throttle_adc_value = 3000;
 671              		.loc 1 144 3 is_stmt 1 view .LVU210
 144:controller/controller.c ****   config.tps2_calib_wide_open_throttle_adc_value = 3000;
 672              		.loc 1 144 47 is_stmt 0 view .LVU211
 673 022e 40F2A462 		movw	r2, #1700
 674 0232 A3F89222 		strh	r2, [r3, #658]	@ movhi
 145:controller/controller.c ****   config.tps2_calib_closed_throttle_adc_value = 1700;
 675              		.loc 1 145 3 is_stmt 1 view .LVU212
 145:controller/controller.c ****   config.tps2_calib_closed_throttle_adc_value = 1700;
 676              		.loc 1 145 50 is_stmt 0 view .LVU213
 677 0236 A3F89402 		strh	r0, [r3, #660]	@ movhi
 146:controller/controller.c **** 
 678              		.loc 1 146 3 is_stmt 1 view .LVU214
 146:controller/controller.c **** 
 679              		.loc 1 146 47 is_stmt 0 view .LVU215
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 23


 680 023a A3F89622 		strh	r2, [r3, #662]	@ movhi
 149:controller/controller.c ****   config.fuel_type = FUEL_TYPE_GAS;
 681              		.loc 1 149 3 is_stmt 1 view .LVU216
 149:controller/controller.c ****   config.fuel_type = FUEL_TYPE_GAS;
 682              		.loc 1 149 23 is_stmt 0 view .LVU217
 683 023e 0022     		movs	r2, #0
 684 0240 83F89822 		strb	r2, [r3, #664]
 150:controller/controller.c ****   config.trigger1_type = TW_58_TOOTH_2_MISSING;
 685              		.loc 1 150 3 is_stmt 1 view .LVU218
 150:controller/controller.c ****   config.trigger1_type = TW_58_TOOTH_2_MISSING;
 686              		.loc 1 150 20 is_stmt 0 view .LVU219
 687 0244 83F89922 		strb	r2, [r3, #665]
 151:controller/controller.c ****   config.trigger1_filtering = TRIGGER_FILTERING_LITE;
 688              		.loc 1 151 3 is_stmt 1 view .LVU220
 151:controller/controller.c ****   config.trigger1_filtering = TRIGGER_FILTERING_LITE;
 689              		.loc 1 151 24 is_stmt 0 view .LVU221
 690 0248 83F89A22 		strb	r2, [r3, #666]
 152:controller/controller.c ****   config.trigger2_type = 0;
 691              		.loc 1 152 3 is_stmt 1 view .LVU222
 152:controller/controller.c ****   config.trigger2_type = 0;
 692              		.loc 1 152 29 is_stmt 0 view .LVU223
 693 024c 0120     		movs	r0, #1
 694 024e 83F89B02 		strb	r0, [r3, #667]
 153:controller/controller.c ****   config.trigger2_filtering = 0;
 695              		.loc 1 153 3 is_stmt 1 view .LVU224
 153:controller/controller.c ****   config.trigger2_filtering = 0;
 696              		.loc 1 153 24 is_stmt 0 view .LVU225
 697 0252 83F89C22 		strb	r2, [r3, #668]
 154:controller/controller.c ****   config.trigger2_enabled = 0;
 698              		.loc 1 154 3 is_stmt 1 view .LVU226
 154:controller/controller.c ****   config.trigger2_enabled = 0;
 699              		.loc 1 154 29 is_stmt 0 view .LVU227
 700 0256 83F89D22 		strb	r2, [r3, #669]
 155:controller/controller.c **** 
 701              		.loc 1 155 3 is_stmt 1 view .LVU228
 155:controller/controller.c **** 
 702              		.loc 1 155 27 is_stmt 0 view .LVU229
 703 025a 83F89E22 		strb	r2, [r3, #670]
 157:controller/controller.c ****   config.injection_mode = IM_SIMULTANEOUS;
 704              		.loc 1 157 3 is_stmt 1 view .LVU230
 157:controller/controller.c ****   config.injection_mode = IM_SIMULTANEOUS;
 705              		.loc 1 157 30 is_stmt 0 view .LVU231
 706 025e 0424     		movs	r4, #4
 707 0260 83F89F42 		strb	r4, [r3, #671]
 158:controller/controller.c **** 
 708              		.loc 1 158 3 is_stmt 1 view .LVU232
 158:controller/controller.c **** 
 709              		.loc 1 158 25 is_stmt 0 view .LVU233
 710 0264 83F8A022 		strb	r2, [r3, #672]
 160:controller/controller.c ****   config.multi_spark_enabled = 0;
 711              		.loc 1 160 3 is_stmt 1 view .LVU234
 160:controller/controller.c ****   config.multi_spark_enabled = 0;
 712              		.loc 1 160 24 is_stmt 0 view .LVU235
 713 0268 0224     		movs	r4, #2
 714 026a 83F8A142 		strb	r4, [r3, #673]
 161:controller/controller.c ****   config.multi_spark_number_of_sparks = 5;
 715              		.loc 1 161 3 is_stmt 1 view .LVU236
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 24


 161:controller/controller.c ****   config.multi_spark_number_of_sparks = 5;
 716              		.loc 1 161 30 is_stmt 0 view .LVU237
 717 026e 83F8A222 		strb	r2, [r3, #674]
 162:controller/controller.c **** 
 718              		.loc 1 162 3 is_stmt 1 view .LVU238
 162:controller/controller.c **** 
 719              		.loc 1 162 39 is_stmt 0 view .LVU239
 720 0272 0524     		movs	r4, #5
 721 0274 83F8A342 		strb	r4, [r3, #675]
 164:controller/controller.c ****   config.tps2_calib_is_inverted = 0;
 722              		.loc 1 164 3 is_stmt 1 view .LVU240
 164:controller/controller.c ****   config.tps2_calib_is_inverted = 0;
 723              		.loc 1 164 33 is_stmt 0 view .LVU241
 724 0278 83F8A422 		strb	r2, [r3, #676]
 165:controller/controller.c **** 
 725              		.loc 1 165 3 is_stmt 1 view .LVU242
 165:controller/controller.c **** 
 726              		.loc 1 165 33 is_stmt 0 view .LVU243
 727 027c 83F8A522 		strb	r2, [r3, #677]
 167:controller/controller.c ****   config.sensor_iat_type = SENSOR_IAT_TYPE_TEST;
 728              		.loc 1 167 3 is_stmt 1 view .LVU244
 167:controller/controller.c ****   config.sensor_iat_type = SENSOR_IAT_TYPE_TEST;
 729              		.loc 1 167 26 is_stmt 0 view .LVU245
 730 0280 83F8A622 		strb	r2, [r3, #678]
 168:controller/controller.c ****   config.sensor_map_type = SENSOR_MAP_TYPE_TEST;
 731              		.loc 1 168 3 is_stmt 1 view .LVU246
 168:controller/controller.c ****   config.sensor_map_type = SENSOR_MAP_TYPE_TEST;
 732              		.loc 1 168 26 is_stmt 0 view .LVU247
 733 0284 83F8A722 		strb	r2, [r3, #679]
 169:controller/controller.c **** 
 734              		.loc 1 169 3 is_stmt 1 view .LVU248
 169:controller/controller.c **** 
 735              		.loc 1 169 26 is_stmt 0 view .LVU249
 736 0288 83F8A822 		strb	r2, [r3, #680]
 171:controller/controller.c ****   config.protection_oil_pressure_enabled = 0;
 737              		.loc 1 171 3 is_stmt 1 view .LVU250
 171:controller/controller.c ****   config.protection_oil_pressure_enabled = 0;
 738              		.loc 1 171 39 is_stmt 0 view .LVU251
 739 028c 0324     		movs	r4, #3
 740 028e 83F8A942 		strb	r4, [r3, #681]
 172:controller/controller.c ****   config.protection_clt_enabled = 0;
 741              		.loc 1 172 3 is_stmt 1 view .LVU252
 172:controller/controller.c ****   config.protection_clt_enabled = 0;
 742              		.loc 1 172 42 is_stmt 0 view .LVU253
 743 0292 83F8AA22 		strb	r2, [r3, #682]
 173:controller/controller.c ****   config.protection_clt_load_disconnect_enabled = 0;
 744              		.loc 1 173 3 is_stmt 1 view .LVU254
 173:controller/controller.c ****   config.protection_clt_load_disconnect_enabled = 0;
 745              		.loc 1 173 33 is_stmt 0 view .LVU255
 746 0296 83F8AB22 		strb	r2, [r3, #683]
 174:controller/controller.c **** 
 747              		.loc 1 174 3 is_stmt 1 view .LVU256
 174:controller/controller.c **** 
 748              		.loc 1 174 49 is_stmt 0 view .LVU257
 749 029a 83F8AC22 		strb	r2, [r3, #684]
 176:controller/controller.c ****   config.etb2_enabled = 0;
 750              		.loc 1 176 3 is_stmt 1 view .LVU258
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 25


 176:controller/controller.c ****   config.etb2_enabled = 0;
 751              		.loc 1 176 23 is_stmt 0 view .LVU259
 752 029e 83F8AD02 		strb	r0, [r3, #685]
 177:controller/controller.c ****   config.etb1_motor_inverted = 0;
 753              		.loc 1 177 3 is_stmt 1 view .LVU260
 177:controller/controller.c ****   config.etb1_motor_inverted = 0;
 754              		.loc 1 177 23 is_stmt 0 view .LVU261
 755 02a2 83F8AE22 		strb	r2, [r3, #686]
 178:controller/controller.c ****   config.etb2_motor_inverted = 0;
 756              		.loc 1 178 3 is_stmt 1 view .LVU262
 178:controller/controller.c ****   config.etb2_motor_inverted = 0;
 757              		.loc 1 178 30 is_stmt 0 view .LVU263
 758 02a6 83F8AF22 		strb	r2, [r3, #687]
 179:controller/controller.c **** 
 759              		.loc 1 179 3 is_stmt 1 view .LVU264
 179:controller/controller.c **** 
 760              		.loc 1 179 30 is_stmt 0 view .LVU265
 761 02aa 83F8B022 		strb	r2, [r3, #688]
 181:controller/controller.c ****   config.fan2_enabled = 0;
 762              		.loc 1 181 3 is_stmt 1 view .LVU266
 181:controller/controller.c ****   config.fan2_enabled = 0;
 763              		.loc 1 181 23 is_stmt 0 view .LVU267
 764 02ae 83F8B122 		strb	r2, [r3, #689]
 182:controller/controller.c **** 
 765              		.loc 1 182 3 is_stmt 1 view .LVU268
 182:controller/controller.c **** 
 766              		.loc 1 182 23 is_stmt 0 view .LVU269
 767 02b2 83F8B222 		strb	r2, [r3, #690]
 184:controller/controller.c ****   config.tps2_type = 0;
 768              		.loc 1 184 3 is_stmt 1 view .LVU270
 184:controller/controller.c ****   config.tps2_type = 0;
 769              		.loc 1 184 20 is_stmt 0 view .LVU271
 770 02b6 83F8B322 		strb	r2, [r3, #691]
 185:controller/controller.c **** 
 771              		.loc 1 185 3 is_stmt 1 view .LVU272
 185:controller/controller.c **** 
 772              		.loc 1 185 20 is_stmt 0 view .LVU273
 773 02ba 83F8B422 		strb	r2, [r3, #692]
 188:controller/controller.c ****   config._padding[1] = 0;
 774              		.loc 1 188 3 is_stmt 1 view .LVU274
 188:controller/controller.c ****   config._padding[1] = 0;
 775              		.loc 1 188 22 is_stmt 0 view .LVU275
 776 02be 83F8B522 		strb	r2, [r3, #693]
 189:controller/controller.c ****   config._padding[2] = 0;
 777              		.loc 1 189 3 is_stmt 1 view .LVU276
 189:controller/controller.c ****   config._padding[2] = 0;
 778              		.loc 1 189 22 is_stmt 0 view .LVU277
 779 02c2 83F8B622 		strb	r2, [r3, #694]
 190:controller/controller.c **** 
 780              		.loc 1 190 3 is_stmt 1 view .LVU278
 190:controller/controller.c **** 
 781              		.loc 1 190 22 is_stmt 0 view .LVU279
 782 02c6 83F8B722 		strb	r2, [r3, #695]
 193:controller/controller.c **** }
 783              		.loc 1 193 3 is_stmt 1 view .LVU280
 193:controller/controller.c **** }
 784              		.loc 1 193 19 is_stmt 0 view .LVU281
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 26


 785 02ca 01F59651 		add	r1, r1, #4800
 786 02ce 0022     		movs	r2, #0
 787 02d0 0023     		movs	r3, #0
 788 02d2 41E90223 		strd	r2, [r1, #-8]
 194:controller/controller.c **** 
 789              		.loc 1 194 1 view .LVU282
 790 02d6 BDEC028B 		vldm	sp!, {d8}
 791              		.cfi_restore 80
 792              		.cfi_restore 81
 793              		.cfi_def_cfa_offset 8
 794 02da 10BD     		pop	{r4, pc}
 795              	.L38:
 796              		.align	2
 797              	.L37:
 798 02dc 00008C42 		.word	1116471296
 799 02e0 00000000 		.word	config
 800 02e4 D00F4940 		.word	1078530000
 801 02e8 CDCC4C3F 		.word	1061997773
 802 02ec CDCC4C3E 		.word	1045220557
 803 02f0 0000F042 		.word	1123024896
 804 02f4 0000803D 		.word	1031798784
 805 02f8 0000C843 		.word	1137180672
 806 02fc 00002041 		.word	1092616192
 807 0300 00002040 		.word	1075838976
 808 0304 00C05A45 		.word	1163575296
 809 0308 00007041 		.word	1097859072
 810 030c 33336B41 		.word	1097544499
 811 0310 0080BB44 		.word	1153138688
 812 0314 00805444 		.word	1146388480
 813 0318 CDCCCC3D 		.word	1036831949
 814 031c 0000C8C2 		.word	-1027080192
 815 0320 0000C842 		.word	1120403456
 816 0324 0000DC42 		.word	1121714176
 817 0328 0000BE42 		.word	1119748096
 818 032c 0000B442 		.word	1119092736
 819 0330 00007F43 		.word	1132396544
 820              		.cfi_endproc
 821              	.LFE232:
 823              		.section	.text.controller_load_configuration,"ax",%progbits
 824              		.align	1
 825              		.global	controller_load_configuration
 826              		.syntax unified
 827              		.thumb
 828              		.thumb_func
 830              	controller_load_configuration:
 831              	.LFB234:
 316:controller/controller.c ****   EE_Read();
 832              		.loc 1 316 1 is_stmt 1 view -0
 833              		.cfi_startproc
 834              		@ args = 0, pretend = 0, frame = 0
 835              		@ frame_needed = 0, uses_anonymous_args = 0
 836 0000 08B5     		push	{r3, lr}
 837              		.cfi_def_cfa_offset 8
 838              		.cfi_offset 3, -8
 839              		.cfi_offset 14, -4
 317:controller/controller.c ****   // Validate loaded data (checksum)
 840              		.loc 1 317 3 view .LVU284
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 27


 841 0002 FFF7FEFF 		bl	EE_Read
 842              	.LVL49:
 319:controller/controller.c **** 
 843              		.loc 1 319 1 is_stmt 0 view .LVU285
 844 0006 08BD     		pop	{r3, pc}
 845              		.cfi_endproc
 846              	.LFE234:
 848              		.section	.rodata.controller_init.str1.4,"aMS",%progbits,1
 849              		.align	2
 850              	.LC0:
 851 0000 4E6F7420 		.ascii	"Not able to init eeprom\000"
 851      61626C65 
 851      20746F20 
 851      696E6974 
 851      20656570 
 852              		.align	2
 853              	.LC1:
 854 0018 45455052 		.ascii	"EEPROM data is invalid\000"
 854      4F4D2064 
 854      61746120 
 854      69732069 
 854      6E76616C 
 855 002f 00       		.align	2
 856              	.LC2:
 857 0030 74657374 		.ascii	"test_task\000"
 857      5F746173 
 857      6B00
 858 003a 0000     		.align	2
 859              	.LC3:
 860 003c 74657374 		.ascii	"test2_task\000"
 860      325F7461 
 860      736B00
 861 0047 00       		.align	2
 862              	.LC4:
 863 0048 73656E73 		.ascii	"sensor_task\000"
 863      6F725F74 
 863      61736B00 
 864              		.align	2
 865              	.LC5:
 866 0054 6C6F6E67 		.ascii	"long_routines\000"
 866      5F726F75 
 866      74696E65 
 866      7300
 867              		.section	.text.controller_init,"ax",%progbits
 868              		.align	1
 869              		.global	controller_init
 870              		.syntax unified
 871              		.thumb
 872              		.thumb_func
 874              	controller_init:
 875              	.LFB233:
 197:controller/controller.c **** 
 876              		.loc 1 197 1 is_stmt 1 view -0
 877              		.cfi_startproc
 878              		@ args = 0, pretend = 0, frame = 144
 879              		@ frame_needed = 0, uses_anonymous_args = 0
 880 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 28


 881              		.cfi_def_cfa_offset 32
 882              		.cfi_offset 4, -32
 883              		.cfi_offset 5, -28
 884              		.cfi_offset 6, -24
 885              		.cfi_offset 7, -20
 886              		.cfi_offset 8, -16
 887              		.cfi_offset 9, -12
 888              		.cfi_offset 10, -8
 889              		.cfi_offset 14, -4
 890 0004 A6B0     		sub	sp, sp, #152
 891              		.cfi_def_cfa_offset 184
 200:controller/controller.c ****   memset(&config, 0, sizeof(config));
 892              		.loc 1 200 3 view .LVU287
 893 0006 5422     		movs	r2, #84
 894 0008 0021     		movs	r1, #0
 895 000a 6348     		ldr	r0, .L49
 896 000c FFF7FEFF 		bl	memset
 897              	.LVL50:
 201:controller/controller.c ****   
 898              		.loc 1 201 3 view .LVU288
 899 0010 624C     		ldr	r4, .L49+4
 900 0012 4FF49655 		mov	r5, #4800
 901 0016 2A46     		mov	r2, r5
 902 0018 0021     		movs	r1, #0
 903 001a 2046     		mov	r0, r4
 904 001c FFF7FEFF 		bl	memset
 905              	.LVL51:
 203:controller/controller.c ****   {
 906              		.loc 1 203 3 view .LVU289
 203:controller/controller.c ****   {
 907              		.loc 1 203 7 is_stmt 0 view .LVU290
 908 0020 2946     		mov	r1, r5
 909 0022 2046     		mov	r0, r4
 910 0024 FFF7FEFF 		bl	EE_Init
 911              	.LVL52:
 203:controller/controller.c ****   {
 912              		.loc 1 203 6 discriminator 1 view .LVU291
 913 0028 0028     		cmp	r0, #0
 914 002a 7ED0     		beq	.L46
 915              	.L42:
 208:controller/controller.c ****   if (config.checksum != CONFIG_CHECKSUM) // check the data and if it is wrong, throw an error and 
 916              		.loc 1 208 3 is_stmt 1 view .LVU292
 917 002c FFF7FEFF 		bl	controller_load_configuration
 918              	.LVL53:
 209:controller/controller.c ****   {
 919              		.loc 1 209 3 view .LVU293
 209:controller/controller.c ****   {
 920              		.loc 1 209 13 is_stmt 0 view .LVU294
 921 0030 5B4B     		ldr	r3, .L49+8
 922 0032 53F8081C 		ldr	r1, [r3, #-8]
 923 0036 53F8043C 		ldr	r3, [r3, #-4]
 209:controller/controller.c ****   {
 924              		.loc 1 209 6 view .LVU295
 925 003a 5A4A     		ldr	r2, .L49+12
 926 003c 202B     		cmp	r3, #32
 927 003e 08BF     		it	eq
 928 0040 9142     		cmpeq	r1, r2
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 29


 929 0042 78D1     		bne	.L47
 930              	.L43:
 217:controller/controller.c **** 
 931              		.loc 1 217 3 is_stmt 1 view .LVU296
 932 0044 5848     		ldr	r0, .L49+16
 933 0046 FFF7FEFF 		bl	controller_timing_start
 934              	.LVL54:
 220:controller/controller.c **** 
 935              		.loc 1 220 3 view .LVU297
 936 004a 5848     		ldr	r0, .L49+20
 937 004c FFF7FEFF 		bl	analog_inputs_init
 938              	.LVL55:
 222:controller/controller.c **** 
 939              		.loc 1 222 3 view .LVU298
 222:controller/controller.c **** 
 940              		.loc 1 222 33 is_stmt 0 view .LVU299
 941 0050 574C     		ldr	r4, .L49+24
 222:controller/controller.c **** 
 942              		.loc 1 222 3 view .LVU300
 943 0052 0123     		movs	r3, #1
 944 0054 0093     		str	r3, [sp]
 945 0056 0323     		movs	r3, #3
 946 0058 04F29B22 		addw	r2, r4, #667
 947 005c 94F89A12 		ldrb	r1, [r4, #666]	@ zero_extendqisi2
 948 0060 5448     		ldr	r0, .L49+28
 949 0062 FFF7FEFF 		bl	trigger_init
 950              	.LVL56:
 227:controller/controller.c **** 
 951              		.loc 1 227 3 is_stmt 1 view .LVU301
 952 0066 94F8A612 		ldrb	r1, [r4, #678]	@ zero_extendqisi2
 953 006a 5348     		ldr	r0, .L49+32
 954 006c FFF7FEFF 		bl	sensor_clt_init
 955              	.LVL57:
 230:controller/controller.c **** 
 956              		.loc 1 230 3 view .LVU302
 957 0070 94F8A712 		ldrb	r1, [r4, #679]	@ zero_extendqisi2
 958 0074 5148     		ldr	r0, .L49+36
 959 0076 FFF7FEFF 		bl	sensor_iat_init
 960              	.LVL58:
 233:controller/controller.c **** 
 961              		.loc 1 233 3 view .LVU303
 962 007a 94F8A812 		ldrb	r1, [r4, #680]	@ zero_extendqisi2
 963 007e 5048     		ldr	r0, .L49+40
 964 0080 FFF7FEFF 		bl	sensor_map_init
 965              	.LVL59:
 244:controller/controller.c **** 
 966              		.loc 1 244 3 view .LVU304
 967 0084 4F48     		ldr	r0, .L49+44
 968 0086 FFF7FEFF 		bl	ignition_init
 969              	.LVL60:
 247:controller/controller.c ****   {
 970              		.loc 1 247 3 view .LVU305
 247:controller/controller.c ****   {
 971              		.loc 1 247 13 is_stmt 0 view .LVU306
 972 008a 94F8AD32 		ldrb	r3, [r4, #685]	@ zero_extendqisi2
 247:controller/controller.c ****   {
 973              		.loc 1 247 6 view .LVU307
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 30


 974 008e 002B     		cmp	r3, #0
 975 0090 57D1     		bne	.L48
 976              	.L44:
 263:controller/controller.c ****   {
 977              		.loc 1 263 3 is_stmt 1 view .LVU308
 279:controller/controller.c **** 
 978              		.loc 1 279 3 view .LVU309
 281:controller/controller.c **** 
 979              		.loc 1 281 3 view .LVU310
 980 0092 FFF7FEFF 		bl	comms_init
 981              	.LVL61:
 284:controller/controller.c ****       .name = "test_task",
 982              		.loc 1 284 3 view .LVU311
 284:controller/controller.c ****       .name = "test_task",
 983              		.loc 1 284 24 is_stmt 0 view .LVU312
 984 0096 1DAF     		add	r7, sp, #116
 985 0098 2425     		movs	r5, #36
 986 009a 2A46     		mov	r2, r5
 987 009c 0021     		movs	r1, #0
 988 009e 3846     		mov	r0, r7
 989 00a0 FFF7FEFF 		bl	memset
 990              	.LVL62:
 991 00a4 484B     		ldr	r3, .L49+48
 992 00a6 1D93     		str	r3, [sp, #116]
 993 00a8 4FF48064 		mov	r4, #1024
 994 00ac 2294     		str	r4, [sp, #136]
 995 00ae 3023     		movs	r3, #48
 996 00b0 2393     		str	r3, [sp, #140]
 289:controller/controller.c ****       .name = "test2_task",
 997              		.loc 1 289 3 is_stmt 1 view .LVU313
 289:controller/controller.c ****       .name = "test2_task",
 998              		.loc 1 289 24 is_stmt 0 view .LVU314
 999 00b2 14AE     		add	r6, sp, #80
 1000 00b4 2A46     		mov	r2, r5
 1001 00b6 0021     		movs	r1, #0
 1002 00b8 3046     		mov	r0, r6
 1003 00ba FFF7FEFF 		bl	memset
 1004              	.LVL63:
 1005 00be 434B     		ldr	r3, .L49+52
 1006 00c0 1493     		str	r3, [sp, #80]
 1007 00c2 1994     		str	r4, [sp, #100]
 1008 00c4 4FF0180A 		mov	r10, #24
 1009 00c8 CDF868A0 		str	r10, [sp, #104]
 294:controller/controller.c ****       .name = "sensor_task",
 1010              		.loc 1 294 3 is_stmt 1 view .LVU315
 294:controller/controller.c ****       .name = "sensor_task",
 1011              		.loc 1 294 24 is_stmt 0 view .LVU316
 1012 00cc 0DF12C09 		add	r9, sp, #44
 1013 00d0 2A46     		mov	r2, r5
 1014 00d2 0021     		movs	r1, #0
 1015 00d4 4846     		mov	r0, r9
 1016 00d6 FFF7FEFF 		bl	memset
 1017              	.LVL64:
 1018 00da 3D4B     		ldr	r3, .L49+56
 1019 00dc 0B93     		str	r3, [sp, #44]
 1020 00de 1094     		str	r4, [sp, #64]
 1021 00e0 2023     		movs	r3, #32
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 31


 1022 00e2 1193     		str	r3, [sp, #68]
 300:controller/controller.c ****       .name = "long_routines",
 1023              		.loc 1 300 3 is_stmt 1 view .LVU317
 300:controller/controller.c ****       .name = "long_routines",
 1024              		.loc 1 300 24 is_stmt 0 view .LVU318
 1025 00e4 0DF10808 		add	r8, sp, #8
 1026 00e8 2A46     		mov	r2, r5
 1027 00ea 0021     		movs	r1, #0
 1028 00ec 4046     		mov	r0, r8
 1029 00ee FFF7FEFF 		bl	memset
 1030              	.LVL65:
 1031 00f2 384B     		ldr	r3, .L49+60
 1032 00f4 0293     		str	r3, [sp, #8]
 1033 00f6 0794     		str	r4, [sp, #28]
 1034 00f8 CDF820A0 		str	r10, [sp, #32]
 307:controller/controller.c ****   osThreadNew(controller_long_routines_task, NULL, &controller_long_routines_attr);
 1035              		.loc 1 307 3 is_stmt 1 view .LVU319
 1036 00fc 4A46     		mov	r2, r9
 1037 00fe 0021     		movs	r1, #0
 1038 0100 3548     		ldr	r0, .L49+64
 1039 0102 FFF7FEFF 		bl	osThreadNew
 1040              	.LVL66:
 308:controller/controller.c ****   osThreadNew(controller_test_task, NULL, &controller_test_attr);
 1041              		.loc 1 308 3 view .LVU320
 1042 0106 4246     		mov	r2, r8
 1043 0108 0021     		movs	r1, #0
 1044 010a 3448     		ldr	r0, .L49+68
 1045 010c FFF7FEFF 		bl	osThreadNew
 1046              	.LVL67:
 309:controller/controller.c ****   osThreadNew(controller_test2_task, NULL, &controller_test2_attr);
 1047              		.loc 1 309 3 view .LVU321
 1048 0110 3A46     		mov	r2, r7
 1049 0112 0021     		movs	r1, #0
 1050 0114 3248     		ldr	r0, .L49+72
 1051 0116 FFF7FEFF 		bl	osThreadNew
 1052              	.LVL68:
 310:controller/controller.c **** 
 1053              		.loc 1 310 3 view .LVU322
 1054 011a 3246     		mov	r2, r6
 1055 011c 0021     		movs	r1, #0
 1056 011e 3148     		ldr	r0, .L49+76
 1057 0120 FFF7FEFF 		bl	osThreadNew
 1058              	.LVL69:
 313:controller/controller.c **** 
 1059              		.loc 1 313 1 is_stmt 0 view .LVU323
 1060 0124 26B0     		add	sp, sp, #152
 1061              		.cfi_remember_state
 1062              		.cfi_def_cfa_offset 32
 1063              		@ sp needed
 1064 0126 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 1065              	.L46:
 1066              		.cfi_restore_state
 205:controller/controller.c ****     log_error("Not able to init eeprom");
 1067              		.loc 1 205 5 is_stmt 1 view .LVU324
 1068 012a FFF7FEFF 		bl	controller_load_test_configuration
 1069              	.LVL70:
 206:controller/controller.c ****   }
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 32


 1070              		.loc 1 206 5 view .LVU325
 1071 012e 2E48     		ldr	r0, .L49+80
 1072 0130 FFF7FEFF 		bl	log_error
 1073              	.LVL71:
 1074 0134 7AE7     		b	.L42
 1075              	.L47:
 211:controller/controller.c ****     log_error("EEPROM data is invalid");
 1076              		.loc 1 211 5 view .LVU326
 1077 0136 FFF7FEFF 		bl	controller_load_test_configuration
 1078              	.LVL72:
 212:controller/controller.c ****   }
 1079              		.loc 1 212 5 view .LVU327
 1080 013a 2C48     		ldr	r0, .L49+84
 1081 013c FFF7FEFF 		bl	log_error
 1082              	.LVL73:
 1083 0140 80E7     		b	.L43
 1084              	.L48:
 1085              	.LBB12:
 249:controller/controller.c ****     dc_motor_init(&etb1_motor, &htim3, TIM_CHANNEL_4, TIM_CHANNEL_3, 20000);
 1086              		.loc 1 249 5 view .LVU328
 249:controller/controller.c ****     dc_motor_init(&etb1_motor, &htim3, TIM_CHANNEL_4, TIM_CHANNEL_3, 20000);
 1087              		.loc 1 249 21 is_stmt 0 view .LVU329
 1088 0142 2B4C     		ldr	r4, .L49+88
 1089 0144 0025     		movs	r5, #0
 1090 0146 84F82050 		strb	r5, [r4, #32]
 250:controller/controller.c ****     pid_init(&etb1_pid);
 1091              		.loc 1 250 5 is_stmt 1 view .LVU330
 1092 014a 2A4F     		ldr	r7, .L49+92
 1093 014c 44F62063 		movw	r3, #20000
 1094 0150 0093     		str	r3, [sp]
 1095 0152 0823     		movs	r3, #8
 1096 0154 0C22     		movs	r2, #12
 1097 0156 2849     		ldr	r1, .L49+96
 1098 0158 3846     		mov	r0, r7
 1099 015a FFF7FEFF 		bl	dc_motor_init
 1100              	.LVL74:
 251:controller/controller.c ****     electronic_throttle_init(&etb1, &etb1_pid, &tps1, &etb1_motor);
 1101              		.loc 1 251 5 view .LVU331
 1102 015e 274E     		ldr	r6, .L49+100
 1103 0160 3046     		mov	r0, r6
 1104 0162 FFF7FEFF 		bl	pid_init
 1105              	.LVL75:
 252:controller/controller.c ****     electronic_throttle_set(&etb1, 0);
 1106              		.loc 1 252 5 view .LVU332
 1107 0166 3B46     		mov	r3, r7
 1108 0168 254A     		ldr	r2, .L49+104
 1109 016a 3146     		mov	r1, r6
 1110 016c 2046     		mov	r0, r4
 1111 016e FFF7FEFF 		bl	electronic_throttle_init
 1112              	.LVL76:
 253:controller/controller.c **** 
 1113              		.loc 1 253 5 view .LVU333
 1114 0172 9FED240A 		vldr.32	s0, .L49+108
 1115 0176 2046     		mov	r0, r4
 1116 0178 FFF7FEFF 		bl	electronic_throttle_set
 1117              	.LVL77:
 255:controller/controller.c ****     etb1_software_timer = osTimerNew(electronic_throttle_update, osTimerPeriodic, &etb1, NULL);
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 33


 1118              		.loc 1 255 5 view .LVU334
 256:controller/controller.c ****     if (etb1_software_timer != NULL)
 1119              		.loc 1 256 5 view .LVU335
 256:controller/controller.c ****     if (etb1_software_timer != NULL)
 1120              		.loc 1 256 27 is_stmt 0 view .LVU336
 1121 017c 2B46     		mov	r3, r5
 1122 017e 2246     		mov	r2, r4
 1123 0180 0121     		movs	r1, #1
 1124 0182 2148     		ldr	r0, .L49+112
 1125 0184 FFF7FEFF 		bl	osTimerNew
 1126              	.LVL78:
 256:controller/controller.c ****     if (etb1_software_timer != NULL)
 1127              		.loc 1 256 25 discriminator 1 view .LVU337
 1128 0188 204B     		ldr	r3, .L49+116
 1129 018a 1860     		str	r0, [r3]
 257:controller/controller.c ****     {
 1130              		.loc 1 257 5 is_stmt 1 view .LVU338
 257:controller/controller.c ****     {
 1131              		.loc 1 257 8 is_stmt 0 view .LVU339
 1132 018c 0028     		cmp	r0, #0
 1133 018e 80D0     		beq	.L44
 259:controller/controller.c ****     }
 1134              		.loc 1 259 7 is_stmt 1 view .LVU340
 1135 0190 0121     		movs	r1, #1
 1136 0192 FFF7FEFF 		bl	osTimerStart
 1137              	.LVL79:
 1138 0196 7CE7     		b	.L44
 1139              	.L50:
 1140              		.align	2
 1141              	.L49:
 1142 0198 00000000 		.word	runtime
 1143 019c 00000000 		.word	config
 1144 01a0 C0120000 		.word	config+4800
 1145 01a4 41F0B69B 		.word	-1682509759
 1146 01a8 00000000 		.word	htim2
 1147 01ac 00000000 		.word	hadc1
 1148 01b0 00100000 		.word	config+4096
 1149 01b4 00000000 		.word	trigger1
 1150 01b8 00000000 		.word	sensor_clt
 1151 01bc 00000000 		.word	sensor_iat
 1152 01c0 00000000 		.word	sensor_map
 1153 01c4 00000000 		.word	ignition_output_pins
 1154 01c8 30000000 		.word	.LC2
 1155 01cc 3C000000 		.word	.LC3
 1156 01d0 48000000 		.word	.LC4
 1157 01d4 54000000 		.word	.LC5
 1158 01d8 00000000 		.word	controller_sensor_task
 1159 01dc 00000000 		.word	controller_long_routines_task
 1160 01e0 00000000 		.word	controller_test_task
 1161 01e4 00000000 		.word	controller_test2_task
 1162 01e8 00000000 		.word	.LC0
 1163 01ec 18000000 		.word	.LC1
 1164 01f0 00000000 		.word	etb1
 1165 01f4 00000000 		.word	etb1_motor
 1166 01f8 00000000 		.word	htim3
 1167 01fc 00000000 		.word	etb1_pid
 1168 0200 00000000 		.word	tps1
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 34


 1169 0204 00000000 		.word	0
 1170 0208 00000000 		.word	electronic_throttle_update
 1171 020c 00000000 		.word	etb1_software_timer.1
 1172              	.LBE12:
 1173              		.cfi_endproc
 1174              	.LFE233:
 1176              		.section	.text.controller_save_configuration,"ax",%progbits
 1177              		.align	1
 1178              		.global	controller_save_configuration
 1179              		.syntax unified
 1180              		.thumb
 1181              		.thumb_func
 1183              	controller_save_configuration:
 1184              	.LFB235:
 322:controller/controller.c ****   bool state = false;
 1185              		.loc 1 322 1 view -0
 1186              		.cfi_startproc
 1187              		@ args = 0, pretend = 0, frame = 0
 1188              		@ frame_needed = 0, uses_anonymous_args = 0
 1189 0000 08B5     		push	{r3, lr}
 1190              		.cfi_def_cfa_offset 8
 1191              		.cfi_offset 3, -8
 1192              		.cfi_offset 14, -4
 323:controller/controller.c ****   config.checksum = CONFIG_CHECKSUM; // implement a proper checksum later
 1193              		.loc 1 323 3 view .LVU342
 1194              	.LVL80:
 324:controller/controller.c ****   state = EE_Write();
 1195              		.loc 1 324 3 view .LVU343
 324:controller/controller.c ****   state = EE_Write();
 1196              		.loc 1 324 19 is_stmt 0 view .LVU344
 1197 0002 074B     		ldr	r3, .L53+8
 1198 0004 04A1     		adr	r1, .L53
 1199 0006 D1E90001 		ldrd	r0, [r1]
 1200 000a 43E90201 		strd	r0, [r3, #-8]
 325:controller/controller.c ****   return state;
 1201              		.loc 1 325 3 is_stmt 1 view .LVU345
 325:controller/controller.c ****   return state;
 1202              		.loc 1 325 11 is_stmt 0 view .LVU346
 1203 000e FFF7FEFF 		bl	EE_Write
 1204              	.LVL81:
 326:controller/controller.c **** }
 1205              		.loc 1 326 3 is_stmt 1 view .LVU347
 327:controller/controller.c **** 
 1206              		.loc 1 327 1 is_stmt 0 view .LVU348
 1207 0012 08BD     		pop	{r3, pc}
 1208              	.L54:
 1209 0014 AFF30080 		.align	3
 1210              	.L53:
 1211 0018 41F0B69B 		.word	-1682509759
 1212 001c 20000000 		.word	32
 1213 0020 C0120000 		.word	config+4800
 1214              		.cfi_endproc
 1215              	.LFE235:
 1217              		.section	.bss.simulated_rpm.0,"aw",%nobits
 1218              		.align	2
 1221              	simulated_rpm.0:
 1222 0000 00000000 		.space	4
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 35


 1223              		.section	.bss.etb1_software_timer.1,"aw",%nobits
 1224              		.align	2
 1227              	etb1_software_timer.1:
 1228 0000 00000000 		.space	4
 1229              		.global	trigger1
 1230              		.section	.bss.trigger1,"aw",%nobits
 1231              		.align	2
 1234              	trigger1:
 1235 0000 00000000 		.space	44
 1235      00000000 
 1235      00000000 
 1235      00000000 
 1235      00000000 
 1236              		.section	.data.ignition_output_pins,"aw"
 1237              		.align	2
 1240              	ignition_output_pins:
 1241 0000 00040240 		.word	1073873920
 1242 0004 20000000 		.word	32
 1243 0008 00040240 		.word	1073873920
 1244 000c 10000000 		.word	16
 1245 0010 00040240 		.word	1073873920
 1246 0014 08000000 		.word	8
 1247 0018 000C0240 		.word	1073875968
 1248 001c 04000000 		.word	4
 1249              		.section	.bss.sensor_map,"aw",%nobits
 1250              		.align	2
 1253              	sensor_map:
 1254 0000 00000000 		.space	6
 1254      0000
 1255              		.section	.bss.sensor_iat,"aw",%nobits
 1256              		.align	2
 1259              	sensor_iat:
 1260 0000 00000000 		.space	24
 1260      00000000 
 1260      00000000 
 1260      00000000 
 1260      00000000 
 1261              		.section	.bss.sensor_clt,"aw",%nobits
 1262              		.align	2
 1265              	sensor_clt:
 1266 0000 00000000 		.space	24
 1266      00000000 
 1266      00000000 
 1266      00000000 
 1266      00000000 
 1267              		.section	.data.etb1_pid,"aw"
 1268              		.align	2
 1271              	etb1_pid:
 1272 0000 00007041 		.word	1097859072
 1273 0004 0000A040 		.word	1084227584
 1274 0008 6F12833A 		.word	981668463
 1275 000c 0AD7233C 		.word	1008981770
 1276 0010 0000C8C2 		.word	-1027080192
 1277 0014 0000C842 		.word	1120403456
 1278 0018 000048C2 		.word	-1035468800
 1279 001c 00004842 		.word	1112014848
 1280 0020 00000000 		.space	20
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 36


 1280      00000000 
 1280      00000000 
 1280      00000000 
 1280      00000000 
 1281 0034 00000000 		.word	0
 1282 0038 00000000 		.space	4
 1283              		.section	.bss.etb1_motor,"aw",%nobits
 1284              		.align	2
 1287              	etb1_motor:
 1288 0000 00000000 		.space	24
 1288      00000000 
 1288      00000000 
 1288      00000000 
 1288      00000000 
 1289              		.section	.bss.etb1,"aw",%nobits
 1290              		.align	2
 1293              	etb1:
 1294 0000 00000000 		.space	36
 1294      00000000 
 1294      00000000 
 1294      00000000 
 1294      00000000 
 1295              		.section	.data.tps1,"aw"
 1296              		.align	2
 1299              	tps1:
 1300 0000 620C     		.short	3170
 1301 0002 4D06     		.short	1613
 1302 0004 01       		.byte	1
 1303 0005 00       		.space	1
 1304 0006 00       		.byte	0
 1305 0007 00       		.space	1
 1306              		.global	runtime
 1307              		.section	.bss.runtime,"aw",%nobits
 1308              		.align	2
 1311              	runtime:
 1312 0000 00000000 		.space	84
 1312      00000000 
 1312      00000000 
 1312      00000000 
 1312      00000000 
 1313              		.global	config
 1314              		.section	.bss.config,"aw",%nobits
 1315              		.align	3
 1318              	config:
 1319 0000 00000000 		.space	4800
 1319      00000000 
 1319      00000000 
 1319      00000000 
 1319      00000000 
 1320              		.text
 1321              	.Letext0:
 1322              		.file 2 "C:/Users/alireza/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-
 1323              		.file 3 "C:/Users/alireza/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-
 1324              		.file 4 "C:/Users/alireza/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-
 1325              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f401xc.h"
 1326              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 1327              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 37


 1328              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 1329              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_adc.h"
 1330              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 1331              		.file 11 "controller/types.h"
 1332              		.file 12 "Core/Inc/tim.h"
 1333              		.file 13 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS_V2/cmsis_os2.h"
 1334              		.file 14 "controller/tables.h"
 1335              		.file 15 "controller/config_and_runtime.h"
 1336              		.file 16 "controller/engine_cycle/trigger.h"
 1337              		.file 17 "controller/actuators/dc_motors.h"
 1338              		.file 18 "controller/IO/analog_inputs.h"
 1339              		.file 19 "controller/IO/resistor.h"
 1340              		.file 20 "controller/IO/thermistor.h"
 1341              		.file 21 "controller/IO/sensors.h"
 1342              		.file 22 "controller/utils/pid.h"
 1343              		.file 23 "controller/actuators/electronic_throttle.h"
 1344              		.file 24 "Core/Inc/adc.h"
 1345              		.file 25 "controller/controller.h"
 1346              		.file 26 "controller/utils/trigger_simulator.h"
 1347              		.file 27 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 1348              		.file 28 "controller/utils/timing.h"
 1349              		.file 29 "controller/utils/ee.h"
 1350              		.file 30 "controller/actuators/fan_control.h"
 1351              		.file 31 "controller/utils/comms.h"
 1352              		.file 32 "controller/engine_cycle/ignition.h"
 1353              		.file 33 "controller/utils/error_handling.h"
 1354              		.file 34 "C:/Users/alireza/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev
 1355              		.file 35 "C:/Users/alireza/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev
 1356              		.file 36 "<built-in>"
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 38


DEFINED SYMBOLS
                            *ABS*:00000000 controller.c
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:21     .text.controller_long_routines_task:00000000 $t
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:27     .text.controller_long_routines_task:00000000 controller_long_routines_task
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:71     .text.controller_long_routines_task:0000002c $d
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1311   .bss.runtime:00000000 runtime
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:78     .text.controller_test2_task:00000000 $t
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:84     .text.controller_test2_task:00000000 controller_test2_task
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:173    .text.controller_test2_task:00000064 $d
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1293   .bss.etb1:00000000 etb1
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:182    .text.controller_sensor_task:00000000 $t
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:188    .text.controller_sensor_task:00000000 controller_sensor_task
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:245    .text.controller_sensor_task:00000038 $d
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1299   .data.tps1:00000000 tps1
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:251    .text.controller_test_task:00000000 $t
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:257    .text.controller_test_task:00000000 controller_test_task
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:303    .text.controller_test_task:0000002c $d
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1234   .bss.trigger1:00000000 trigger1
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1221   .bss.simulated_rpm.0:00000000 simulated_rpm.0
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:311    .text.controller_load_test_configuration:00000000 $t
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:317    .text.controller_load_test_configuration:00000000 controller_load_test_configuration
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:798    .text.controller_load_test_configuration:000002dc $d
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1318   .bss.config:00000000 config
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:824    .text.controller_load_configuration:00000000 $t
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:830    .text.controller_load_configuration:00000000 controller_load_configuration
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:849    .rodata.controller_init.str1.4:00000000 $d
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:868    .text.controller_init:00000000 $t
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:874    .text.controller_init:00000000 controller_init
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1142   .text.controller_init:00000198 $d
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1265   .bss.sensor_clt:00000000 sensor_clt
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1259   .bss.sensor_iat:00000000 sensor_iat
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1253   .bss.sensor_map:00000000 sensor_map
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1240   .data.ignition_output_pins:00000000 ignition_output_pins
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1287   .bss.etb1_motor:00000000 etb1_motor
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1271   .data.etb1_pid:00000000 etb1_pid
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1227   .bss.etb1_software_timer.1:00000000 etb1_software_timer.1
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1177   .text.controller_save_configuration:00000000 $t
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1183   .text.controller_save_configuration:00000000 controller_save_configuration
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1211   .text.controller_save_configuration:00000018 $d
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1218   .bss.simulated_rpm.0:00000000 $d
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1224   .bss.etb1_software_timer.1:00000000 $d
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1231   .bss.trigger1:00000000 $d
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1237   .data.ignition_output_pins:00000000 $d
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1250   .bss.sensor_map:00000000 $d
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1256   .bss.sensor_iat:00000000 $d
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1262   .bss.sensor_clt:00000000 $d
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1268   .data.etb1_pid:00000000 $d
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1284   .bss.etb1_motor:00000000 $d
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1290   .bss.etb1:00000000 $d
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1296   .data.tps1:00000000 $d
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1308   .bss.runtime:00000000 $d
C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s:1315   .bss.config:00000000 $d

UNDEFINED SYMBOLS
get_time_ms
fan_control_update
HAL_GPIO_TogglePin
ARM GAS  C:\Users\alireza\AppData\Local\Temp\ccFnyPaN.s 			page 39


osDelay
electronic_throttle_set
sensor_tps_get
sensor_clt_get
sensor_iat_get
sensor_egt_get
vbat_get
trigger_simulator_init
trigger_simulator_update
trigger_tooth_handle
sinf
EE_Read
memset
EE_Init
controller_timing_start
analog_inputs_init
trigger_init
sensor_clt_init
sensor_iat_init
sensor_map_init
ignition_init
comms_init
osThreadNew
log_error
dc_motor_init
pid_init
electronic_throttle_init
osTimerNew
osTimerStart
htim2
hadc1
htim3
electronic_throttle_update
EE_Write
